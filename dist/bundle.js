/*! For license information please see bundle.js.LICENSE.txt */
!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=17)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var i=r(11),n=r(13);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(14);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&m[b]||(_=_.substr(2),this.slashes=!0)}if(!m[b]&&(E||b&&!y[b])){for(var w,A,S=-1,P=0;P<d.length;P++){-1!==(O=_.indexOf(d[P]))&&(-1===S||O<S)&&(S=O)}-1!==(A=-1===S?_.lastIndexOf("@"):_.lastIndexOf("@",S))&&(w=_.slice(0,A),_=_.slice(A+1),this.auth=decodeURIComponent(w)),S=-1;for(P=0;P<c.length;P++){var O;-1!==(O=_.indexOf(c[P]))&&(-1===S||O<S)&&(S=O)}-1===S&&(S=_.length),this.host=_.slice(0,S),_=_.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),M=(P=0,C.length);P<M;P++){var R=C[P];if(R&&!R.match(p)){for(var D="",N=0,L=R.length;N<L;N++)R.charCodeAt(N)>127?D+="x":D+=R[N];if(!D.match(p)){var F=C.slice(0,P),U=C.slice(P+1),B=R.match(f);B&&(F.push(B[1]),U.unshift(B[2])),U.length&&(_="/"+U.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var k=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+k,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[T])for(P=0,M=l.length;P<M;P++){var H=l[P];if(-1!==_.indexOf(H)){var X=encodeURIComponent(H);X===H&&(X=escape(H)),_=_.split(H).join(X)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var Y=this.search||"";this.path=k+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||r.host&&t.pathname,T=b,E=r.pathname&&r.pathname.split("/")||[],w=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===E[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(w)r.hostname=r.host=E.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===A||".."===A)||""===A,P=0,O=E.length;O>=0;O--)"."===(A=E[O])?E.splice(O,1):".."===A?(E.splice(O,1),P++):P&&(E.splice(O,1),P--);if(!b&&!T)for(;P--;P)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var I,C=""===E[0]||E[0]&&"/"===E[0].charAt(0);w&&(r.hostname=r.host=C?"":E.length?E.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(b=b||r.host&&E.length)&&!C&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||t,o),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},u.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||h(this,o);else{for(var a=0,u=[],l=s.length;a<l;a++)(s[a].fn!==e||i&&!s[a].once||r&&s[a].context!==r)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:h(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,h,u,l,p,f,m=e&&e.length,y=m?e[0]*r:t.length,g=n(t,0,y,r,!0),_=[];if(!g||g.next===g.prev)return _;if(m&&(g=function(t,e,r,i){var s,a,h,u,l,p=[];for(s=0,a=e.length;s<a;s++)h=e[s]*i,u=s<a-1?e[s+1]*i:t.length,(l=n(t,h,u,i,!1))===l.next&&(l.steiner=!0),p.push(v(l));for(p.sort(c),s=0;s<p.length;s++)d(p[s],r),r=o(r,r.next);return r}(t,e,g,r)),t.length>80*r){i=h=t[0],a=u=t[1];for(var x=r;x<y;x+=r)(l=t[x])<i&&(i=l),(p=t[x+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);f=0!==(f=Math.max(h-i,u-a))?1/f:0}return s(g,_,r,i,a,f),_}function n(t,e,r,i,n){var o,s;if(n===O(t,e,r,i)>0)for(o=e;o<r;o+=i)s=A(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=A(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(S(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!_(i,i.next)&&0!==g(i.prev,i,i.next))i=i.next;else{if(S(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,c,d){if(t){!d&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=f(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,i,n,c);for(var p,v,m=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?h(t,i,n,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),S(t),t=v.next,m=v.next;else if((t=v)===m){d?1===d?s(t=u(o(t),e,r),e,r,i,n,c,2):2===d&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(g(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(m(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&g(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,o=t,s=t.next;if(g(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=f(a,h,e,r,i),d=f(u,l,e,r,i),p=t.prevZ,v=t.nextZ;p&&p.z>=c&&v&&v.z<=d;){if(p!==t.prev&&p!==t.next&&m(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&m(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&m(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=d;){if(v!==t.prev&&v!==t.next&&m(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!_(n,s)&&x(n,i,i.next,s)&&E(n,s)&&E(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),S(i),S(i.next),i=t=s),i=i.next}while(i!==t);return o(i)}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&y(h,u)){var l=w(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,r,i,n,a),void s(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,c=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&m(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),E(i,t)&&(h<d||h===d&&(i.x>r.x||i.x===r.x&&p(r,i)))&&(r=i,d=h)),i=i.next}while(i!==u);return r}(t,e)){var r=w(e,t);o(e,e.next),o(r,r.next)}}function p(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function f(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function m(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&x(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||_(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,r,i){var n=T(g(t,e,r)),o=T(g(t,e,i)),s=T(g(r,i,t)),a=T(g(r,i,e));return n!==o&&s!==a||(!(0!==n||!b(t,r,e))||(!(0!==o||!b(t,i,e))||(!(0!==s||!b(r,t,i))||!(0!==a||!b(r,e,i)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function T(t){return t>0?1:t<0?-1:0}function E(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var r=new P(t.i,t.x,t.y),i=new P(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function A(t,e,r,i){var n=new P(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(O(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(O(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){(function(i,n){var o;!function(i){var s=i.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?s:E,e.Polyfill=E):void 0===(o=function(){return a?s:E}.call(e,r,e,t))||(t.exports=o);var h=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c=void 0!==n?n:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],l=!1}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function v(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r="fulfilled";try{i=n(i)}catch(t){_(o,t)}}m(o,i)||("fulfilled"===r&&y(o,i),"rejected"===r&&_(o,i))}function m(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?y(t,i):g(t,i))}),(function(e){r||(r=!0,_(t,e))})),!0}}catch(e){return r||_(t,e),!0}return!1}function y(t,e){t!==e&&m(t,e)||g(t,e)}function g(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(b,t))}function _(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(T,t))}function x(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)v(e[r])}function b(t){t.state_="fulfilled",x(t)}function T(t){t.state_="rejected",x(t)}function E(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof E==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){_(e,t)}try{t((function(t){y(e,t)}),r)}catch(t){r(t)}}(t,this)}E.prototype={constructor:E,state_:"pending",then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return"fulfilled"===this.state_||"rejected"===this.state_?f(v,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},E.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)}))},E.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},E.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},E.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this)}).call(this,r(1),r(8).setImmediate)},function(t,e,r){"use strict";var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,h=s(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))n.call(r,l)&&(h[l]=r[l]);if(i){a=i(r);for(var c=0;c<a.length;c++)o.call(r,a[c])&&(h[a[c]]=r[a[c]])}}return h}},function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(9),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(1))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n,o,s,a,h=1,u={},l=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):i=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return u[h]=n,i(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(1),r(10))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(t,i){var n;!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function v(t){throw RangeError(d[t])}function m(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function y(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+m((t=t.replace(c,".")).split("."),e).join(".")}function g(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function _(t){return m(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=f(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,r){var i=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;i+=36)t=p(t/35);return p(i+36*t/(t+38))}function T(t){var e,r,i,n,o,s,a,u,l,c,d,f=[],m=t.length,y=0,g=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&v("not-basic"),f.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<m;){for(o=y,s=1,a=36;n>=m&&v("invalid-input"),((u=(d=t.charCodeAt(n++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||u>p((h-y)/s))&&v("overflow"),y+=u*s,!(u<(l=a<=x?1:a>=x+26?26:a-x));a+=36)s>p(h/(c=36-l))&&v("overflow"),s*=c;x=b(y-o,e=f.length+1,0==o),p(y/e)>h-g&&v("overflow"),g+=p(y/e),y%=e,f.splice(y++,0,g)}return _(f)}function E(t){var e,r,i,n,o,s,a,u,l,c,d,m,y,_,T,E=[];for(m=(t=g(t)).length,e=128,r=0,o=72,s=0;s<m;++s)(d=t[s])<128&&E.push(f(d));for(i=n=E.length,n&&E.push("-");i<m;){for(a=h,s=0;s<m;++s)(d=t[s])>=e&&d<a&&(a=d);for(a-e>p((h-r)/(y=i+1))&&v("overflow"),r+=(a-e)*y,e=a,s=0;s<m;++s)if((d=t[s])<e&&++r>h&&v("overflow"),d==e){for(u=r,l=36;!(u<(c=l<=o?1:l>=o+26?26:l-o));l+=36)T=u-c,_=36-c,E.push(f(x(c+T%_,0))),u=p(T/_);E.push(f(x(u,0))),o=b(r,y,i==n),r=0,++i}++r,++e}return E.join("")}a={version:"1.3.2",ucs2:{decode:g,encode:_},decode:T,encode:E,toASCII:function(t){return y(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return y(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(12)(t),r(1))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(15),e.encode=e.stringify=r(16)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,v=t[l].replace(a,"%20"),m=v.indexOf(r);m>=0?(c=v.substr(0,m),d=v.substr(m+1)):(c=v,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),i(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(i(s))+r;return n(t[s])?o(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";r.r(e);var i=r(6),n=r(7),o=r.n(n);window.Promise||(window.Promise=i.Polyfill),Object.assign||(Object.assign=o.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var s=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!window.requestAnimationFrame;++u){var l=h[u];window.requestAnimationFrame=window[l+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+a-e;return r<0&&(r=0),a=e,window.setTimeout((function(){a=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var c=/iPhone/i,d=/iPod/i,p=/iPad/i,f=/\biOS-universal(?:.+)Mac\b/i,v=/\bAndroid(?:.+)Mobile\b/i,m=/Android/i,y=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,g=/Silk/i,_=/Windows Phone/i,x=/\bWindows(?:.+)ARM\b/i,b=/BlackBerry/i,T=/BB10/i,E=/Opera Mini/i,w=/\b(CriOS|Chrome)(?:.+)Mobile/i,A=/Mobile(?:.+)Firefox\b/i,S=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var P=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(c)&&!n(_),ipod:n(d),tablet:!n(c)&&(n(p)||S(e))&&!n(_),universal:n(f),device:(n(c)||n(d)||n(p)||n(f)||S(e))&&!n(_)},amazon:{phone:n(y),tablet:!n(y)&&n(g),device:n(y)||n(g)},android:{phone:!n(_)&&n(y)||!n(_)&&n(v),tablet:!n(_)&&!n(y)&&!n(v)&&(n(g)||n(m)),device:!n(_)&&(n(y)||n(g)||n(v)||n(m))||n(/\bokhttp\b/i)},windows:{phone:n(_),tablet:n(x),device:n(_)||n(x)},other:{blackberry:n(b),blackberry10:n(T),opera:n(E),firefox:n(A),chrome:n(w),device:n(b)||n(T)||n(E)||n(A)||n(w)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var O,I,C,M,R,D,N,L,F,U,B,k,j,H,X,G,z,Y={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(P.tablet||P.phone){var r;if(P.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(e=!1);if(P.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:P.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!P.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},V=r(4),W=r.n(V),q=r(5),Z=r.n(q),K=r(2),J=r.n(K);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(O||(O={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(I||(I={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(C||(C={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(M||(M={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(R||(R={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(D||(D={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(N||(N={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(L||(L={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(F||(F={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(U||(U={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(B||(B={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(k||(k={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(j||(j={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(H||(H={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(X||(X={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(G||(G={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(z||(z={})),Y.RETINA_PREFIX=/@([0-9\.]+)x/,Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Q,$=!1;function tt(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function et(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function rt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var it=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[M.NORMAL_NPM]=M.NORMAL,t[M.ADD_NPM]=M.ADD,t[M.SCREEN_NPM]=M.SCREEN,e[M.NORMAL]=M.NORMAL_NPM,e[M.ADD]=M.ADD_NPM,e[M.SCREEN]=M.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function nt(t,e){return it[e?1:0][t]}function ot(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function st(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}Float32Array,Uint32Array,Int32Array,Uint8Array;function at(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function ht(t){return!(t&t-1||!t)}function ut(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function lt(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function ct(t){return 0===t?0:t<0?-1:1}var dt=0;function pt(){return++dt}var ft={};function vt(t,e,r){if(void 0===r&&(r=3),!ft[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),ft[e]=!0}}var mt={},yt=Object.create(null),gt=Object.create(null);var _t=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Y.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();var xt;function bt(t,e){var r=Y.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var Tt,Et=2*Math.PI,wt=180/Math.PI,At=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Tt||(Tt={}));var St=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=Tt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t}(),Pt=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Tt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new St(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),Ot=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=Tt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new St(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),It=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=Tt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t}(),Ct=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=Tt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}(),Mt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),Rt=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Dt=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new Mt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Mt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(Et-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Nt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Lt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ft=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ut=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Bt=[],kt=[],jt=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Bt.push(e);for(var r=0;r<16;r++)for(var i=jt(Nt[t]*Nt[r]+Ft[t]*Lt[r]),n=jt(Lt[t]*Nt[r]+Ut[t]*Lt[r]),o=jt(Nt[t]*Ft[r]+Ft[t]*Ut[r]),s=jt(Lt[t]*Ft[r]+Ut[t]*Ut[r]),a=0;a<16;a++)if(Nt[a]===i&&Lt[a]===n&&Ft[a]===o&&Ut[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new Dt;h.set(Nt[t],Lt[t],Ft[t],Ut[t],0,0),kt.push(h)}}();var Ht={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Nt[t]},uY:function(t){return Lt[t]},vX:function(t){return Ft[t]},vY:function(t){return Ut[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Bt[t][e]},sub:function(t,e){return Bt[t][Ht.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ht.S:Ht.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ht.E:Ht.W:e>0?t>0?Ht.SE:Ht.SW:t>0?Ht.NE:Ht.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=kt[Ht.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Xt=function(){function t(){this.worldTransform=new Dt,this.localTransform=new Dt,this.position=new Rt(this.onChange,this,0,0),this.scale=new Rt(this.onChange,this,1,1),this.pivot=new Rt(this.onChange,this,0,0),this.skew=new Rt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();Y.SORTABLE_CHILDREN=!1;var Gt=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?St.EMPTY:((t=t||new St(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=o*e+a*r+u,m=s*e+h*r+l;c=v<c?v:c,d=m<d?m:d,p=v>p?v:p,f=m>f?m:f,c=(v=o*i+a*r+u)<c?v:c,d=(m=s*i+h*r+l)<d?m:d,p=v>p?v:p,f=m>f?m:f,c=(v=o*e+a*n+u)<c?v:c,d=(m=s*e+h*n+l)<d?m:d,p=v>p?v:p,f=m>f?m:f,c=(v=o*i+a*n+u)<c?v:c,d=(m=s*i+h*n+l)<d?m:d,p=v>p?v:p,f=m>f?m:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,m=r;m<i;m+=2){var y=e[m],g=e[m+1],_=s*y+h*g+l,x=u*g+a*y+c;d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,x-o),v=Math.max(v,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),zt=function(t,e){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Yt(t,e){function r(){this.constructor=t}zt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Vt=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Xt,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Gt,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Yt(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new St),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new St),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Gt);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Wt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*wt},set:function(t){this.transform.rotation=t*At},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(W.a),Wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Yt(e,t),e}(Vt);function qt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Vt.prototype.displayObjectUpdateTransform=Vt.prototype.updateTransform;var Zt=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=Y.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Yt(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);lt(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,lt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,lt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(qt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Vt);Zt.prototype.containerUpdateTransform=Zt.prototype.updateTransform;Vt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Kt,Jt=function(){function t(t){this._hookDiv=null,(P.tablet||P.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(P.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=e.width/this.renderer.width*r,n=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,lt(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var h=a.hitArea,u=a.worldTransform;a.hitArea?(o.style.left=(u.tx+h.x*u.a)*i+"px",o.style.top=(u.ty+h.y*u.d)*n+"px",o.style.width=h.width*u.a*i+"px",o.style.height=h.height*u.d*n+"px"):(h=a.getBounds(),this.capHitArea(h),o.style.left=h.x*i+"px",o.style.top=h.y*n+"px",o.style.width=h.width*i+"px",o.style.height=h.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();Y.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Kt||(Kt={}));var Qt=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),$t=function(){function t(){var t=this;this._head=new Qt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Y.TARGET_FPMS,this.elapsedMS=1/Y.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=Kt.NORMAL),this._addListener(new Qt(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Kt.NORMAL),this._addListener(new Qt(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Y.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Y.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),te=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Kt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?$t.shared:new $t,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),ee=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Mt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ie=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),ne=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),oe=function(){function t(){this._tempPoint=new Mt}return t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),se={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Vt.mixin(se);var ae={target:null,data:{global:null}},he=function(t){function e(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new ee,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new ie,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new oe,i._tempDisplayObject=new Wt,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return ae.target=null,ae.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(ae,e,null,!0),ae.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&($t.system.add(this.tickerUpdate,this,Kt.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&($t.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new ne(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=ne.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new ne(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new ee).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(W.a),ue=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(ue.prototype,{dispatch:{value:ue.prototype.emit},run:{value:ue.prototype.emit}}),Y.PREFER_ENV=P.any?O.WEBGL:O.WEBGL2,Y.STRICT_TEXTURE_CACHE=!1;var le=[];function ce(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=le.length-1;n>=0;--n){var o=le[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var de=function(t,e){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function pe(t,e){function r(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var fe=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new ue("setRealSize"),this.onUpdate=new ue("update"),this.onError=new ue("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),ve=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return pe(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===k.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(fe),me={scaleMode:F.NEAREST,format:D.RGBA,alphaMode:k.NPM},ye=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,n=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,h=r.width,u=r.height,l=r.wrapMode,c=r.format,d=r.type,p=r.target,f=r.resolution,v=r.resourceOptions;return!e||e instanceof fe||((e=ce(e,v)).internal=!0),i.width=h||0,i.height=u||0,i.resolution=f||Y.RESOLUTION,i.mipmap=void 0!==o?o:Y.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:Y.ANISOTROPIC_LEVEL,i.wrapMode=l||Y.WRAP_MODE,i.scaleMode=void 0!==a?a:Y.SCALE_MODE,i.format=c||D.RGBA,i.type=d||L.UNSIGNED_BYTE,i.target=p||N.TEXTURE_2D,i.alphaMode=void 0!==n?n:k.UNPACK,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.uid=pt(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return pe(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=ht(this.realWidth)&&ht(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete gt[this.cacheId],delete yt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,i){void 0===i&&(i=Y.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+pt()),o=t._pixiId);var s=gt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new ve(t,{width:r,height:i}),s=t instanceof Float32Array?L.FLOAT:L.UNSIGNED_BYTE;return new e(o,Object.assign(me,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),gt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),gt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=gt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete gt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete gt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(W.a),ge=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new ye;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return pe(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof fe?this.addResourceAt(t[r],r):this.addResourceAt(ce(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},e}(fe),_e=function(t){function e(e,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return pe(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=N.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(ge),xe=function(t){function e(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return pe(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,xt||(xt=document.createElement("a")),xt.href=t;var r=Object(K.parse)(xt.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===k.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(fe),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pe(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(xe),Te=function(t){function e(r,i){var n=this,o=i||{},s=o.width,a=o.height,h=o.autoLoad,u=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=t.call(this,6,{width:s,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=N.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,r&&n.initFromArray(r,i),!1!==h&&n.load(),n}return pe(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=N.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=N.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(ge),Ee=function(t){function e(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;xe.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:Y.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return pe(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===k.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(xe),we=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return pe(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;xe.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+pt(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(xe),Ae=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];xe.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return pe(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=$t.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&($t.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&($t.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&$t.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?($t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&($t.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(xe),Se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pe(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(xe);le.push(Ee,Se,be,Ae,we,ve,Te,_e);var Pe=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===k.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(ve),Ie=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ue("disposeFramebuffer"),this.multisample=z.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ye(null,{scaleMode:F.NEAREST,resolution:1,mipmap:B.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ye(new Oe(null,{width:this.width,height:this.height}),{scaleMode:F.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:B.OFF,format:D.DEPTH_COMPONENT,type:L.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,e/n)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Ce=function(t){function e(e){var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},h=a.width,u=a.height;return r.mipmap=0,r.width=Math.ceil(h)||100,r.height=Math.ceil(u)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Ie(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return pe(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(ye),Me=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=Ht.add(r,Ht.NW),this.x0=a+o*Ht.uX(r),this.y0=h+s*Ht.uY(r),r=Ht.add(r,2),this.x1=a+o*Ht.uX(r),this.y1=h+s*Ht.uY(r),r=Ht.add(r,2),this.x2=a+o*Ht.uX(r),this.y2=h+s*Ht.uY(r),r=Ht.add(r,2),this.x3=a+o*Ht.uX(r),this.y3=h+s*Ht.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Re=new Me,De=function(t){function e(r,i,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new St(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=Re,h.uvMatrix=null,h.orig=n||i,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new Mt(a.x,a.y):new Mt(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return pe(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&yt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Re&&(this._uvs=new Me),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=Y.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+pt()),o=t._pixiId);var s=yt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=bt(t)),(s=new e(new ye(t,r))).baseTexture.cacheId=o,ye.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,r,i,n){return new e(ye.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new Ee(t);n.url=r;var o=new e(new ye(n,{scaleMode:Y.SCALE_MODE,resolution:bt(r)}));return i||(i=r),ye.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(ye.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),yt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),yt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=yt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete yt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)yt[t.textureCacheIds[i]]===t&&delete yt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(W.a);function Ne(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}De.EMPTY=new De(new ye),Ne(De.EMPTY),Ne(De.EMPTY.baseTexture),De.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new De(new ye(new be(t)))}(),Ne(De.WHITE),Ne(De.WHITE.baseTexture);var Le=function(t){function e(e,r){var i=this,n=null;if(!(e instanceof Ce)){var o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,e=new Ce({width:o,height:s,scaleMode:a,resolution:h})}return(i=t.call(this,e,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return pe(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Ce(t))},e}(De),Fe=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new Ce(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Le(r)},t.prototype.getOptimalTexture=function(e,r,i){void 0===i&&(i=1);var n=t.SCREEN_KEY;e*=i,r*=i,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(e=at(e)))<<16|65535&(r=at(r))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=n,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Ue=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),Be=0,ke=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Be++,this.disposeRunner=new ue("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function je(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var He={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Xe={5126:4,5123:2,5121:1},Ge=0,ze={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ye=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ge++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ue("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ke||(e instanceof Array&&(e=new Float32Array(e)),e=new ke(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ue(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof ke||(t instanceof Array&&(t=new Uint16Array(t)),t=new ke(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new ke;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Xe[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=je(l);n[c]||(n[c]=new He[c](s)),a=n[c];for(var d=0;d<l.length;d++){a[(d/u|0)*i+h+d%u]=l[d]}h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new ke(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new Ue(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(ze[je(r.buffers[a].data)])(o[a]),i.buffers[a]=new ke(n[a]);for(a=0;a<e.length;a++){r=e[a];for(h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===d&&(l+=p.size*Xe[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)i.indexBuffer.data[h+c]+=u;u+=r.buffers[d].data.length/l,c+=f.length}}return i},t}(),Ve=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return pe(e,t),e}(Ye),We=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new ke(e.vertices),e.uvBuffer=new ke(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return pe(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ye),qe=0,Ze=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=qe++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)},t.from=function(e,r){return new t(e,r)},t}(),Ke=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new St,this.destinationFrame=new St,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Je=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new Fe,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Ve,r.quadUv=new We,r.tempRect=new St,r.activeState={},r.globalUniforms=new Ze({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return pe(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Ke,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a||l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,j.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,j.CLEAR,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,j.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){void 0===e&&(e=j.CLEAR),this.renderer.renderTexture.bind(t,t?t.filterFrame:null),"boolean"==typeof e&&(e=e?j.CLEAR:j.BLEND,vt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===j.CLEAR||e===j.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(R.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(R.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Dt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(Pe),Qe=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),$e=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Qe(e),r.currentRenderer=r.emptyRenderer,r}return pe(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(Pe),tr=0,er=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return pe(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=tr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=tr++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(Y.PREFER_ENV>=O.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=e,e||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(Pe),rr=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=z.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},ir=new St,nr=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Ie(10,10),r.msaaSamples=null,r}return pe(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new St,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Y.PREFER_ENV===O.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=C.COLOR|C.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new rr(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=z.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=z.NONE),r},e.prototype.blit=function(t,e,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var a=i.glFramebuffers[s];if(a){if(!t){if(a.multisample<=1)return;a.blitFramebuffer||(a.blitFramebuffer=new Ie(i.width,i.height),a.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=a.blitFramebuffer).width=i.width,t.height=i.height}e||((e=ir).width=i.width,e.height=i.height),r||(r=e);var h=e.width===r.width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new St},e}(Pe),or=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},sr={5126:4,5123:2,5121:1},ar=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return pe(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;Y.PREFER_ENV===O.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var c in h)!h[c].size&&e.attributeData[c]?h[c].size=e.attributeData[c].size:h[c].size||console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[c].buffer]+=h[c].size*sr[h[c].type];for(var c in h){var d=h[c],p=d.size;void 0===d.stride&&(u[d.buffer]===p*sr[d.type]?d.stride=0:d.stride=u[d.buffer]),void 0===d.start&&(d.start=l[d.buffer],l[d.buffer]+=p*sr[d.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var f=0;f<a.length;f++){var v=a[f];v._glBuffers[i]||(v._glBuffers[i]=new or(r.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),v._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(Pe),hr=function(){function t(t){void 0===t&&(t=null),this.type=G.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=G.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function ur(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function lr(t,e,r,i){var n=ur(t,t.VERTEX_SHADER,e),o=ur(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function cr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function dr(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return cr(2*e);case"bvec3":return cr(3*e);case"bvec4":return cr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var pr,fr={},vr=fr;function mr(){if(vr===fr||vr&&vr.isContextLost()){var t=document.createElement("canvas"),e=void 0;Y.PREFER_ENV>=O.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),vr=e}return vr}function yr(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===X.HIGH&&r!==X.HIGH&&(i=X.MEDIUM),"precision "+i+" float;\n"+t}return r!==X.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var gr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _r(t){return gr[t]}var xr=null,br={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function Tr(t,e){if(!xr){var r=Object.keys(br);xr={};for(var i=0;i<r.length;++i){var n=r[i];xr[t[n]]=br[n]}}return xr[e]}var Er=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],wr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ar={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Sr,Pr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Or(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var Ir=0,Cr={},Mr=function(){function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=Ir++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Cr[i]?(Cr[i]++,i+="-"+Cr[i]):Cr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=yr(this.vertexSrc,Y.PRECISION_VERTEX,X.HIGH),this.fragmentSrc=yr(this.fragmentSrc,Y.PRECISION_FRAGMENT,function(){if(!pr){pr=X.MEDIUM;var t=mr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);pr=e.precision?X.HIGH:X.MEDIUM}}return pr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=mr();if(r){var i=lr(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=Tr(e,s.type),h={type:a,name:s.name,size:_r(a),location:0};r[s.name]=h,i.push(h)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(o=0;o<i.length;o++)i[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=Tr(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:dr(h,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,o=mt[n];return o||(mt[n]=o=new t(e,r,i)),o},t}(),Rr=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Ze?e:new Ze(e):new Ze({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(Mr.from(e,r),i)},t}(),Dr=function(){function t(){this.data=0,this.blendMode=M.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==M.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Nr=function(t){function e(r,i,n){var o=this,s=Mr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=Y.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Dr,o}return pe(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Rr),Lr=new Dt,Fr=function(){function t(t,e){this._texture=t,this.mapCoord=new Dt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._updateID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Lr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Lr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Ur=function(t){function e(e){var r=this,i=new Dt;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return pe(e,t),e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Fr(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(Nr),Br=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return pe(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new hr;i.pooled=!0,i.maskObject=e,r=i}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case G.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case G.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case G.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case G.SCISSOR:this.renderer.scissor.pop();break;case G.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case G.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=G.SPRITE;else if(t.type=G.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0===(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=G.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Ur(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(Pe),kr=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return pe(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(Pe),jr=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return pe(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;i&&(a+=i.tx*s,h+=i.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(kr),Hr=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return pe(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(kr),Xr=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Dt,r.transform=null,r}return pe(e,t),e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.a=1/t.width*2*r,n.d=o*(1/t.height*2)*r,n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(Pe),Gr=new St,zr=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new St,r.destinationFrame=new St,r}return pe(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null),this.current=t;var i,n=this.renderer;if(t){var o=t.baseTexture;i=o.resolution,r||(Gr.width=o.realWidth,Gr.height=o.realHeight,r=Gr),e||(e=r),this.renderer.framebuffer.bind(o.framebuffer,r),this.renderer.projection.update(r,e,i,!1),this.renderer.mask.setMaskStack(o.maskStack)}else i=this.renderer.resolution,r||(Gr.width=n.width,Gr.height=n.height,r=Gr),e||(e=r),n.framebuffer.bind(null,r),this.renderer.projection.update(r,e,i,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=r.x/i,this.destinationFrame.y=r.y/i,this.destinationFrame.width=r.width/i,this.destinationFrame.height=r.height/i,e===r&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(Pe),Yr=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Vr=0,Wr={textureCount:0},qr=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Vr++,r}return pe(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Sr)return Sr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Sr=!0===t({a:"b"},"a","b")}catch(t){Sr=!1}return Sr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Wr.textureCount=0,this.syncUniformGroup(t.uniformGroup,Wr)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<Er.length;a++)if(Er[a].test(n,o)){r.push(Er[a].code(i,o)),s=!0;break}if(!s){var h=(1===n.size?wr:Ar)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=lr(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:dr(a.type,a.size)}}var h=new Yr(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(Pe);var Zr=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=M.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Dr,r.defaultState.blend=!0,r}return pe(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[M.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.ADD]=[t.ONE,t.ONE],e[M.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.NONE]=[0,0],e[M.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[M.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[M.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[M.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[M.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[M.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[M.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[M.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[M.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[M.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(Pe),Kr=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=Y.GC_MAX_IDLE,r.checkCountMax=Y.GC_MAX_CHECK_COUNT,r.mode=Y.GC_MODE,r}return pe(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==H.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},e.prototype.unload=function(t){var e,r=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&r.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(Pe),Jr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Qr=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new ye,r}return pe(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Jr(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Jr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[i]=null)},e.prototype.initTexture=function(t){var e=new Jr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===L.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&lt(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==B.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=U.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===F.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===F.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===F.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===F.LINEAR?r.LINEAR:r.NEAREST)},e}(Pe),$r=new Dt,ti=function(t){function e(r){var i=t.call(this,I.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new ue("destroy"),contextChange:new ue("contextChange"),reset:new ue("reset"),update:new ue("update"),postrender:new ue("postrender"),prerender:new ue("prerender"),resize:new ue("resize")},i.globalUniforms=new Ze({projectionMatrix:new Dt},!0),i.addSystem(Br,"mask").addSystem(er,"context").addSystem(Zr,"state").addSystem(qr,"shader").addSystem(Qr,"texture").addSystem(ar,"geometry").addSystem(nr,"framebuffer").addSystem(jr,"scissor").addSystem(Hr,"stencil").addSystem(Xr,"projection").addSystem(Kr,"textureGC").addSystem(Je,"filter").addSystem(zr,"renderTexture").addSystem($e,"batch"),i.initPlugins(e.__plugins),r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.transparent,antialias:r.antialias,premultipliedAlpha:i.transparent&&"notMultiplied"!==i.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function(t){var e;if(!$){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.0 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.0 - "+t+" - http://www.pixijs.com/");$=!0}}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return pe(e,t),e.create=function(t){if(void 0===Q&&(Q=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),Q)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(function(t){function e(e,r){void 0===e&&(e=I.UNKNOWN);var i=t.call(this)||this;return(r=Object.assign({},Y.RENDER_OPTIONS,r)).roundPixels&&(Y.ROUND_PIXELS=r.roundPixels,vt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=r,i.type=e,i.screen=new St(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||Y.RESOLUTION,i.transparent=r.transparent,i.autoDensity=r.autoDensity||r.autoResize||!1,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return pe(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=Le.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return $r.tx=-i.x,$r.ty=-i.y,this.render(t,n,!1,$r,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=I.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=et(t),tt(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(W.a));var ei="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ri=function(){this.texArray=null,this.blend=0,this.type=R.TRIANGLES,this.start=0,this.size=0,this.data=null},ii=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),ni=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),oi=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Dr.for2d(),r.size=4*Y.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return pe(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;Y.PREFER_ENV===O.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Y.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=Pr.replace(/%forloop%/gi,Or(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new ri);for(;r.length<n;)r.push(new ii);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++ye._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a);for(c=0;c<o.length;c++)o[c]=null;ye._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,a=this.vertexSize,h=e._drawCallPool,u=this._dcIndex,l=this._aIndex,c=this._iIndex,d=h[u];d.start=this._iIndex,d.texArray=t;for(var p=r;p<i;++p){var f=n[p],v=f._texture.baseTexture,m=it[v.alphaMode?1:0][f.blendMode];n[p]=null,r<p&&d.blend!==m&&(d.size=c-d.start,r=p,(d=h[++u]).texArray=t,d.start=c),this.packInterleavedGeometry(f,o,s,l,c),l+=f.vertexData.length/2*a,c+=f.indices.length,d.blend=m}r<i&&(d.size=c-d.start,++u),this._dcIndex=u,this._aIndex=l,this._iIndex=c},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;Y.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Y.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=at(Math.ceil(t/8)),r=ut(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ni(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=at(Math.ceil(t/12)),r=ut(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?ot(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(f=0;f<u.length;f++)r[n++]=a+u[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(Qe),si=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Ze.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Mr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:this.defaultGroupCache[t]};return new Rr(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),ai=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new ke(null,e,!1),r._indexBuffer=new ke(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,L.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,L.FLOAT).addAttribute("aColor",r._buffer,4,!0,L.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,L.FLOAT).addIndex(r._indexBuffer),r}return pe(e,t),e}(Ye),hi="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ui="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",li=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:hi,fragment:ui,geometryClass:ai,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new si(r,i),s.geometryClass=o,s.vertexSize=n,s}return pe(e,t),e}(oi)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return hi},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ui},enumerable:!1,configurable:!0}),t}().create(),ci=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return ti.create(t)}(e),this.stage=new Zt,t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();ci._plugins=[];var di=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();ci.registerPlugin(di);var pi=new St,fi=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof Le?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=pi).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),l=new _t(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(i.x*r,i.y*r,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),s){var f=new _t(l.width,l.height,1);f.context.scale(1,-1),f.context.drawImage(l.canvas,0,-u),l.destroy(),l=f}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var r,i,n,o=this.renderer,s=!1;e&&(e instanceof Le?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=pi).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,h=i.height*r,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(i.x*r,i.y*r,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),vi=r(3),mi=r.n(vi),yi=r(0),gi=r.n(yi);function _i(){}function xi(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function bi(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Ti(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:_i,unsaturated:_i,buffer:e/4,empty:_i,drain:_i,error:_i,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=_i,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,bi(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:_i};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var Ei={};function wi(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ai(t,e,r){return e&&wi(t.prototype,e),r&&wi(t,r),t}var Si=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Pi=null;function Oi(){}var Ii=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Oi,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new gi.a,this.onProgress=new gi.a,this.onComplete=new gi.a,this.onAfterMiddleware=new gi.a}t.setExtensionLoadType=function(e,r){Ci(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Ci(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:Si&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Mi(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Mi(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Mi(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Pi||(Pi=document.createElement("a")),Pi.href=t;var r=!(t=mi()(Pi.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ai(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Ci(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Mi(t){return t.toString().replace("object ","")}Ii.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Ii.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Ii.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Ii.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Ii._loadTypeMap={gif:Ii.LOAD_TYPE.IMAGE,png:Ii.LOAD_TYPE.IMAGE,bmp:Ii.LOAD_TYPE.IMAGE,jpg:Ii.LOAD_TYPE.IMAGE,jpeg:Ii.LOAD_TYPE.IMAGE,tif:Ii.LOAD_TYPE.IMAGE,tiff:Ii.LOAD_TYPE.IMAGE,webp:Ii.LOAD_TYPE.IMAGE,tga:Ii.LOAD_TYPE.IMAGE,svg:Ii.LOAD_TYPE.IMAGE,"svg+xml":Ii.LOAD_TYPE.IMAGE,mp3:Ii.LOAD_TYPE.AUDIO,ogg:Ii.LOAD_TYPE.AUDIO,wav:Ii.LOAD_TYPE.AUDIO,mp4:Ii.LOAD_TYPE.VIDEO,webm:Ii.LOAD_TYPE.VIDEO},Ii._xhrTypeMap={xhtml:Ii.XHR_RESPONSE_TYPE.DOCUMENT,html:Ii.XHR_RESPONSE_TYPE.DOCUMENT,htm:Ii.XHR_RESPONSE_TYPE.DOCUMENT,xml:Ii.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Ii.XHR_RESPONSE_TYPE.DOCUMENT,svg:Ii.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Ii.XHR_RESPONSE_TYPE.DOCUMENT,gif:Ii.XHR_RESPONSE_TYPE.BLOB,png:Ii.XHR_RESPONSE_TYPE.BLOB,bmp:Ii.XHR_RESPONSE_TYPE.BLOB,jpg:Ii.XHR_RESPONSE_TYPE.BLOB,jpeg:Ii.XHR_RESPONSE_TYPE.BLOB,tif:Ii.XHR_RESPONSE_TYPE.BLOB,tiff:Ii.XHR_RESPONSE_TYPE.BLOB,webp:Ii.XHR_RESPONSE_TYPE.BLOB,tga:Ii.XHR_RESPONSE_TYPE.BLOB,json:Ii.XHR_RESPONSE_TYPE.JSON,text:Ii.XHR_RESPONSE_TYPE.TEXT,txt:Ii.XHR_RESPONSE_TYPE.TEXT,ttf:Ii.XHR_RESPONSE_TYPE.BUFFER,otf:Ii.XHR_RESPONSE_TYPE.BUFFER},Ii.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ri=window.URL||window.webkitURL;var Di={caching:function(t,e){var r=this;Ei[t.url]?(t.data=Ei[t.url],t.complete()):t.onComplete.once((function(){return Ei[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Ii.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Ri.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Ii.TYPE.IMAGE,void(t.data.onload=function(){Ri.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=Ii.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Ni=/(#[\w-]+)?$/,Li=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Ti(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new gi.a,this.onError=new gi.a,this.onLoad=new gi.a,this.onStart=new gi.a,this.onComplete=new gi.a;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Ii(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=mi()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Ni.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,xi(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),xi(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Ai(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Li._defaultBeforeMiddleware=[],Li._defaultAfterMiddleware=[],Li.pre=function(t){return Li._defaultBeforeMiddleware.push(t),Li},Li.use=function(t){return Li._defaultAfterMiddleware.push(t),Li};var Fi=Ii,Ui=function(t,e){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Bi=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Ii.TYPE.IMAGE&&(t.texture=De.fromLoader(t.data,t.url,t.name)),e()},t}(),ki=function(t){function e(r,i){for(var n=t.call(this,r,i)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function r(){this.constructor=t}Ui(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Li);ki.registerPlugin({use:Di.parsing}),ki.registerPlugin(Bi);var ji=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?ki.shared:new ki},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),Hi=function(t,e){return(Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Xi(t,e){function r(){this.constructor=t}Hi(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}!function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=M.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}Xi(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,tt(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Zt);var Gi,zi,Yi=function(){function t(t,e,r){this.geometry=new Ye,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||L.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new ke(function(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new ke(this.dynamicData,!1,!1);var n=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ke(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===L.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r){s=this.staticProperties[r];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===L.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===L.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===L.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Vi=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Dt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:L.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Rr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Dr.for2d(),r}return Xi(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=nt(t.blendMode,a.alphaMode),n.state.set(this.state);var h,u,l,c,d=n.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(h=t.tintRgb,u=t.worldAlpha,l=this.shader.uniforms.uColor,c=a.alphaMode,l=l||new Float32Array(4),c||void 0===c?(l[0]=h[0]*u,l[1]=h[1]*u,l[2]=h[2]*u):(l[0]=h[0],l[1]=h[1],l[2]=h[2]),l[3]=u,l),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,v=0,m=0;v<o;v+=i,m+=1){var y=o-v;y>i&&(y=i),m>=s.length&&s.push(this._generateOneMoreBuffer(t));var g=s[m];g.uploadDynamic(e,v,y);var _=t._bufferUpdateIDs[m]||0;(f=f||g._updateID<_)&&(g._updateID=t._updateID,g.uploadStatic(e,v,y)),n.geometry.bind(g.geometry),d.drawElements(d.TRIANGLES,6*y,d.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new Yi(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Yi(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,v=d.trim,m=d.orig;v?(s=(a=v.x-c.anchor.x*m.width)+v.width,h=(u=v.y-c.anchor.y*m.height)+v.height):(s=m.width*(1-c.anchor.x),a=m.width*-c.anchor.x,h=m.height*(1-c.anchor.y),u=m.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?ot(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Qe);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Gi||(Gi={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(zi||(zi={}));var Wi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},qi=function(){function t(){this.color=16777215,this.alpha=1,this.texture=De.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=De.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Zi=function(t,e){return(Zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ki(t,e){function r(){this.constructor=t}Zi(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ji={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=Z()(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},Qi={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===Tt.CIRC)e=i.radius,r=i.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var h=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}},$i={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function tn(t,e,r){return t+(e-t)*r}function en(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0;f<=20;++f)h=tn(t,r,v=f/20),u=tn(e,i,v),l=tn(r,n,v),c=tn(i,o,v),d=tn(h,l,v),p=tn(u,c,v),a.push(d,p);return a}var rn={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(en(i,n+a,i,n,i+a,n,r),en(i+o-a,n,i+o,n,i+o,n+a,r),en(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),en(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=Z()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function nn(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,p=e+i*o+u;return a.push(l,c),a.push(d,p),2}function on(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),v=Math.sqrt(h*h+u*u),m=1+(15*f*Math.sqrt(v)/Math.PI>>0),y=p/m;if(d+=y,a){s.push(t,e),s.push(r,i);for(var g=1,_=d;g<m;g++,_+=y)s.push(t,e),s.push(t+Math.sin(_)*v,e+Math.cos(_)*v);s.push(t,e),s.push(n,o)}else{s.push(r,i),s.push(t,e);for(g=1,_=d;g<m;g++,_+=y)s.push(t+Math.sin(_)*v,e+Math.cos(_)*v),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*m}function sn(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==Tt.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new Mt(i[0],i[1]),a=new Mt(i[i.length-2],i[i.length-1]),h=r.type!==Tt.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);i.unshift(l,c),i.push(l,c)}var d=e.points,p=i.length/2,f=i.length,v=d.length/2,m=o.width/2,y=m*m,g=o.miterLimit*o.miterLimit,_=i[0],x=i[1],b=i[2],T=i[3],E=0,w=0,A=-(x-T),S=_-b,P=0,O=0,I=Math.sqrt(A*A+S*S);A/=I,S/=I,A*=m,S*=m;var C=o.alignment,M=2*(1-C),R=2*C;h||(o.cap===zi.ROUND?f+=on(_-A*(M-R)*.5,x-S*(M-R)*.5,_-A*M,x-S*M,_+A*R,x+S*R,d,!0)+2:o.cap===zi.SQUARE&&(f+=nn(_,x,A,S,M,R,!0,d))),d.push(_-A*M,x-S*M),d.push(_+A*R,x+S*R);for(var D=1;D<p-1;++D){_=i[2*(D-1)],x=i[2*(D-1)+1],b=i[2*D],T=i[2*D+1],E=i[2*(D+1)],w=i[2*(D+1)+1],A=-(x-T),S=_-b,A/=I=Math.sqrt(A*A+S*S),S/=I,A*=m,S*=m,P=-(T-w),O=b-E,P/=I=Math.sqrt(P*P+O*O),O/=I,P*=m,O*=m;var N=b-_,L=x-T,F=b-E,U=w-T,B=L*F-U*N,k=B<0;if(Math.abs(B)<.1)d.push(b-A*M,T-S*M),d.push(b+A*R,T+S*R);else{var j=(-A+_)*(-S+T)-(-A+b)*(-S+x),H=(-P+E)*(-O+T)-(-P+b)*(-O+w),X=(N*H-F*j)/B,G=(U*j-L*H)/B,z=(X-b)*(X-b)+(G-T)*(G-T),Y=b+(X-b)*M,V=T+(G-T)*M,W=b-(X-b)*R,q=T-(G-T)*R,Z=_-A*M,K=x-S*M,J=E-P*M,Q=w-O*M,$=_+A*R,tt=x+S*R,et=E+P*R,rt=w+O*R,it=w-x,nt=-(E-_),ot=it*(b-Z)+nt*(T-K);if(k){var st=it*(Y-Z)+nt*(V-K);Math.abs(ot-st)>.1&&Math.sign(ot)!==Math.sign(st)&&(Y=.5*(Z+J),V=.5*(K+Q))}else{var at=it*(W-Z)+nt*(q-K);Math.abs(ot-at)>.1&&Math.sign(ot)!==Math.sign(at)&&(W=.5*($+et),q=.5*(tt+rt))}o.join===Gi.BEVEL||z/y>g?(k?(d.push(Y,V),d.push(b+A*R,T+S*R),d.push(Y,V),d.push(b+P*R,T+O*R)):(d.push(b-A*M,T-S*M),d.push(W,q),d.push(b-P*M,T-O*M),d.push(W,q)),f+=2):o.join===Gi.ROUND?k?(d.push(Y,V),d.push(b+A*R,T+S*R),f+=on(b,T,b+A*R,T+S*R,b+P*R,T+O*R,d,!0)+4,d.push(Y,V),d.push(b+P*R,T+O*R)):(d.push(b-A*M,T-S*M),d.push(W,q),f+=on(b,T,b-A*M,T-S*M,b-P*M,T-O*M,d,!1)+4,d.push(b-P*M,T-O*M),d.push(W,q)):(d.push(Y,V),d.push(W,q))}}_=i[2*(p-2)],x=i[2*(p-2)+1],b=i[2*(p-1)],A=-(x-(T=i[2*(p-1)+1])),S=_-b,A/=I=Math.sqrt(A*A+S*S),S/=I,A*=m,S*=m,d.push(b-A*M,T-S*M),d.push(b+A*R,T+S*R),h||(o.cap===zi.ROUND?f+=on(b-A*(M-R)*.5,T-S*(M-R)*.5,b-A*M,T-S*M,b+A*R,T+S*R,d,!1)+2:o.cap===zi.SQUARE&&(f+=nn(b,T,A,S,M,R,!1,d)));var ht=e.indices,ut=Wi.epsilon*Wi.epsilon;for(D=v;D<f+v-2;++D)_=d[2*D],x=d[2*D+1],b=d[2*(D+1)],T=d[2*(D+1)+1],E=d[2*(D+2)],w=d[2*(D+2)+1],Math.abs(_*(T-w)+b*(w-x)+E*(x-T))<ut||ht.push(D,D+1,D+2)}}(t,e)}var an,hn=function(t){function e(e,r,i,n,o,s){void 0===s&&(s=0);o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=Et/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}return t.call(this,l)||this}return Ki(e,t),e}(It),un=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,v=n*Math.sqrt(d)/c,m=n*Math.sqrt(p)/c,y=v*f/d,g=m*f/p,_=v*l+m*h,x=v*u+m*a,b=h*(m+y),T=a*(m+y),E=l*(v+g),w=u*(v+g);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(w-x,E-_),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=Wi._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/Et)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),v=l-1,m=v%1/v,y=0;y<=v;++y){var g=c+o+d*(y+m*y),_=Math.cos(g),x=-Math.sin(g);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}},t}(),ln=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0,m=0,y=0,g=0,_=t,x=e,b=1;b<=10;++b)y=_-(v=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),g=x-(m=f*e+3*p*u*i+3*d*l*o+c*a),_=v,x=m,h+=Math.sqrt(y*y+g*g);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=Wi._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,p=0,f=0,v=0;a.push(h,u);for(var m=1,y=0;m<=l;++m)p=(d=(c=1-(y=m/l))*c)*c,v=(f=y*y)*y,a.push(p*h+3*d*y*e+3*c*f*i+v*o,p*u+3*d*y*r+3*c*f*n+v*s)},t}(),cn=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),v=2*l*f,m=2*Math.sqrt(d),y=c/f;return(v*p+f*c*(p-m)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+m)))/(4*v)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=Wi._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),dn=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),pn=((an={})[Tt.POLY]=Ji,an[Tt.CIRC]=Qi,an[Tt.ELIP]=Qi,an[Tt.RECT]=$i,an[Tt.RREC]=rn,an),fn=[],vn=[],mn=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),yn=new Mt,gn=new Gt,_n=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Gt,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return Ki(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),vn.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),fn.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new mn(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new mn(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,yn):yn.copyFrom(t),i.shape.contains(yn.x,yn.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(yn.x,yn.y)){n=!0;break}}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,h=s.lineStyle;pn[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=U.REPEAT,0===u?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,l)&&(i.end(d,p),i=null),i||((i=fn.pop()||new dn).begin(l,d,p),this.batches.push(i),n=l),this.addUvs(this.points,e,l.texture,p,f,l.matrix))}}}var v=this.indices.length,m=this.points.length/2;if(i&&i.end(v,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var y=m>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ye._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),vn.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=vn.pop();n||((n=new ri).texArray=new ii),n.texArray.count=0,n.start=0,n.size=0,n.type=R.TRIANGLES;var o=0,s=null,a=0,h=!1,u=R.TRIANGLES,l=0;this.drawCalls.push(n);for(e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,p=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?R.LINES:R.TRIANGLES,s=null,o=8,t++),s!==p&&(s=p,p._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=vn.pop())||((n=new ri).texArray=new ii),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),p.touched=1,p._batchEnabled=t,p._batchLocation=o,p.wrapMode=10497,n.texArray.elements[n.texArray.count++]=p,o++)),n.size+=c.size,l+=c.size,a=p._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize),this.addTextureIds(i,a,c.attribSize)}ye._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Ji.triangulate(t,this)):pn[t.type].triangulate(t,this)},e.prototype.processLine=function(t){sn(t,this);for(var e=0;e<t.holes.length;e++)sn(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];pn[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=gn,r=Dt.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||Dt.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===Tt.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}if(r!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=h),s===Tt.RECT||s===Tt.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===Tt.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(s===Tt.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+u,p.height+u)}else{var f=o;t.addVerticesMatrix(r,f.points,0,f.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=ot((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),f=r+2;f<s;f+=2)d=Math.min(d,Math.floor(t[f]+o)),p=Math.min(p,Math.floor(t[f+1]+o));l-=d,c-=p;for(f=r;f<s;f+=2)t[f]=(t[f]+l)*h,t[f+1]=(t[f+1]+c)*u},e.BATCHABLE_SIZE=100,e}(ai),xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=zi.BUTT,e.join=Gi.MITER,e.miterLimit=10,e}return Ki(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(qi),bn=new Float32Array(3),Tn={},En=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new _n,r._geometry.refCount++,r.shader=null,r.state=Dr.for2d(),r._fillStyle=new qi,r._lineStyle=new xn,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=M.NORMAL,r}return Ki(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){vt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],h=e[6];t={width:r,texture:i,color:n,alpha:o,matrix:s,alignment:a,native:h},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:De.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:zi.BUTT,join:Gi.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var u=t.width>0&&t.alpha>0;return u?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:u},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new It,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new It,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),cn.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),ln.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=un.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=Et:o&&i<=n&&(i+=Et),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return un.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:De.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof De){vt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3];t={texture:r,color:i,alpha:n,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:De.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new St(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Ct(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Pt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new Ot(t,e,r,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new It(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new hn(t,e,r,i,n,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===Tt.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:tt(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Tn[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:Ze.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;Tn[r]=new Rr(s,o)}e=Tn[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=tt(this.tint,bn),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=r*d+n*p+s,u[l++]=o*p+i*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new Mt,e}(Zt),wn=function(t,e){return(wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var An,Sn=new Mt,Pn=new Uint16Array([0,1,2,0,2,3]),On=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new Rt(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=M.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||De.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=Pn,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Y.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}wn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ct(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ct(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,v=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(v=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(v=-c._y*l.height)+l.height),h[0]=r*p+n*v+s,h[1]=o*v+i*p+a,h[2]=r*d+n*v+s,h[3]=o*v+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var m=Y.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new St),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Sn);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return Sn.x>=i&&Sn.x<i+e&&(n=-r*this.anchor.y,Sn.y>=n&&Sn.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof De?t:De.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=ct(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=ct(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||De.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Zt),In=function(t,e){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(An||(An={}));var Cn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:An.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Mn=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Rn=function(){function t(t){this.styleID=0,this.reset(),Ln(this,t,t)}return t.prototype.clone=function(){var e={};return Ln(e,this,Cn),new t(e)},t.prototype.reset=function(){Ln(this,Cn,Cn)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Nn(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Nn(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Nn(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Mn.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Dn(t){return"number"==typeof t?et(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Nn(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Dn(t[e]);return t}return Dn(t)}function Ln(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var Fn=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var f=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(f,s.fontSize+r.strokeThickness)+(h.length-1)*(f+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,p,v,h,u,f+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",h={},u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!c,f=r.wordWrapWidth+u,v=t.tokenize(e),m=0;m<v.length;m++){var y=v[m];if(t.isNewline(y)){if(!d){a+=t.addLine(s),p=!c,s="",o=0;continue}y=" "}if(c){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(s[s.length-1]);if(g&&_)continue}var x=t.getFromCache(y,u,h,n);if(x>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(y,r.breakWords))for(var b=t.wordWrapSplit(y),T=0;T<b.length;T++){for(var E=b[T],w=1;b[T+w];){var A=b[T+w],S=E[E.length-1];if(t.canBreakChars(S,A,y,T,r.breakWords))break;E+=A,w++}T+=E.length-1;var P=t.getFromCache(E,u,h,n);P+o>f&&(a+=t.addLine(s),p=!1,s="",o=0),s+=E,o+=P}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var O=m===v.length-1;a+=t.addLine(y,!O),p=!1,s="",o=0}else x+o>f&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(y)||p)&&(s+=y,o+=x)}return a+=t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var v=0;v<c;v+=4)if(255!==u[p+v]){f=!0;break}if(f)break;p+=c}for(r.ascent=a-d,p=l-c,f=!1,d=h;d>a;--d){for(v=0;v<c;v+=4)if(255!==u[p+v]){f=!0;break}if(f)break;p-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Un=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Un.width=Un.height=10,Fn._canvas=Un,Fn._context=Un.getContext("2d"),Fn._fonts={},Fn.METRICS_STRING="|q",Fn.BASELINE_SYMBOL="M",Fn.BASELINE_MULTIPLIER=1.4,Fn._newlines=[10,13],Fn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Bn={texture:!0,children:!1,baseTexture:!0},kn=function(t){function e(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=De.from(i);return s.orig=new St,s.trim=new St,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=Y.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}In(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Fn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var v=e.dropShadow&&0===f,m=v?2*a:0,y=m*this.resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var g=e.dropShadowColor,_=tt("number"==typeof g?g:rt(g));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+y}else n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="0",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)r=e.strokeThickness/2,i=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?r+=c-l[x]:"center"===e.align&&(r+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-m,!0),e.fill&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<i)&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===An.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);var p=0,f=(r.fontProperties.fontSize+t.strokeThickness)/h;for(d=0;d<e.length;d++)for(var v=r.lineHeight*d,m=0;m<u.length;m++){var y=v/h+("number"==typeof l[m]?l[m]:m/u.length)*f,g=Math.max(p,y);g=Math.min(g,1),i.addColorStop(g,u[m]),p=g}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);var _=u.length+1,x=1;for(d=0;d<u.length;d++){var b=void 0;b="number"==typeof l[d]?l[d]:x/_,i.addColorStop(b,u[d]),x++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Bn,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=ct(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=ct(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Rn?t:new Rn(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(On);Y.UPLOADS_PER_FRAME=4;var jn=function(t,e){return(jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Hn=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Xn(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof De){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function Gn(t,e){if(t.baseTexture instanceof ye){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function zn(t,e){if(t._texture&&t._texture instanceof De){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Yn(t,e){return e instanceof kn&&(e.updateText(!0),!0)}function Vn(t,e){if(e instanceof Rn){var r=e.toFontString();return Fn.measureFont(r),!0}return!1}function Wn(t,e){if(t instanceof kn){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function qn(t,e){return t instanceof Rn&&(-1===e.indexOf(t)&&e.push(t),!0)}function Zn(t,e){return e instanceof ye&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Kn(t,e){if(!(e instanceof En))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&Zn(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Jn(t,e){return t instanceof En&&(e.push(t),!0)}var Qn=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Jn),r.registerUploadHook(Zn),r.registerUploadHook(Kn),r}return function(t,e){function r(){this.constructor=t}jn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new Hn(Y.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Wn),this.registerFindHook(qn),this.registerFindHook(Xn),this.registerFindHook(Gn),this.registerFindHook(zn),this.registerUploadHook(Yn),this.registerUploadHook(Vn)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,$t.system.addOnce(this.tick,this,Kt.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)$t.system.addOnce(this.tick,this,Kt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(r=0,i=n.length;r<i;r++)n[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Zt)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&$t.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),$n=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof De?t:null,this.baseTexture=t instanceof ye?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=bt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a=null,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new St(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new St(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new St(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new St(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new De(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),De.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),to=function(){function t(){}return t.use=function(e,r){var i=e.name+"_image";if(e.data&&e.type===Fi.TYPE.JSON&&e.data.frames&&!this.resources[i]){var n={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},o=t.getResourcePath(e,this.baseUrl);this.add(i,o,n,(function(t){if(t.error)r(t.error);else{var i=new $n(t.texture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:J.a.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),eo=function(t,e){return(eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ro(t,e){function r(){this.constructor=t}eo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var io=new Mt,no=(function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new Xt,n._width=r,n._height=i,n.uvMatrix=e.uvMatrix||new Fr(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}ro(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new St),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,io);var e=this._width,r=this._height,i=-e*this.anchor._x;if(io.x>=i&&io.x<i+e){var n=-r*this.anchor._y;if(io.y>=n&&io.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&(vt("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e(De.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(On),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),oo=new Dt,so=function(t){function e(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=Rr.from(no,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),r.simpleShader=Rr.from(no,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),r.quad=new We,r.state=Dr.for2d(),r}return ro(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==U.CLAMP:o.wrapMode===U.CLAMP&&(o.wrapMode=U.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;oo.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),oo.invert(),h?oo.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=oo.toArray(!0),u.uniforms.uColor=st(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),this.state.blendMode=nt(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Qe),ao=function(t,e){return(ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ho(t,e){function r(){this.constructor=t}ao(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var uo=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),lo=new Mt,co=new It,po=function(t){function e(e,r,i,n){void 0===n&&(n=R.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=i||Dr.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o.tint=16777215,o.blendMode=M.NORMAL,o._roundPixels=Y.ROUND_PIXELS,o.batchUvs=null,o}return ho(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===R.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels){var p=Y.RESOLUTION;for(l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new uo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,lo);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=co.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],co.contains(lo.x,lo.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Zt),fo=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:Dt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||Mr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new Fr(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return ho(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;st(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Rr),vo=function(t){function e(e,r,i){var n=t.call(this)||this,o=new ke(e),s=new ke(r,!0),a=new ke(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,L.FLOAT).addAttribute("aTextureCoord",s,2,!1,L.FLOAT).addIndex(a),n._updateId=-1,n}return ho(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Ye),mo=function(t,e){return(mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var yo=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},go=[function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var p=new yo;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new yo,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}()];function _o(t){for(var e=0;e<go.length;e++)if(go[e].test(t))return go[e];return null}function xo(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(t.width/i)-h-2*u,c=Math.ceil(t.height/i)-h-2*u,d=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,v=1;v<f;++v)p.push(v/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),r.fillGradientType===An.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var m=0,y=(o.fontProperties.fontSize+r.strokeThickness)/c;for(v=0;v<n.length;v++)for(var g=o.lineHeight*v,_=0;_<d.length;_++){var x=g/c+("number"==typeof p[_]?p[_]:_/d.length)*y,b=Math.max(m,x);b=Math.min(b,1),s.addColorStop(b,d[_]),m=b}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var T=d.length+1,E=1;for(v=0;v<d.length;v++){var w=void 0;w="number"==typeof p[v]?p[v]:E/T,s.addColorStop(w,d[v]),E++}}return s}function bo(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=xo(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=xo(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=tt("number"==typeof c?c:rt(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="0",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(),e.fillStyle="rgba(0, 0, 0, 0)"}var To=function(){function t(t,e){var r=t.info[0],i=t.common[0],n=bt(t.page[0].file),o={};for(var s in this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/n,this.chars={},this.pageTextures=o,t.page){var a=t.page[s],h=a.id,u=a.file;o[h]=e instanceof Array?e[s]:e[u]}for(var s in t.char){var l=t.char[s],c=(h=l.id,l.page),d=t.char[s],p=d.x,f=d.y,v=d.width,m=d.height,y=d.xoffset,g=d.yoffset,_=d.xadvance;f/=n,v/=n,m/=n,y/=n,g/=n,_/=n;var x=new St((p/=n)+o[c].frame.x/n,f+o[c].frame.y/n,v,m);this.chars[h]={xOffset:y,yOffset:g,xAdvance:_,kerning:{},texture:new De(o[c].baseTexture,x),page:c}}for(var s in t.kerning){var b=t.kerning[s],T=b.first,E=b.second,w=b.amount;T/=n,E/=n,w/=n,this.chars[E]&&(this.chars[E].kerning[T]=w)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var i;if(e instanceof yo)i=e;else{var n=_o(e);if(!n)throw new Error("Unrecognized data format for font.");i=n.parse(e)}r instanceof De&&(r=[r]);var o=new t(i,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof Rn?r:new Rn(r),d=h,p=new yo;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var f,v,m,y=0,g=0,_=0,x=[],b=0;b<l.length;b++){f||((f=document.createElement("canvas")).width=h,f.height=u,v=f.getContext("2d"),m=new ye(f,{resolution:a}),x.push(new De(m)),p.page.push({id:x.length-1,file:""}));var T=Fn.measureText(l[b],c,!1,f),E=T.width,w=Math.ceil(T.height),A=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(g>=u-w*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");f=null,v=null,m=null,g=0,y=0,_=0}else if(_=Math.max(w+T.fontProperties.descent,_),A*a+y>=d)--b,g+=_*a,g=Math.ceil(g),y=0,_=0;else{bo(f,v,T,y,g,a,c);var S=T.text.charCodeAt(0);p.char[S]={id:S,page:x.length-1,x:y/a,y:g/a,width:A,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))},y+=(A+2*s)*a,y=Math.ceil(y)}}var P=new t(p,x);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=P,P},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Eo=[],wo=[],Ao=(function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215,i.font&&(vt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(i));var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!To.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||To.available[l].size,n._text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new Rt((function(){n.dirty=!0}),n,0,0),n.roundPixels=Y.ROUND_PIXELS,n.dirty=!0,n}(function(t,e){function r(){this.constructor=t}mo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.updateText=function(){for(var t,e=To.available[this._fontName],r=this._fontSize/e.size,i=new Mt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*e.size/this._fontSize,u=null,l=0,c=0,d=0,p=-1,f=0,v=0,m=0,y=0;y<a;y++){var g=s.charCodeAt(y),_=s.charAt(y);if(/(?:\s)/.test(_)&&(p=y,f=l),"\r"!==_&&"\n"!==_){var x=e.chars[g];if(x){u&&x.kerning[u]&&(i.x+=x.kerning[u]);var b=wo.pop()||{texture:De.EMPTY,line:0,charCode:0,position:new Mt};b.texture=x.texture,b.line=d,b.charCode=g,b.position.x=i.x+x.xOffset+this._letterSpacing/2,b.position.y=i.y+x.yOffset,n.push(b),i.x+=x.xAdvance+this._letterSpacing,l=i.x,m=Math.max(m,x.yOffset+x.texture.height),u=g,-1!==p&&h>0&&i.x>h&&(lt(n,1+p-++v,1+y-p),y=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=e.lineHeight,u=null)}}else o.push(l),c=Math.max(c,l),++d,++v,i.x=0,i.y+=e.lineHeight,u=null}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(l=f),o.push(l),c=Math.max(c,l));var E=[];for(y=0;y<=d;y++){var w=0;"right"===this._align?w=c-o[y]:"center"===this._align&&(w=(c-o[y])/2),E.push(w)}var A=n.length,S={},P=[],O=this._activePagesMeshData;for(y=0;y<O.length;y++)Eo.push(O[y]);for(y=0;y<A;y++){var I=(D=n[y].texture).baseTexture.uid;if(!S[I]){if(!(j=Eo.pop())){var C=new vo,M=new fo(De.EMPTY);j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new po(C,M),vertices:null,uvs:null,indices:null}}j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,j.mesh.texture=new De(D.baseTexture),j.mesh.tint=this._tint,P.push(j),S[I]=j}S[I].total++}for(y=0;y<O.length;y++)-1===P.indexOf(O[y])&&this.removeChild(O[y].mesh);for(y=0;y<P.length;y++)P[y].mesh.parent!==this&&this.addChild(P[y].mesh);for(var y in this._activePagesMeshData=P,S){var R=(j=S[y]).total;(null===(t=j.indices)||void 0===t?void 0:t.length)>6*R&&!(j.vertices.length<2*po.BATCHABLE_SIZE)||(j.vertices=new Float32Array(8*R),j.uvs=new Float32Array(8*R),j.indices=new Uint16Array(6*R)),j.mesh.size=6*R}for(y=0;y<A;y++){var D,N=((_=n[y]).position.x+E[_.line])*r,L=_.position.y*r,F=S[(D=_.texture).baseTexture.uid],U=D.frame,B=D._uvs,k=F.index++;F.indices[6*k+0]=0+4*k,F.indices[6*k+1]=1+4*k,F.indices[6*k+2]=2+4*k,F.indices[6*k+3]=0+4*k,F.indices[6*k+4]=2+4*k,F.indices[6*k+5]=3+4*k,F.vertices[8*k+0]=N,F.vertices[8*k+1]=L,F.vertices[8*k+2]=N+U.width*r,F.vertices[8*k+3]=L,F.vertices[8*k+4]=N+U.width*r,F.vertices[8*k+5]=L+U.height*r,F.vertices[8*k+6]=N,F.vertices[8*k+7]=L+U.height*r,F.uvs[8*k+0]=B.x0,F.uvs[8*k+1]=B.y0,F.uvs[8*k+2]=B.x1,F.uvs[8*k+3]=B.y1,F.uvs[8*k+4]=B.x2,F.uvs[8*k+5]=B.y2,F.uvs[8*k+6]=B.x3,F.uvs[8*k+7]=B.y3}for(var y in this._textWidth=c*r,this._textHeight=(i.y+e.lineHeight)*r,S){var j=S[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var H=0,X=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y,z=0;z<j.total;z++)j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G;this._maxLineHeight=m*r;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),W=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,W.data=j.indices,Y.update(),V.update(),W.update()}for(y=0;y<n.length;y++)wo.push(n[y])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!To.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.registerFont=function(t,e){return vt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),To.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return vt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),To.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Zt),function(){function t(){}return t.add=function(){Fi.setExtensionXhrType("fnt",Fi.XHR_RESPONSE_TYPE.DOCUMENT)},t.use=function(e,r){var i=_o(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=To.install(o,s),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?a(p):p.onAfterMiddleware.add(a),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:Fi.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,f,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),So=function(t,e){return(So=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(t,e){function r(){this.constructor=t}So(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0})}(Nr);var Po=function(t,e){return(Po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Oo(t,e){function r(){this.constructor=t}Po(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Io,Co,Mo,Ro,Do,No,Lo,Fo,Uo,Bo,ko,jo,Ho,Xo,Go,zo,Yo,Vo={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Wo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Io||(Io={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Co||(Co={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Mo||(Mo={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Ro||(Ro={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Do||(Do={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(No||(No={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Lo||(Lo={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Fo||(Fo={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Uo||(Uo={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Bo||(Bo={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(ko||(ko={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(jo||(jo={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Ho||(Ho={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Xo||(Xo={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Go||(Go={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(zo||(zo={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Yo||(Yo={}));var qo=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=Y.RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=Vo[t],i=r.length,n=Wo,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return Oo(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Ho.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Ho.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Nr),Zo=(function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=Y.RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new qo(!0,e,r,i,n),o.blurYFilter=new qo(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}Oo(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Ho.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0})}(Nr),function(t,e){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});var Ko=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,ei,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}Zo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Nr);Ko.prototype.grayscale=Ko.prototype.greyscale;var Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){var i=this,n=new Dt;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new Mt(r,r),i}(function(t,e){function r(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(Nr);var Qo=function(t,e){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}(function(t,e){function r(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t)}(Nr);var $o=function(t,e){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,ei,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}(function(t,e){function r(){this.constructor=t}$o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(Nr);var ts=new Dt;Vt.prototype._cacheAsBitmap=!1,Vt.prototype._cacheData=null;var es=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Vt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new es),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Vt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Vt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(Y.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=Le.create({width:r.width,height:r.height}),h="cacheAsBitmap_"+pt();this._cacheData.textureCacheId=h,ye.addToCache(a.baseTexture,h),De.addToCache(a,h);var u=ts;u.tx=-r.x,u.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!0),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new On(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-r.x/r.width,l.anchor.y=-r.y/r.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}},Vt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Vt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(Y.RESOLUTION);var o=Le.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+pt();this._cacheData.textureCacheId=s,ye.addToCache(o.baseTexture,s),De.addToCache(o,s);var a=ts;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new On(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Vt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Vt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Vt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ye.removeFromCache(this._cacheData.textureCacheId),De.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Vt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Vt.prototype.name=null,Zt.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}}return null},Vt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Mt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function is(t,e){function r(){this.constructor=t}rs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ns=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return is(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,v=p*this.segWidth+d+1,m=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;i.push(f,v,m,v,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(vo),os=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return is(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var v=0;for(l=0;l<u-1;l++){c=2*l;o[v++]=c,o[v++]=c+1,o[v++]=c+2,o[v++]=c+2,o[v++]=c+1,o[v++]=c+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(vo),ss=(function(t){function e(e,r,i){void 0===i&&(i=0);var n=this,o=new os(e.height,r,i),s=new fo(e);return i>0&&(e.baseTexture.wrapMode=U.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}is(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)}}(po),function(t){function e(e,r,i){var n=this,o=new ns(e.width,e.height,r,i),s=new fo(De.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return is(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e}(po)),as=(function(t){function e(e,r,i,n,o){void 0===e&&(e=De.EMPTY);var s=this,a=new vo(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new fo(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}is(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(po),function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,De.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}is(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(ss),function(t,e){return(as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});!function(t){function e(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof De?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}(function(t,e){function r(){this.constructor=t}as(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&($t.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&($t.shared.add(this.update,this,Kt.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(De.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(De.from(t[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof De)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?($t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&($t.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(On);ti.registerPlugin("accessibility",Jt),ti.registerPlugin("extract",fi),ti.registerPlugin("interaction",he),ti.registerPlugin("particle",Vi),ti.registerPlugin("prepare",Qn),ti.registerPlugin("batch",li),ti.registerPlugin("tilingSprite",so),ki.registerPlugin(Ao),ki.registerPlugin(to),ci.registerPlugin(te),ci.registerPlugin(ji);function hs(t,e){return{x:t.x-e.x,y:t.y-e.y}}function us(t,e,r){void 0===r&&(r=1),void 0===e&&(e=t,t=0);for(var i=[],n=t;n<e;n+=r)i.push(n);return i}var ls=function(){function t(t,e,r,i,n){var o=new En;o.beginFill(9043968,1),o.drawEllipse(e,r,i,n),o.endFill();var s=new On(t.renderer.generateTexture(o,F.NEAREST,2));s.anchor.set(.5),s.position.set(e,r),s.interactive=!0,s.buttonMode=!0,this.sprite=s,this.scaleTarget=s.scale,this.scaleVelocity={x:0,y:0},t.stage.addChild(this.sprite)}return t.prototype.scale=function(t,e){var r,i,n;this.scaleTarget=t,this.scaleVelocity=(r=hs(t,this.sprite.scale),i={x:n=e,y:n},{x:r.x/i.x,y:r.y/i.y})},t.prototype.tick=function(){var t=hs(this.scaleTarget,this.sprite.scale);Math.abs(t.x)<Math.abs(this.scaleVelocity.x)&&(this.scaleVelocity.x=t.x),Math.abs(t.y)<Math.abs(this.scaleVelocity.y)&&(this.scaleVelocity.x=t.y);var e,r,i=(e=this.sprite.scale,r=this.scaleVelocity,{x:e.x+r.x,y:e.y+r.y});this.sprite.scale.set(i.x,i.y)},t}(),cs=function(){function t(t,e,r,i,n,o,s,a){var h=this;void 0===n&&(n=0),void 0===s&&(s=!0),void 0===a&&(a=!0),this.name=e,this.tagPrefix=o||e.replace(" ","-").toLowerCase(),this.values=r,this.value=r[n],this.i=n,this.defaultI=n,this.callback=i,this.container=document.createElement("div"),this.container.id=this.tagPrefix+"-container",this.container.classList.add("slider-container"),this.input=document.createElement("input"),this.input.type="range",this.input.id=this.tagPrefix+"-input",this.input.classList.add("slider-input"),this.input.min="0",this.input.max=(this.values.length-1).toString(),this.input.step="1",this.input.defaultValue=this.defaultI.toString(),this.input.addEventListener("input",(function(t){return h.onInput(t)})),s&&(this.label=document.createElement("label"),this.label.id=this.tagPrefix+"-label",this.input.classList.add("slider-label"),this.label.htmlFor=this.input.id,this.label.innerHTML=this.name,this.container.appendChild(this.label)),this.container.appendChild(this.input),a&&(this.valueDisplay=document.createElement("span"),this.valueDisplay.id=this.tagPrefix+"-value",this.valueDisplay.classList.add("slider-value"),this.container.appendChild(this.valueDisplay)),this.select(this.i),t.appendChild(this.container)}return t.prototype.select=function(t){this.i=t,this.value=this.values[t],this.valueDisplay&&(this.valueDisplay.innerHTML=this.value.toString())},t.prototype.onInput=function(t){this.select(parseInt(this.input.value)),this.callback&&this.callback(this,t)},t}(),ds={infectedPopulation:1,infectionRate:1,removalRate:0,maxInfected:4,minInfected:.05},ps={ticksPerStep:45,ticksSince:0},fs=document.getElementById("canvas-container"),vs=document.getElementById("controls-container"),ms=new ci({resizeTo:fs,backgroundColor:16777215,resolution:window.devicePixelRatio||1,antialias:!0});fs.appendChild(ms.view);new cs(vs,"Infection Rate",us(1,3,.1).map((function(t){return t.toFixed(2)})),(function(t,e){ds.infectionRate=t.value})),new cs(vs,"Removal Rate",us(0,3,.1).map((function(t){return t.toFixed(2)})),(function(t,e){ds.removalRate=t.value}));var ys=Math.round(ms.screen.width/2),gs=Math.round(ms.screen.height/2),_s=new ls(ms,ys,gs,50,50);function xs(t){if(ps.ticksSince+t>ps.ticksPerStep){ps.ticksSince=0;var e=ds.infectedPopulation*ds.infectionRate-ds.removalRate;ds.infectedPopulation=(r=e,i=ds.minInfected,n=ds.maxInfected,Math.min(Math.max(i,r),n)),_s.scale({x:ds.infectedPopulation,y:ds.infectedPopulation},ps.ticksPerStep)}var r,i,n;ps.ticksSince+=1,_s.tick()}function bs(){var t=ms.view.parentElement,e=t.clientWidth,r=t.clientHeight;ms.view.width=e,ms.view.style.width=e+"px",ms.view.height=r,ms.view.style.height=r+"px",ms.renderer.resize(e,r),_s.sprite.position.set(Math.round(ms.screen.width/2),Math.round(ms.screen.height/2))}window.addEventListener("load",(function(){bs(),window.addEventListener("resize",bs),ms.ticker.add(xs)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2VzbS9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL3NldHRpbmdzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb25zdGFudHMvbGliL2NvbnN0YW50cy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3V0aWxzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9tYXRoLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9kaXNwbGF5LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2xpYi9hY2Nlc3NpYmlsaXR5LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ydW5uZXIvbGliL3J1bm5lci5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29yZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9hcHAuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvbGliL2V4dHJhY3QuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9kaXN0L3Jlc291cmNlLWxvYWRlci5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvbGliL2xvYWRlcnMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9saWIvcGFydGljbGVzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvZ3JhcGhpY3MuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi90ZXh0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvc3ByaXRlc2hlZXQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi90ZXh0LWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2xpYi9maWx0ZXItYWxwaGEuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9maWx0ZXItYmx1ci5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2ZpbHRlci1meGFhLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvbGliL2ZpbHRlci1ub2lzZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwL2xpYi9taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9saWIvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL21lc2gtZXh0cmFzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL3Nwcml0ZS1hbmltYXRlZC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGl4aS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFsbG9vbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsIk1pbmlTaWduYWxCaW5kaW5nIiwiZm4iLCJvbmNlIiwidGhpc0FyZyIsInVuZGVmaW5lZCIsInRoaXMiLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsInNlbGYiLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJleGlzdHMiLCJhcmd1bWVudHMiLCJlZSIsInB1c2giLCJFcnJvciIsImFwcGx5IiwiZyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInB1bnljb2RlIiwidXRpbCIsIlVybCIsInByb3RvY29sIiwic2xhc2hlcyIsImF1dGgiLCJob3N0IiwicG9ydCIsImhvc3RuYW1lIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJwYXRoIiwiaHJlZiIsInBhcnNlIiwidXJsUGFyc2UiLCJyZXNvbHZlIiwic291cmNlIiwicmVsYXRpdmUiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0Iiwib2JqIiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiY29uY2F0IiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJ1IiwicXVlcnlJbmRleCIsImluZGV4T2YiLCJzcGxpdHRlciIsInVTcGxpdCIsInNwbGl0IiwicmVwbGFjZSIsInJlc3QiLCJqb2luIiwidHJpbSIsInNpbXBsZVBhdGgiLCJleGVjIiwic3Vic3RyIiwicHJvdG8iLCJsb3dlclByb3RvIiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJsYXN0SW5kZXhPZiIsInNsaWNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJqIiwiayIsImNoYXJDb2RlQXQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJ0b0FTQ0lJIiwiaCIsImFlIiwiZXNjIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwicW0iLCJrZXlzIiwic3RyaW5naWZ5IiwiY2hhckF0IiwicmVsIiwicmVzdWx0IiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInYiLCJyZWxQYXRoIiwic2hpZnQiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwicG9wIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwibGFzdCIsImhhc1RyYWlsaW5nU2xhc2giLCJ1cCIsInNwbGljZSIsImlzQWJzb2x1dGUiLCJzdHIiLCJvcHRzIiwicSIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwic3RyaWN0TW9kZSIsInVyaSIsIiQwIiwiJDEiLCIkMiIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiY29udGV4dCIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsIl9fcHJvdG9fXyIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiQXJyYXkiLCJsaXN0ZW5lckNvdW50IiwiZW1pdCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhcmdzIiwibGVuIiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwiZWFyY3V0IiwiZGF0YSIsImhvbGVJbmRpY2VzIiwiZGltIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsIngiLCJ5IiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJzdGFydCIsImVuZCIsImxpc3QiLCJxdWV1ZSIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsIk1hdGgiLCJtYXgiLCJlYXJjdXRMaW5rZWQiLCJjbG9ja3dpc2UiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwic3RvcCIsImlzRWFySGFzaGVkIiwiaXNFYXIiLCJjdXJlTG9jYWxJbnRlcnNlY3Rpb25zIiwic3BsaXRFYXJjdXQiLCJhIiwiYiIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJoeCIsImh5IiwicXgiLCJJbmZpbml0eSIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJhYnMiLCJzZWN0b3JDb250YWluc1NlY3RvciIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIm8xIiwic2lnbiIsIm8yIiwibzMiLCJvNCIsIm9uU2VnbWVudCIsIm1pbiIsIm51bSIsIk5vZGUiLCJiMiIsImFuIiwiYnAiLCJzdW0iLCJkZWZhdWx0IiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsInZlcnRpY2VzIiwiaG9sZXMiLCJkaW1lbnNpb25zIiwiaG9sZUluZGV4IiwiTmF0aXZlUHJvbWlzZSIsImdsb2JhbCIsIm5hdGl2ZVByb21pc2VTdXBwb3J0ZWQiLCJQcm9taXNlIiwiUG9seWZpbGwiLCJOT09QIiwiaXNBcnJheSIsInRvU3RyaW5nIiwiYXN5bmNUaW1lciIsImFzeW5jU2V0VGltZXIiLCJzZXRJbW1lZGlhdGUiLCJzZXRUaW1lb3V0IiwiYXN5bmNRdWV1ZSIsImFzeW5jRmx1c2giLCJhc3luY0NhbGwiLCJjYWxsYmFjayIsImFyZyIsImludm9rZUNhbGxiYWNrIiwic3Vic2NyaWJlciIsIm93bmVyIiwic2V0dGxlZCIsInN0YXRlXyIsImRhdGFfIiwicHJvbWlzZSIsInRoZW4iLCJyZWplY3QiLCJoYW5kbGVUaGVuYWJsZSIsInJlc29sdmVkIiwidmFsIiwiZnVsZmlsbCIsInJlYXNvbiIsInB1Ymxpc2hGdWxmaWxsbWVudCIsInB1Ymxpc2hSZWplY3Rpb24iLCJwdWJsaXNoIiwiY2FsbGJhY2tzIiwidGhlbl8iLCJyZXNvbHZlciIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJhbGwiLCJwcm9taXNlcyIsInJlc3VsdHMiLCJyZW1haW5pbmciLCJpbmRleCIsInJhY2UiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsImFzc2lnbiIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwibWFwIiwidGVzdDMiLCJmb3JFYWNoIiwibGV0dGVyIiwiZXJyIiwic2hvdWxkVXNlTmF0aXZlIiwiZnJvbSIsInN5bWJvbHMiLCJ0byIsIlRpbWVvdXQiLCJpZCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNjb3BlIiwiY2xlYXJUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidGltZW91dCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJpdGVtIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJodG1sIiwiY2hhbm5lbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImRvY3VtZW50IiwiYXR0YWNoVG8iLCJnZXRQcm90b3R5cGVPZiIsInByb2Nlc3MiLCJoYW5kbGUiLCJuZXh0VGljayIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJwb3J0MiIsImNyZWF0ZUVsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwicmFuZG9tIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwidGFzayIsInJ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJyb290Iiwibm9kZVR5cGUiLCJmcmVlR2xvYmFsIiwibWF4SW50IiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJmbG9vciIsInN0cmluZ0Zyb21DaGFyQ29kZSIsImVycm9yIiwidHlwZSIsIlJhbmdlRXJyb3IiLCJtYXBEb21haW4iLCJzdHJpbmciLCJwYXJ0cyIsInVjczJkZWNvZGUiLCJleHRyYSIsIm91dHB1dCIsImNvdW50ZXIiLCJ1Y3MyZW5jb2RlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJmbGFnIiwiYWRhcHQiLCJkZWx0YSIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImJhc2VNaW51c1RNaW4iLCJiYXNlIiwiZGVjb2RlIiwiaW5wdXQiLCJvdXQiLCJiYXNpYyIsIm9sZGkiLCJ3IiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwidGVzdCIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJwcm9wIiwicXMiLCJzZXAiLCJlcSIsIm9wdGlvbnMiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJpZHgiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwib2JqZWN0S2V5cyIsImtzIiwiZiIsInJlcyIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJzdGFydFRpbWVfMSIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsIk51bWJlciIsImlzTmFOIiwiaXNJbnRlZ2VyIiwiQXJyYXlCdWZmZXIiLCJGbG9hdDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDhBcnJheSIsIkludDMyQXJyYXkiLCJhcHBsZUlwaG9uZSIsImFwcGxlSXBvZCIsImFwcGxlVGFibGV0IiwiYXBwbGVVbml2ZXJzYWwiLCJhbmRyb2lkUGhvbmUiLCJhbmRyb2lkVGFibGV0IiwiYW1hem9uUGhvbmUiLCJhbWF6b25UYWJsZXQiLCJ3aW5kb3dzUGhvbmUiLCJ3aW5kb3dzVGFibGV0Iiwib3RoZXJCbGFja0JlcnJ5Iiwib3RoZXJCbGFja0JlcnJ5MTAiLCJvdGhlck9wZXJhIiwib3RoZXJDaHJvbWUiLCJvdGhlckZpcmVmb3giLCJpc0FwcGxlVGFibGV0T25Jb3MxMyIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwibWF4VG91Y2hQb2ludHMiLCJNU1N0cmVhbSIsInBhcmFtIiwibmF2IiwidXNlckFnZW50IiwidG1wIiwicmVnZXgiLCJjcmVhdGVNYXRjaCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwidW5pdmVyc2FsIiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJpc01vYmlsZSIsIkVOViIsIlJFTkRFUkVSX1RZUEUiLCJCVUZGRVJfQklUUyIsIkJMRU5EX01PREVTIiwiRFJBV19NT0RFUyIsIkZPUk1BVFMiLCJUQVJHRVRTIiwiVFlQRVMiLCJTQ0FMRV9NT0RFUyIsIldSQVBfTU9ERVMiLCJNSVBNQVBfTU9ERVMiLCJBTFBIQV9NT0RFUyIsIkNMRUFSX01PREVTIiwiR0NfTU9ERVMiLCJQUkVDSVNJT04iLCJNQVNLX1RZUEVTIiwiTVNBQV9RVUFMSVRZIiwic2V0dGluZ3MiLCJNSVBNQVBfVEVYVFVSRVMiLCJBTklTT1RST1BJQ19MRVZFTCIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJhbGxvd01heCIsInBhcnNlSW50IiwibWF4UmVjb21tZW5kZWRUZXh0dXJlcyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJ2aWV3IiwiYW50aWFsaWFzIiwiYXV0b0RlbnNpdHkiLCJ0cmFuc3BhcmVudCIsImJhY2tncm91bmRDb2xvciIsImNsZWFyQmVmb3JlUmVuZGVyIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwiUkVUSU5BX1BSRUZJWCIsIkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUIiwic2FpZEhlbGxvIiwiaGV4MnJnYiIsImhleCIsImhleDJzdHJpbmciLCJoZXhTdHJpbmciLCJzdHJpbmcyaGV4IiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJwbSIsIm5wbSIsIk5PUk1BTF9OUE0iLCJOT1JNQUwiLCJBRERfTlBNIiwiQUREIiwiU0NSRUVOX05QTSIsIlNDUkVFTiIsIm1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiYWxwaGEiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVRpbnRUb1JnYmEiLCJwcmVtdWx0aXBseSIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsInJlbW92ZUl0ZW1zIiwiYXJyIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIm5leHRVaWQiLCJ1aWQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJjb25zb2xlIiwid2FybiIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJQcm9ncmFtQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwicmVzb2x1dGlvbiIsImNhbnZhcyIsImdldENvbnRleHQiLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsImRlc3Ryb3kiLCJzZXQiLCJ0ZW1wQW5jaG9yIiwiZ2V0UmVzb2x1dGlvbk9mVXJsIiwiZGVmYXVsdFZhbHVlIiwicGFyc2VGbG9hdCIsIlNIQVBFUyIsIlBJXzIiLCJQSSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwiUmVjdGFuZ2xlIiwiUkVDVCIsImNsb25lIiwiY29weUZyb20iLCJyZWN0YW5nbGUiLCJjb3B5VG8iLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwiQ0lSQyIsInIyIiwiZHgiLCJkeSIsImdldEJvdW5kcyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiRUxJUCIsIm5vcm14Iiwibm9ybXkiLCJQb2x5Z29uIiwiYXJndW1lbnRzJDEiLCJwb2ludHMiLCJfaSIsImZsYXQiLCJpbCIsIlBPTFkiLCJjbG9zZVN0cm9rZSIsInBvbHlnb24iLCJ4aSIsInlpIiwieGoiLCJ5aiIsIlJvdW5kZWRSZWN0YW5nbGUiLCJSUkVDIiwicmFkaXVzMiIsIlBvaW50IiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJfeCIsIl95IiwiTWF0cml4IiwidHgiLCJ0eSIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwic2tldyIsInNxcnQiLCJwb3NpdGlvbiIsImludmVydCIsImlkZW50aXR5IiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJtYXQiLCJpbml0IiwiZ3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsIm1hdHJpeEFwcGVuZFJvdGF0aW9uSW52IiwiVHJhbnNmb3JtIiwid29ybGRUcmFuc2Zvcm0iLCJsb2NhbFRyYW5zZm9ybSIsIm9uQ2hhbmdlIiwicGl2b3QiLCJ1cGRhdGVTa2V3IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5IiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfd29ybGRJRCIsIl9wYXJlbnRJRCIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwibHQiLCJ1cGRhdGVUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsInd0Iiwic2V0RnJvbU1hdHJpeCIsIklERU5USVRZIiwiU09SVEFCTEVfQ0hJTERSRU4iLCJCb3VuZHMiLCJyZWN0IiwidXBkYXRlSUQiLCJpc0VtcHR5IiwiZ2V0UmVjdGFuZ2xlIiwiRU1QVFkiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZEZyYW1lTWF0cml4IiwiYWRkVmVydGV4RGF0YSIsInZlcnRleERhdGEiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsImFkZFZlcnRpY2VzIiwiYWRkVmVydGljZXNNYXRyaXgiLCJwYWRYIiwicGFkWSIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc01hdHJpeCIsImFkZEJvdW5kc0FyZWEiLCJhZGRGcmFtZVBhZCIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fZXh0ZW5kcyIsIl9fIiwiX3N1cGVyIiwiRGlzcGxheU9iamVjdCIsIl90aGlzIiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsInBhcmVudCIsIndvcmxkQWxwaGEiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsImZpbHRlckFyZWEiLCJmaWx0ZXJzIiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9sb2NhbEJvdW5kcyIsIl9ib3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwiaXNNYXNrIiwibWl4aW4iLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInNraXBVcGRhdGUiLCJjYWxjdWxhdGVCb3VuZHMiLCJnZXRMb2NhbEJvdW5kcyIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsIndvcmxkQm91bmRzIiwid29ybGRCb3VuZHNJRCIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJhZGRDaGlsZCIsIl9vcHRpb25zIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJlbmFibGVUZW1wUGFyZW50IiwibXlQYXJlbnQiLCJkaXNhYmxlVGVtcFBhcmVudCIsImNhY2hlUGFyZW50Iiwic29ydERpcnR5IiwibWFza09iamVjdCIsInNvcnRDaGlsZHJlbiIsInpJbmRleCIsIkNvbnRhaW5lciIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiX2xlbmd0aCIsImNoaWxkIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwic29ydFJlcXVpcmVkIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInNraXBDaGlsZHJlblVwZGF0ZSIsInJlbmRlciIsInJlbmRlcmVyIiwicmVuZGVyQWR2YW5jZWQiLCJfcmVuZGVyIiwiYmF0Y2giLCJmbHVzaCIsImVuYWJsZWQiLCJmaWx0ZXIiLCJfcmVuZGVyZXIiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJsZVRpdGxlIiwiYWNjZXNzaWJsZUhpbnQiLCJ0YWJJbmRleCIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiX2FjY2Vzc2libGVEaXYiLCJhY2Nlc3NpYmxlVHlwZSIsImFjY2Vzc2libGVQb2ludGVyRXZlbnRzIiwiYWNjZXNzaWJsZUNoaWxkcmVuIiwicmVuZGVySWQiLCJVUERBVEVfUFJJT1JJVFkiLCJBY2Nlc3NpYmlsaXR5TWFuYWdlciIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiZGl2Iiwic3R5bGUiLCJESVZfVE9VQ0hfU0laRSIsInRvcCIsIkRJVl9UT1VDSF9QT1NfWCIsImxlZnQiLCJESVZfVE9VQ0hfUE9TX1kiLCJwb29sIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiX2lzQWN0aXZlIiwiX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSIsImFuZHJvaWRVcGRhdGVDb3VudCIsImFuZHJvaWRVcGRhdGVGcmVxdWVuY3kiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJib2R5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZSIsInBhcmVudE5vZGUiLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJkaXNwbGF5T2JqZWN0IiwicmVuZGVyaW5nVG9TY3JlZW4iLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3giLCJzeSIsImNhcEhpdEFyZWEiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVEZWJ1Z0hUTUwiLCJpbm5lckhUTUwiLCJib3JkZXJTdHlsZSIsIl9vbkNsaWNrIiwiX29uRm9jdXMiLCJfb25Gb2N1c091dCIsInBvaW50ZXJFdmVudHMiLCJpbnRlcmFjdGlvbk1hbmFnZXIiLCJwbHVnaW5zIiwiaW50ZXJhY3Rpb24iLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnREYXRhIiwia2V5Q29kZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIlRBUkdFVF9GUE1TIiwiVGlja2VyTGlzdGVuZXIiLCJwcmlvcml0eSIsInByZXZpb3VzIiwiZGVsdGFUaW1lIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsIlRpY2tlciIsIl9yZXF1ZXN0SWQiLCJfbWF4RWxhcHNlZE1TIiwiX21pbkVsYXBzZWRNUyIsImF1dG9TdGFydCIsImRlbHRhTVMiLCJlbGFwc2VkTVMiLCJzcGVlZCIsInN0YXJ0ZWQiLCJfcHJvdGVjdGVkIiwiX2xhc3RGcmFtZSIsIl90aWNrIiwidGltZSIsIl9yZXF1ZXN0SWZOZWVkZWQiLCJfY2FuY2VsSWZOZWVkZWQiLCJfc3RhcnRJZlBvc3NpYmxlIiwiX2FkZExpc3RlbmVyIiwiYWRkT25jZSIsImN1cnJlbnQiLCJyZW1vdmUiLCJjb3VudCIsImhlYWQiLCJmcHMiLCJtaW5GUFMiLCJtYXhGUFMiLCJtaW5GUE1TIiwicm91bmQiLCJfc2hhcmVkIiwic2hhcmVkIiwiX3N5c3RlbSIsInN5c3RlbSIsIlRpY2tlclBsdWdpbiIsInNoYXJlZFRpY2tlciIsInRpY2tlciIsIl90aWNrZXIiLCJMT1ciLCJvbGRUaWNrZXIiLCJJbnRlcmFjdGlvbkRhdGEiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJjb3B5RXZlbnQiLCJ3aGljaCIsInJlc2V0IiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwicG9pbnRlcklkIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiTk9ORSIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIlRyZWVTZWFyY2giLCJfdGVtcFBvaW50IiwicmVjdXJzaXZlRmluZEhpdCIsImludGVyYWN0aW9uRXZlbnQiLCJmdW5jIiwiaGl0VGVzdCIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY29udGFpbnNQb2ludCIsImNoaWxkSGl0IiwiZmluZEhpdCIsImludGVyYWN0aXZlVGFyZ2V0IiwiY3Vyc29yIiwiX3RyYWNrZWRQb2ludGVycyIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsInRpY2tlckFkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJwb2ludGVyIiwiY3VycmVudEN1cnNvck1vZGUiLCJkZWxheWVkRXZlbnRzIiwiX3RlbXBEaXNwbGF5T2JqZWN0IiwiX3VzZVN5c3RlbVRpY2tlciIsInVzZVN5c3RlbVRpY2tlciIsInNldFRhcmdldEVsZW1lbnQiLCJhZGRUaWNrZXJMaXN0ZW5lciIsInJlbW92ZVRpY2tlckxpc3RlbmVyIiwiZ2xvYmFsUG9pbnQiLCJsYXN0T2JqZWN0UmVuZGVyZWQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJlbGVtZW50IiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwidGlja2VyVXBkYXRlIiwiSU5URVJBQ1RJT04iLCJtc1BvaW50ZXJFbmFibGVkIiwibXNDb250ZW50Wm9vbWluZyIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsIl9kZWx0YVRpbWUiLCJfZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJfYSIsImRpc3BsYXlPYmplY3RfMSIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwicHJldmVudERlZmF1bHQiLCJldmVudExlbiIsImdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsImlzUmlnaHRCdXR0b24iLCJ0cmFja2VkUG9pbnRlcnMiLCJyaWdodERvd24iLCJsZWZ0RG93biIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwib3ZlciIsIm5vbmUiLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2giLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJmb3JjZSIsImxheWVyWCIsIm9mZnNldFgiLCJsYXllclkiLCJvZmZzZXRZIiwiTW91c2VFdmVudCIsInRlbXBFdmVudCIsIlJ1bm5lciIsIml0ZW1zIiwiX25hbWUiLCJfYWxpYXNDb3VudCIsImEwIiwiYTYiLCJhNyIsImVuc3VyZU5vbkFsaWFzZWRJdGVtcyIsInJlbW92ZUFsbCIsImRpc3BhdGNoIiwiUFJFRkVSX0VOViIsIldFQkdMIiwiV0VCR0wyIiwiU1RSSUNUX1RFWFRVUkVfQ0FDSEUiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJleHRlbnNpb24iLCJSZXNvdXJjZVBsdWdpbiIsIlJlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsImJhc2VUZXh0dXJlIiwidW5iaW5kIiwibG9hZCIsIl9iYXNlVGV4dHVyZSIsIl9nbFRleHR1cmUiLCJkaXNwb3NlIiwiX3NvdXJjZSIsIl9leHRlbnNpb24iLCJCdWZmZXJSZXNvdXJjZSIsInVwbG9hZCIsImdsVGV4dHVyZSIsImdsIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJhbHBoYU1vZGUiLCJVTlBBQ0siLCJ0ZXhTdWJJbWFnZTJEIiwidGV4SW1hZ2UyRCIsImludGVybmFsRm9ybWF0IiwiZGVmYXVsdEJ1ZmZlck9wdGlvbnMiLCJzY2FsZU1vZGUiLCJORUFSRVNUIiwiUkdCQSIsIk5QTSIsIkJhc2VUZXh0dXJlIiwicmVzb3VyY2UiLCJtaXBtYXAiLCJhbmlzb3Ryb3BpY0xldmVsIiwid3JhcE1vZGUiLCJyZXNvdXJjZU9wdGlvbnMiLCJVTlNJR05FRF9CWVRFIiwiVEVYVFVSRV8yRCIsInByZW11bHRpcGx5QWxwaGEiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJfZ2xUZXh0dXJlcyIsImRpcnR5SWQiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidmFsaWQiLCJ0ZXh0dXJlQ2FjaGVJZHMiLCJfYmF0Y2hFbmFibGVkIiwiX2JhdGNoTG9jYXRpb24iLCJwYXJlbnRUZXh0dXJlQXJyYXkiLCJzZXRSZXNvdXJjZSIsInNldFN0eWxlIiwiZGlydHkiLCJzZXRTaXplIiwic2V0UmVhbFNpemUiLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0Iiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJjYXN0VG9CYXNlVGV4dHVyZSIsImlzRnJhbWUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJGTE9BVCIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiX2dsb2JhbEJhdGNoIiwiQWJzdHJhY3RNdWx0aVJlc291cmNlIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJfbG9hZCIsImluaXRGcm9tQXJyYXkiLCJyZXNvdXJjZXMiLCJhZGRCYXNlVGV4dHVyZUF0IiwiYWRkUmVzb3VyY2VBdCIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiVEVYVFVSRV8yRF9BUlJBWSIsInRleHR1cmUiLCJ0ZXhJbWFnZTNEIiwidGV4U3ViSW1hZ2UzRCIsIkJhc2VJbWFnZVJlc291cmNlIiwic291cmNlQW55IiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsIm5vU3ViSW1hZ2UiLCJjcm9zc09yaWdpbiIsImNyb3Nzb3JpZ2luIiwibG9jIiwibG9jYXRpb24iLCJwYXJzZWRVcmwiLCJzYW1lUG9ydCIsImRldGVybWluZUNyb3NzT3JpZ2luIiwiQ2FudmFzUmVzb3VyY2UiLCJPZmZzY3JlZW5DYW52YXMiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkN1YmVSZXNvdXJjZSIsImF1dG9Mb2FkIiwibGlua0Jhc2VUZXh0dXJlIiwiU0lERVMiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQIiwic2lkZSIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJjb21wbGV0ZSIsIl9wcm9jZXNzIiwicHJlc2VydmVCaXRtYXAiLCJjcmVhdGVCaXRtYXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImJpdG1hcCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJnbFRleHR1cmVzIiwib3RoZXJUZXgiLCJTVkdSZXNvdXJjZSIsInNvdXJjZUJhc2U2NCIsInN2ZyIsIl9vdmVycmlkZVdpZHRoIiwiX292ZXJyaWRlSGVpZ2h0IiwiX3Jlc29sdmUiLCJfY3Jvc3NvcmlnaW4iLCJidG9hIiwidW5lc2NhcGUiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwic2l6ZSIsIlZpZGVvUmVzb3VyY2UiLCJIVE1MVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50IiwiZmlyc3RTcmMiLCJzb3VyY2VFbGVtZW50IiwibWltZSIsImJhc2VTcmMiLCJleHQiLCJNSU1FX1RZUEVTIiwiX2F1dG9VcGRhdGUiLCJfaXNDb25uZWN0ZWRUb1RpY2tlciIsIl91cGRhdGVGUFMiLCJ1cGRhdGVGUFMiLCJfbXNUb05leHRVcGRhdGUiLCJhdXRvUGxheSIsIl9vbkNhblBsYXkiLCJfb25FcnJvciIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInBhdXNlIiwib2d2IiwibW92IiwibTR2IiwiSW1hZ2VCaXRtYXBSZXNvdXJjZSIsIkltYWdlQml0bWFwIiwiU3lzdGVtIiwiRGVwdGhSZXNvdXJjZSIsIndlYkdMVmVyc2lvbiIsIkRFUFRIX0NPTVBPTkVOVCIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiRnJhbWVidWZmZXIiLCJzdGVuY2lsIiwiZGVwdGgiLCJkaXJ0eUZvcm1hdCIsImRpcnR5U2l6ZSIsImRlcHRoVGV4dHVyZSIsImNvbG9yVGV4dHVyZXMiLCJnbEZyYW1lYnVmZmVycyIsImRpc3Bvc2VSdW5uZXIiLCJtdWx0aXNhbXBsZSIsImFkZENvbG9yVGV4dHVyZSIsIk9GRiIsImFkZERlcHRoVGV4dHVyZSIsIlVOU0lHTkVEX1NIT1JUIiwiZW5hYmxlRGVwdGgiLCJlbmFibGVTdGVuY2lsIiwiZGVzdHJveURlcHRoVGV4dHVyZSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwid2lkdGhfMSIsImhlaWdodF8xIiwiY2xlYXJDb2xvciIsImZyYW1lYnVmZmVyIiwibWFza1N0YWNrIiwiZmlsdGVyU3RhY2siLCJUZXh0dXJlVXZzIiwieDMiLCJ5MyIsInV2c0Zsb2F0MzIiLCJmcmFtZSIsImJhc2VGcmFtZSIsInR3IiwidGgiLCJ3MiIsImgyIiwiY1giLCJjWSIsIkRFRkFVTFRfVVZTIiwiVGV4dHVyZSIsIm9yaWciLCJhbmNob3IiLCJub0ZyYW1lIiwiX2ZyYW1lIiwiX3V2cyIsInV2TWF0cml4IiwiX3JvdGF0ZSIsImRlZmF1bHRBbmNob3IiLCJfdXBkYXRlSUQiLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsInVwZGF0ZVV2cyIsImRlc3Ryb3lCYXNlIiwiZnJvbVVSTCIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlUG9vbCIsInRleHR1cmVPcHRpb25zIiwidGV4dHVyZVBvb2wiLCJlbmFibGVGdWxsU2NyZWVuIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImNyZWF0ZVRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiU0NSRUVOX0tFWSIsInJlbmRlclRleHR1cmUiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiZmlsdGVyVGV4dHVyZSIsInJldHVyblRleHR1cmUiLCJyZXR1cm5GaWx0ZXJUZXh0dXJlIiwiZGVzdHJveVRleHR1cmVzIiwidGV4dHVyZXMiLCJzZXRTY3JlZW5TaXplIiwic2NyZWVuS2V5IiwiQXR0cmlidXRlIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIlVJRCIsIkJ1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiQllURVNfUEVSX0VMRU1FTlQiLCJieXRlU2l6ZU1hcCIsIjUxMjYiLCI1MTIzIiwiNTEyMSIsIlVJRCQxIiwibWFwJDEiLCJHZW9tZXRyeSIsImJ1ZmZlcnMiLCJhdHRyaWJ1dGVzIiwiaW5kZXhCdWZmZXIiLCJnbFZlcnRleEFycmF5T2JqZWN0cyIsImluc3RhbmNlZCIsImluc3RhbmNlQ291bnQiLCJyZWZDb3VudCIsImFkZEF0dHJpYnV0ZSIsImlkcyIsImJ1ZmZlckluZGV4IiwiZ2V0QnVmZmVyIiwiYWRkSW5kZXgiLCJnZXRJbmRleCIsImludGVybGVhdmUiLCJhcnJheXMiLCJzaXplcyIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwib3V0U2l6ZSIsInZpZXdzIiwibGl0dGxlT2Zmc2V0IiwiZ2VvbWV0cnkiLCJhdHRyaWIiLCJtZXJnZSIsImdlb21ldHJpZXMiLCJnZW9tZXRyeU91dCIsIm9mZnNldHMiLCJvZmZzZXQiLCJvZmZzZXQyIiwiYnVmZmVySW5kZXhUb0NvdW50IiwiaW5kZXhCdWZmZXJEYXRhIiwiUXVhZCIsIlF1YWRVdiIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsInNvdXJjZUZyYW1lIiwiRmlsdGVyU3lzdGVtIiwiZGVmYXVsdEZpbHRlclN0YWNrIiwic3RhdGVQb29sIiwicXVhZCIsInF1YWRVdiIsInRlbXBSZWN0IiwiYWN0aXZlU3RhdGUiLCJnbG9iYWxVbmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJmaWx0ZXJDbGFtcCIsImZvcmNlQ2xlYXIiLCJ1c2VNYXhQYWRkaW5nIiwic3RhdGUiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiYmxpdCIsIkJMRU5EIiwiZmxpcCIsImZsb3AiLCJDTEVBUiIsImJpbmRBbmRDbGVhciIsImNsZWFyTW9kZSIsIkJMSVQiLCJhcHBseUZpbHRlciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwibWFwcGVkTWF0cml4IiwiVEVNUF9NQVRSSVgiLCJzd2FwIiwiZW1wdHlQb29sIiwiT2JqZWN0UmVuZGVyZXIiLCJfb2JqZWN0IiwiQmF0Y2hTeXN0ZW0iLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJvYmplY3RSZW5kZXJlciIsImNvcHlCb3VuZFRleHR1cmVzIiwibWF4VGV4dHVyZXMiLCJib3VuZFRleHR1cmVzIiwiYm91bmRBcnJheSIsInRleEFycmF5IiwiYmF0Y2hJZCIsImVsZW1lbnRzIiwiYm91bmQiLCJDT05URVhUX1VJRF9DT1VOVEVSIiwiQ29udGV4dFN5c3RlbSIsImV4dGVuc2lvbnMiLCJzdXBwb3J0cyIsInVpbnQzMkluZGljZXMiLCJoYW5kbGVDb250ZXh0TG9zdCIsImhhbmRsZUNvbnRleHRSZXN0b3JlZCIsImlzQ29udGV4dExvc3QiLCJjb250ZXh0Q2hhbmdlIiwiQ09OVEVYVF9VSUQiLCJnZXRFeHRlbnNpb24iLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwibG9zZUNvbnRleHQiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwidWludDMyRWxlbWVudEluZGV4IiwiZmxvYXRUZXh0dXJlIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwidGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJjb2xvckJ1ZmZlckZsb2F0IiwidXNlUHJvZ3JhbSIsInBvc3RyZW5kZXIiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImhhc3VpbnQzMiIsIldlYkdMMlJlbmRlcmluZ0NvbnRleHQiLCJtc2FhQnVmZmVyIiwiYmxpdEZyYW1lYnVmZmVyIiwidGVtcFJlY3RhbmdsZSIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsIm1zYWFTYW1wbGVzIiwidmlld3BvcnQiLCJoYXNNUlQiLCJ3cml0ZURlcHRoVGV4dHVyZSIsImRpc3Bvc2VBbGwiLCJuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiV0VCR0xfTEVHQUNZIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIiLCJSRU5ERVJCVUZGRVIiLCJSR0JBOCIsIlNBTVBMRVMiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJzZXRWaWV3cG9ydCIsIkNPTE9SIiwiREVQVEgiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImRldGVjdFNhbXBsZXMiLCJiaW5kUmVuZGVyYnVmZmVyIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkNPTE9SX0FUVEFDSE1FTlQwIiwicGFyZW50VGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiREVQVEhfQVRUQUNITUVOVCIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInNhbXBsZXMiLCJzb3VyY2VQaXhlbHMiLCJkZXN0UGl4ZWxzIiwic2FtZVNpemUiLCJSRUFEX0ZSQU1FQlVGRkVSIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkxJTkVBUiIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJmb3JjZVN0ZW5jaWwiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlU2l6ZU1hcCQxIiwiR2VvbWV0cnlTeXN0ZW0iLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJuYXRpdmVWYW9FeHRlbnNpb25fMSIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJpbnN0YW5jZUV4dF8xIiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiwidmFvcyIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJzaWduYXR1cmUiLCJ2YW9PYmplY3RIYXNoIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImF0dHJpYlNpemUiLCJjcmVhdGVCdWZmZXIiLCJkaXNwb3NlQnVmZmVyIiwiZGVsZXRlQnVmZmVyIiwiZGlzcG9zZUdlb21ldHJ5IiwiYnVmIiwidmFvSWQiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiYnl0ZVNpemUiLCJnbFR5cGUiLCJVTlNJR05FRF9JTlQiLCJkcmF3RWxlbWVudHMiLCJkcmF3QXJyYXlzIiwiTWFza0RhdGEiLCJhdXRvRGV0ZWN0IiwicG9vbGVkIiwiaXNNYXNrRGF0YSIsIl9zdGVuY2lsQ291bnRlciIsIl9zY2lzc29yQ291bnRlciIsIl9zY2lzc29yUmVjdCIsIl90YXJnZXQiLCJjb3B5Q291bnRlcnNPclJlc2V0IiwibWFza0Fib3ZlIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZ2xGcmFnU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJib29sZWFuQXJyYXkiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsInVua25vd25Db250ZXh0IiwiZ2V0VGVzdENvbnRleHQiLCJzZXRQcmVjaXNpb24iLCJyZXF1ZXN0ZWRQcmVjaXNpb24iLCJtYXhTdXBwb3J0ZWRQcmVjaXNpb24iLCJzdWJzdHJpbmciLCJwcmVjaXNpb24iLCJISUdIIiwiTUVESVVNIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsInVuaWZvcm1QYXJzZXJzIiwiY29kZSIsInVuaWZvcm0iLCJHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCIsInNhbXBsZXJDdWJlIiwic2FtcGxlcjJEQXJyYXkiLCJHTFNMX1RPX0FSUkFZX1NFVFRFUlMiLCJ1bnNhZmVFdmFsIiwiZnJhZ1RlbXBsYXRlIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJtYXhJZnMiLCJVSUQkMyIsIm5hbWVDYWNoZSIsIlByb2dyYW0iLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0Iiwic2hhZGVyRnJhZ21lbnQiLCJISUdIX0ZMT0FUIiwiZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24iLCJleHRyYWN0RGF0YSIsImdsUHJvZ3JhbXMiLCJnZXRBdHRyaWJ1dGVEYXRhIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtRGF0YSIsImF0dHJpYnV0ZXNBcnJheSIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsInRvdGFsVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiU2hhZGVyIiwidW5pZm9ybUdyb3VwIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwiU3RhdGUiLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsImRlcHRoVGVzdCIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiX2N1cnJlbnRTdGF0ZSIsInRlbXBNYXQiLCJUZXh0dXJlTWF0cml4IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiY2xhbXBPZmZzZXQiLCJpc1NpbXBsZSIsIm11bHRpcGx5VXZzIiwiZm9yY2VVcGRhdGUiLCJ0ZXhCYXNlIiwibWFyZ2luIiwiU3ByaXRlTWFza0ZpbHRlciIsIm1hc2tNYXRyaXgiLCJtYXNrU3ByaXRlIiwibnBtQWxwaGEiLCJvdGhlck1hdHJpeCIsIm1hc2tDbGFtcCIsIk1hc2tTeXN0ZW0iLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsIm1hc2tEYXRhUG9vbCIsImFscGhhTWFza0luZGV4Iiwic2V0TWFza1N0YWNrIiwic2Npc3NvciIsIm1hc2tEYXRhT3JUYXJnZXQiLCJtYXNrRGF0YSIsImRldGVjdCIsIlNDSVNTT1IiLCJTVEVOQ0lMIiwiU1BSSVRFIiwicHVzaFNwcml0ZU1hc2siLCJwb3BTcHJpdGVNYXNrIiwiaXNGYXN0UmVjdCIsInJvdFgiLCJyb3RYWSIsImFscGhhTWFza0ZpbHRlciIsInN0YXNoRmlsdGVyQXJlYSIsIkFic3RyYWN0TWFza1N5c3RlbSIsImdsQ29uc3QiLCJnZXRTdGFja0xlbmd0aCIsImN1clN0YWNrTGVuIiwibmV3U3RhY2tMZW4iLCJkaXNhYmxlIiwiZW5hYmxlIiwiX3VzZUN1cnJlbnQiLCJTY2lzc29yU3lzdGVtIiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiU0NJU1NPUl9URVNUIiwicHJldkRhdGEiLCJydCIsInByb2plY3Rpb24iLCJTdGVuY2lsU3lzdGVtIiwiU1RFTkNJTF9URVNUIiwicHJldk1hc2tDb3VudCIsImNvbG9yTWFzayIsInN0ZW5jaWxGdW5jIiwiRVFVQUwiLCJfZ2V0Qml0d2lzZU1hc2siLCJzdGVuY2lsT3AiLCJLRUVQIiwiSU5DUiIsIlNURU5DSUxfQlVGRkVSX0JJVCIsImNsZWFyU3RlbmNpbCIsIkRFQ1IiLCJQcm9qZWN0aW9uU3lzdGVtIiwiZGVmYXVsdEZyYW1lIiwicHJvamVjdGlvbk1hdHJpeCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJzeW5jVW5pZm9ybUdyb3VwIiwiZ2xvYmFscyIsIl9tYXRyaXgiLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiZGVmYXVsdFN5bmNEYXRhIiwidGV4dHVyZUNvdW50IiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJzeW5jRGF0YSIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJmdW5jRnJhZ21lbnRzIiwicGFyc2VkIiwidGVtcGxhdGUiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk1VTFRJUExZIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkxVTUlOT1NJVFkiLCJTUkNfQUxQSEEiLCJTUkNfSU4iLCJEU1RfQUxQSEEiLCJaRVJPIiwiU1JDX09VVCIsIk9ORV9NSU5VU19EU1RfQUxQSEEiLCJTUkNfQVRPUCIsIkRTVF9PVkVSIiwiRFNUX0lOIiwiRFNUX09VVCIsIkRTVF9BVE9QIiwiWE9SIiwiU1VCVFJBQ1QiLCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1QiLCJGVU5DX0FERCIsIm1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsImRpZmYiLCJmb3JjZVN0YXRlIiwidXBkYXRlQ2hlY2siLCJjaGVja0JsZW5kTW9kZSIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwic2V0QmxlbmRNb2RlIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJibGVuZEVxdWF0aW9uU2VwYXJhdGUiLCJzZXRQb2x5Z29uT2Zmc2V0IiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHQ1N5c3RlbSIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsIk1BTlVBTCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiR0xUZXh0dXJlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJpbml0VGV4dHVyZVR5cGUiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIlBPVzIiLCJDTEFNUCIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZW1wTWF0cml4IiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJpbml0UGx1Z2lucyIsIl9fcGx1Z2lucyIsInByZW11bHRpcGxpZWRBbHBoYSIsInBvd2VyUHJlZmVyZW5jZSIsImxvZyIsInNheUhlbGxvIiwiY29udGV4dE9wdGlvbnMiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iiwic3VjY2VzcyIsIkNsYXNzUmVmIiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsImlzTG9zdCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwicmVtb3ZlVmlldyIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJBYnN0cmFjdFJlbmRlcmVyIiwiVU5LTk9XTiIsInJvdW5kUGl4ZWxzIiwic2NyZWVuIiwiYXV0b1Jlc2l6ZSIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwic3RhdGljTWFwIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwiZGVmYXVsdEZpbHRlciIsIkJhdGNoVGV4dHVyZUFycmF5IiwiVmlld2FibGVCdWZmZXIiLCJyYXdCaW5hcnlEYXRhIiwidWludDMyVmlldyIsImZsb2F0MzJWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwiX3VpbnQ4VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwiX3VpbnQxNlZpZXciLCJfaW50MzJWaWV3Iiwic2l6ZU9mIiwiQWJzdHJhY3RCYXRjaFJlbmRlcmVyIiwic2hhZGVyR2VuZXJhdG9yIiwiZ2VvbWV0cnlDbGFzcyIsInZlcnRleFNpemUiLCJfdmVydGV4Q291bnQiLCJfaW5kZXhDb3VudCIsIl9idWZmZXJlZEVsZW1lbnRzIiwiX2J1ZmZlcmVkVGV4dHVyZXMiLCJfYnVmZmVyU2l6ZSIsIl9zaGFkZXIiLCJfcGFja2VkR2VvbWV0cmllcyIsIl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIiwiX2ZsdXNoSWQiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsIl9kY0luZGV4IiwiX2FJbmRleCIsIl9pSW5kZXgiLCJfYXR0cmlidXRlQnVmZmVyIiwiX2luZGV4QnVmZmVyIiwiX3RlbXBCb3VuZFRleHR1cmVzIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsImluaXRGbHVzaEJ1ZmZlcnMiLCJfZHJhd0NhbGxQb29sIiwiX3RleHR1cmVBcnJheVBvb2wiLCJNQVhfU1BSSVRFUyIsIk1BWF9UQSIsImluZGljZXMiLCJidWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzIiwidGV4dHVyZUFycmF5cyIsIlRJQ0siLCJjb3VudFRleEFycmF5cyIsImJ1aWxkRHJhd0NhbGxzIiwiZmluaXNoIiwiZHJhd0NhbGxzIiwiZGNJbmRleCIsImFJbmRleCIsImlJbmRleCIsImRyYXdDYWxsIiwic3ByaXRlQmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsInRleHR1cmVTeXN0ZW0iLCJ1cGRhdGVHZW9tZXRyeSIsInBhY2tlZEdlb21ldHJpZXMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJfYnVmZmVyIiwiZHJhd0JhdGNoZXMiLCJkY0NvdW50Iiwic3RhdGVTeXN0ZW0iLCJjdXJUZXhBcnJheSIsIl9iIiwiZ2V0QXR0cmlidXRlQnVmZmVyIiwiZ2V0SW5kZXhCdWZmZXIiLCJyb3VuZGVkUDIiLCJyb3VuZGVkU2l6ZUluZGV4Iiwicm91bmRlZFNpemUiLCJwYWNrZWRWZXJ0aWNlcyIsImluZGljaWVzIiwidGV4dHVyZUlkIiwiYXJnYiIsIl90aW50UkdCIiwiQmF0Y2hTaGFkZXJHZW5lcmF0b3IiLCJwcm9ncmFtQ2FjaGUiLCJkZWZhdWx0R3JvdXBDYWNoZSIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsImdlbmVyYXRlU2FtcGxlU3JjIiwidHJhbnNsYXRpb25NYXRyaXgiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCQyIiwiZGVmYXVsdEZyYWdtZW50JDIiLCJCYXRjaFJlbmRlcmVyIiwiQmF0Y2hQbHVnaW5GYWN0b3J5IiwidmVydGV4IiwiZnJhZ21lbnQiLCJCYXRjaFBsdWdpbiIsIkFwcGxpY2F0aW9uIiwiZm9yY2VDYW52YXMiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJzdGFnZSIsIl9wbHVnaW5zIiwicGx1Z2luIiwic3RhZ2VPcHRpb25zIiwicmV2ZXJzZSIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsInF1ZXVlUmVzaXplIiwiX3Jlc2l6ZVRvIiwiY2FuY2VsUmVzaXplIiwiX3Jlc2l6ZUlkIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsIlRFTVBfUkVDVCIsIkV4dHJhY3QiLCJleHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwidGFyZ2V0XzEiLCJwaXhlbHMiLCJfbm9vcCIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImRlZmVyTmV4dCIsIm9ubHlPbmNlIiwiY2FsbEZuIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJ3b3JrZXJzIiwiX3Rhc2tzIiwic2F0dXJhdGVkIiwidW5zYXR1cmF0ZWQiLCJlbXB0eSIsImRyYWluIiwiX2luc2VydCIsImtpbGwiLCJydW5uaW5nIiwiaWRsZSIsInJlc3VtZSIsImluc2VydEF0RnJvbnQiLCJfZGVmaW5lUHJvcGVydGllcyIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbm9vcCQxIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsInhociIsIlRZUEUiLCJwcm9ncmVzc0NodW5rIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsIl9ib3VuZE9uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRPblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJleHRuYW1lIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwiX3Byb3RvIiwiX2NsZWFyRXZlbnRzIiwiX2ZpbmlzaCIsImFib3J0IiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImlzTG9hZGluZyIsImlzQ29tcGxldGUiLCJMT0FESU5HIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlhNTCIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJvcmlnaW4iLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJVUkwiLCJ3ZWJraXRVUkwiLCJjYWNoaW5nIiwicGFyc2luZyIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJibG9iIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiX2pueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsIm9uTG9hZCIsIl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSIsInByZSIsIl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlIiwidXNlIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsImluY29tcGxldGVDaGlsZHJlbiIsIl9pMiIsImVhY2hDaHVuayIsIl9pMyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiTG9hZGVyUmVzb3VyY2UiLCJUZXh0dXJlTG9hZGVyIiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiUGFydGljbGVDb250YWluZXIiLCJtYXhTaXplIiwicHJvcGVydGllcyIsImJhdGNoU2l6ZSIsIl9wcm9wZXJ0aWVzIiwiX21heFNpemUiLCJfYmF0Y2hTaXplIiwiX2J1ZmZlcnMiLCJfYnVmZmVyVXBkYXRlSURzIiwic2V0UHJvcGVydGllcyIsIl90aW50IiwidGludFJnYiIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiTElORV9KT0lOIiwiTElORV9DQVAiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwiYXR0cmlidXRlTmFtZSIsInVwbG9hZEZ1bmN0aW9uIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJvdXRCdWZmZXIiLCJ0b3RhbEluZGljZXMiLCJjcmVhdGVJbmRpY2VzRm9yUXVhZHMiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJzdGF0QnVmZmVyIiwidXBsb2FkRHluYW1pYyIsInN0YXJ0SW5kZXgiLCJhbW91bnQiLCJ1cGxvYWRTdGF0aWMiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJ1cGxvYWRQb3NpdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwidXBsb2FkVGludCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJyZ2IiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJzcHJpdGVQb3NpdGlvbiIsInNwcml0ZVJvdGF0aW9uIiwidGV4dHVyZVV2cyIsIkdSQVBISUNTX0NVUlZFUyIsImFkYXB0aXZlIiwibWF4TGVuZ3RoIiwibWluU2VnbWVudHMiLCJtYXhTZWdtZW50cyIsImVwc2lsb24iLCJfc2VnbWVudHNDb3VudCIsImRlZmF1bHRTZWdtZW50cyIsIkZpbGxTdHlsZSIsImNvbG9yIiwiYnVpbGRQb2x5IiwiYnVpbGQiLCJncmFwaGljc0RhdGEiLCJzaGFwZSIsInRyaWFuZ3VsYXRlIiwiZ3JhcGhpY3NHZW9tZXRyeSIsInZlcnRzIiwiaG9sZUFycmF5IiwidmVydFBvcyIsImJ1aWxkQ2lyY2xlIiwiY2lyY2xlRGF0YSIsImVsbGlwc2VEYXRhIiwidG90YWxTZWdzIiwic2VnIiwiY2VudGVyIiwiY2lyY2xlIiwiYnVpbGRSZWN0YW5nbGUiLCJyZWN0RGF0YSIsImdldFB0IiwibjEiLCJuMiIsInBlcmMiLCJxdWFkcmF0aWNCZXppZXJDdXJ2ZSIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsImJ1aWxkUm91bmRlZFJlY3RhbmdsZSIsInJyZWN0RGF0YSIsInZlY1BvcyIsInNxdWFyZSIsIm54IiwibnkiLCJpbm5lcldlaWdodCIsIm91dGVyV2VpZ2h0IiwiZXh4IiwiZXl5IiwiZWl4IiwiZWl5IiwiZW94IiwiZW95IiwiZXgiLCJleSIsImN4MnAweCIsImN5MnAweSIsImFuZ2xlMCIsImFuZ2xlMSIsInN0YXJ0QW5nbGUiLCJhbmdsZURpZmYiLCJhYnNBbmdsZURpZmYiLCJzZWdDb3VudCIsImFuZ2xlSW5jIiwiYnVpbGRMaW5lIiwibGluZVN0eWxlIiwibmF0aXZlIiwiY2xvc2VkU2hhcGUiLCJidWlsZE5hdGl2ZUxpbmUiLCJjbG9zZVBvaW50RXBzIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJpbmRleENvdW50IiwiaW5kZXhTdGFydCIsIndpZHRoU3F1YXJlZCIsIm1pdGVyTGltaXRTcXVhcmVkIiwibWl0ZXJMaW1pdCIsInBlcnB4IiwicGVycHkiLCJwZXJwMXgiLCJwZXJwMXkiLCJkaXN0IiwicmF0aW8iLCJhbGlnbm1lbnQiLCJjYXAiLCJST1VORCIsIlNRVUFSRSIsImR4MCIsImR5MCIsImR4MSIsImR5MSIsImNyb3NzIiwiYzIiLCJwZGlzdCIsImlteCIsImlteSIsIm9teCIsIm9teSIsInAwaXgiLCJwMGl5IiwicDJpeCIsInAyaXkiLCJwMG94IiwicDBveSIsInAyb3giLCJwMm95IiwibjAyeCIsIm4wMnkiLCJkb3RwMSIsImRvdGltIiwiZG90b20iLCJCRVZFTCIsImVwczIiLCJidWlsZE5vbk5hdGl2ZUxpbmUiLCJTdGFyIiwiaW5uZXJSYWRpdXMiLCJBcmNVdGlscyIsImN1cnZlVG8iLCJtbSIsImRkIiwiY2MiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9hbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJ0aGV0YSIsInRoZXRhMiIsImNUaGV0YSIsInNUaGV0YSIsInNlZ01pbnVzIiwicmVtYWluZGVyIiwiQmV6aWVyVXRpbHMiLCJjdXJ2ZUxlbmd0aCIsImNwWDIiLCJjcFkyIiwidDIiLCJ0MyIsIm50IiwibnQyIiwibnQzIiwicHJldlgiLCJwcmV2WSIsImR0IiwiZHQyIiwiZHQzIiwiUXVhZHJhdGljVXRpbHMiLCJhMzIiLCJiYSIsIkJhdGNoUGFydCIsImF0dHJpYlN0YXJ0IiwiZW5kQXR0cmliIiwiRklMTF9DT01NQU5EUyIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsIkdyYXBoaWNzRGF0YSIsInRtcFBvaW50IiwidG1wQm91bmRzIiwiR3JhcGhpY3NHZW9tZXRyeSIsImluZGljZXNVaW50MTYiLCJjb2xvcnMiLCJ0ZXh0dXJlSWRzIiwiYmF0Y2hEaXJ0eSIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5IiwiYmF0Y2hlcyIsInNoYXBlSW5kZXgiLCJib3VuZHNEaXJ0eSIsImJvdW5kc1BhZGRpbmciLCJiYXRjaGFibGUiLCJiYXRjaFBhcnQiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsImhpdEhvbGUiLCJpXzEiLCJ1cGRhdGVCYXRjaGVzIiwiYWxsb3czMkluZGljZXMiLCJ2YWxpZGF0ZUJhdGNoaW5nIiwiY3VycmVudFN0eWxlIiwidHJhbnNmb3JtUG9pbnRzIiwibmV4dFRleHR1cmUiLCJpbmRleF8xIiwiYXR0cmliSW5kZXgiLCJSRVBFQVQiLCJwcm9jZXNzRmlsbCIsInByb2Nlc3NMaW5lIiwiX2NvbXBhcmVTdHlsZXMiLCJhZGRVdnMiLCJuZWVkMzIiLCJpc0JhdGNoYWJsZSIsInBhY2tCYXRjaGVzIiwic3R5bGVBIiwic3R5bGVCIiwiZmlsbCIsImxpbmUiLCJCQVRDSEFCTEVfU0laRSIsImN1cnJlbnRHcm91cCIsImN1cnJlbnRUZXh0dXJlIiwiZHJhd01vZGUiLCJMSU5FUyIsImFkZENvbG9ycyIsImFkZFRleHR1cmVJZHMiLCJwYWNrQXR0cmlidXRlcyIsImdsUG9pbnRzIiwiZjMyIiwidTMyIiwicHJvY2Vzc0hvbGVzIiwic2VxdWVuY2VCb3VuZHMiLCJjdXJNYXRyaXgiLCJuZXh0TWF0cml4IiwibGluZVdpZHRoIiwiZWxsaXBzZSIsInBvbHkiLCJyZ2JhIiwidXZzU3RhcnQiLCJhZGp1c3RVdnMiLCJMaW5lU3R5bGUiLCJCVVRUIiwiTUlURVIiLCJ0ZW1wIiwiREVGQVVMVF9TSEFERVJTIiwiR3JhcGhpY3MiLCJfZ2VvbWV0cnkiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiZmluaXNoUG9seSIsImxpbmVUZXh0dXJlU3R5bGUiLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImJlemllckN1cnZlVG8iLCJhcmNUbyIsInJhZGl1c18xIiwic3RhcnRYIiwic3RhcnRZIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luRmlsbCIsImJlZ2luVGV4dHVyZUZpbGwiLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiaGFzdWl0MzIiLCJfcG9wdWxhdGVCYXRjaGVzIiwiX3JlbmRlckJhdGNoZWQiLCJfcmVuZGVyRGlyZWN0IiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwiX3Jlc29sdmVEaXJlY3RTaGFkZXIiLCJfcmVuZGVyRHJhd0NhbGxEaXJlY3QiLCJncm91cFRleHR1cmVDb3VudCIsIl9URU1QX1BPSU5UIiwidGludFJHQiIsInd0SUQiLCJjbG9zZVBhdGgiLCJzZXRNYXRyaXgiLCJiZWdpbkhvbGUiLCJlbmRIb2xlIiwiVEVYVF9HUkFESUVOVCIsInRlbXBQb2ludCIsIlNwcml0ZSIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9yb3VuZFBpeGVscyIsIl9vblRleHR1cmVVcGRhdGUiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiTElORUFSX1ZFUlRJQ0FMIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsImdldFNpbmdsZUNvbG9yIiwicHJvcGVydHlPYmoiLCJUZXh0TWV0cmljcyIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwiZm9udCIsIm1lYXN1cmVGb250IiwiYXNjZW50IiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJ3b3JkV3JhcFNwbGl0IiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX3Rva2VuIiwiX2NoYXIiLCJfbmV4dENoYXIiLCJfaW5kZXgiLCJfZm9udHMiLCJkZXNjZW50IiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkJBU0VMSU5FX01VTFRJUExJRVIiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImNsZWFyTWV0cmljcyIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIlRleHQiLCJvd25DYW52YXMiLCJfb3duQ2FudmFzIiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJyaWdodCIsImJvdHRvbSIsInRyaW1DYW52YXMiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJsYXN0SXRlcmF0aW9uU3RvcCIsImdyYWRTdG9wTGluZUhlaWdodCIsInRoaXNMaW5lVG9wIiwiZ2xvYmFsU3RvcCIsImNsYW1wZWRTdG9wIiwiYWRkQ29sb3JTdG9wIiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJfdGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsImRyYXdUZXh0IiwiX2hlbHBlciIsImNhbGN1bGF0ZVRleHRTdHlsZSIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiZmluZEdyYXBoaWNzIiwiUHJlcGFyZSIsInVwbG9hZEhvb2tIZWxwZXIiLCJyZWdpc3RlckZpbmRIb29rIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiQmFzZVByZXBhcmUiLCJsaW1pdGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsImRvbmUiLCJ0aWNrIiwiVVRJTElUWSIsInVwbG9hZGVkIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwidXZSZXNwZWN0QW5jaG9yIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsImJhc2VUZXgiLCJ1diIsIkgiLCJ1TWFwQ29vcmQiLCJ1VHJhbnNmb3JtIiwiTWVzaEJhdGNoVXZzIiwiX2J1ZmZlclVwZGF0ZUlkIiwiX3RleHR1cmVVcGRhdGVJZCIsInRlbXBQb2x5Z29uIiwiTWVzaCIsInZlcnRleERpcnR5IiwiYmF0Y2hVdnMiLCJfcmVuZGVyVG9CYXRjaCIsIl9yZW5kZXJEZWZhdWx0IiwiY2FsY3VsYXRlVXZzIiwibWF0ZXJpYWwiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidmVydGljZXNCdWZmZXIiLCJ1dnNCdWZmZXIiLCJfdXBkYXRlSWQiLCJCaXRtYXBGb250RGF0YSIsImluZm8iLCJjb21tb24iLCJwYWdlIiwia2VybmluZyIsImZvcm1hdHMiLCJUZXh0Rm9ybWF0IiwicmF3RGF0YSIsImNoYXJzIiwiYXR0cmlidXRlTGlzdCIsIml0ZW1EYXRhIiwic3RyVmFsdWUiLCJmbG9hdFZhbHVlIiwiZmFjZSIsImZpbGUiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInhhZHZhbmNlIiwiZmlyc3QiLCJzZWNvbmQiLCJYTUxGb3JtYXQiLCJYTUxEb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXV0b0RldGVjdEZvcm1hdCIsImdlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0dseXBoIiwiQml0bWFwRm9udCIsInBhZ2VUZXh0dXJlcyIsInBhZ2VfMSIsIl9jIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsIl9kIiwiaW5zdGFsbCIsImZvbnREYXRhIiwiYXZhaWxhYmxlIiwidW5pbnN0YWxsIiwidGV4dFN0eWxlIiwiZGVmYXVsdE9wdGlvbnMiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwiY2hhcnNMaXN0Iiwic3RhcnRDb2RlIiwiZW5kQ29kZSIsImpfMSIsInJlc29sdmVDaGFyYWN0ZXJzIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwibWF4Q2hhckhlaWdodCIsInRleHR1cmVHbHlwaFdpZHRoIiwiQUxQSEEiLCJOVU1FUklDIiwiQUxQSEFOVU1FUklDIiwiQVNDSUkiLCJwYWdlTWVzaERhdGFQb29sIiwiY2hhclJlbmRlckRhdGFQb29sIiwiQml0bWFwVGV4dCIsIl91cGdyYWRlU3R5bGUiLCJzdHlsZURlZmF1bHRzIiwibWF4V2lkdGgiLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2ZvbnROYW1lIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJ0ZXh0TGVuZ3RoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwiY2hhclJlbmRlckRhdGEiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInBhZ2VzTWVzaERhdGEiLCJuZXdQYWdlc01lc2hEYXRhIiwiYWN0aXZlUGFnZXNNZXNoRGF0YSIsImJhc2VUZXh0dXJlVWlkIiwicGFnZU1lc2hEYXRhIiwidmVydGV4Q291bnQiLCJ1dnNDb3VudCIsIm1lc2giLCJ4UG9zIiwieVBvcyIsInBhZ2VNZXNoIiwidGV4dHVyZUZyYW1lIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJ0ZXh0dXJlQnVmZmVyIiwidmFsaWRhdGUiLCJ2YWx1ZVNwbGl0IiwicmVnaXN0ZXJGb250IiwiQml0bWFwRm9udExvYWRlciIsImdldEJhc2VVcmwiLCJwYWdlRmlsZSIsImJpdG1hcEZvbnQiLCJiaXRtYXBSZXNvdXJjZSIsInJlc1VybCIsImRpcm5hbWUiLCJBbHBoYUZpbHRlciIsInVBbHBoYSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJoYWxmTGVuZ3RoIiwidmVydFNvdXJjZSIsImJsdXJMb29wIiwiYmx1ciIsImdlbmVyYXRlQmx1clZlcnRTb3VyY2UiLCJmcmFnU3JjIiwia2VybmVsIiwiZnJhZ1NvdXJjZSIsImdlbmVyYXRlQmx1ckZyYWdTb3VyY2UiLCJfcXVhbGl0eSIsInBhc3NlcyIsInJlbmRlclRhcmdldCIsIkJsdXJGaWx0ZXIiLCJibHVyWEZpbHRlciIsImJsdXJZRmlsdGVyIiwicmVwZWF0RWRnZVBpeGVscyIsInhTdHJlbmd0aCIsInlTdHJlbmd0aCIsInVwZGF0ZVBhZGRpbmciLCJfcmVwZWF0RWRnZVBpeGVscyIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiRlhBQUZpbHRlciIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwidU5vaXNlIiwidVNlZWQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsIl9wcm9qVHJhbnNmb3JtIiwiZ2V0Q2hpbGRCeU5hbWUiLCJkZWVwIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJQbGFuZUdlb21ldHJ5Iiwic2VnV2lkdGgiLCJzZWdIZWlnaHQiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsIlJvcGVHZW9tZXRyeSIsInRleHR1cmVTY2FsZSIsImRpc3RhbmNlIiwidXBkYXRlVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicGVycExlbmd0aCIsIlNpbXBsZVJvcGUiLCJyb3BlR2VvbWV0cnkiLCJtZXNoTWF0ZXJpYWwiLCJTaW1wbGVQbGFuZSIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsInBsYW5lR2VvbWV0cnkiLCJ0ZXh0dXJlVXBkYXRlZCIsIlNpbXBsZU1lc2giLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwiX2dldE1pblNjYWxlIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsInNjYWxlVyIsInNjYWxlSCIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsIl9wbGF5aW5nIiwiX3ByZXZpb3VzRnJhbWUiLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImZyb21GcmFtZXMiLCJmcm9tSW1hZ2VzIiwiaW1hZ2VzIiwidnN1YiIsInYxIiwidjIiLCJhcHAiLCJiYWxsb29uVGV4dHVyZSIsImJhbGxvb24iLCJidXR0b25Nb2RlIiwic2NhbGVUYXJnZXQiLCJzY2FsZVZlbG9jaXR5IiwiZHVyYXRpb24iLCJ2YWx1ZXMiLCJkZWZhdWx0SSIsInRhZ1ByZWZpeCIsImxhYmVsIiwidmFsdWVEaXNwbGF5IiwiY2xhc3NMaXN0IiwiZXYiLCJvbklucHV0IiwiaHRtbEZvciIsInNlbGVjdCIsInNpbVBhcmFtcyIsImluZmVjdGVkUG9wdWxhdGlvbiIsImluZmVjdGlvblJhdGUiLCJyZW1vdmFsUmF0ZSIsIm1heEluZmVjdGVkIiwibWluSW5mZWN0ZWQiLCJhbmltUGFyYW1zIiwidGlja3NQZXJTdGVwIiwidGlja3NTaW5jZSIsImNhbnZhc0NvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiY29udHJvbHNDb250YWluZXIiLCJkZXZpY2VQaXhlbFJhdGlvIiwiVmFsdWVTbGlkZXIiLCJ0b0ZpeGVkIiwic2xpZGVyIiwiY2VudGVyWCIsImNlbnRlclkiLCJkeW5hbWljcyIsIm5ld0luZmVjdGVkUG9wIl0sIm1hcHBpbmdzIjoiO2FBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxl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RUFBSSxHQUFNM1AsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFMFAsRUFBSSxHQUFNM1AsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFMFAsRUFBSSxHQUFNM1AsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFMFAsRUFBSSxHQUFNM1AsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFMFAsRUFBSSxHQUFNM1AsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FFN0UyUCxFQUFJLEdBQU0zUCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwUCxFQUFJLEdBQU0zUCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwUCxFQUFJLEdBQU0zUCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwUCxFQUFJLEdBQU0zUCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwUCxFQUFJLEdBQU0zUCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFBT0QsRUFBRSxHQUU3RTJQLEVBQUksSUFBTzNQLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTBQLEVBQUksSUFBTzNQLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTBQLEVBQUksSUFBTzNQLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTBQLEVBQUksSUFBTzNQLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTBQLEVBQUksSUFBTzNQLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUFPRCxFQUFFLElBRWxGMlAsRUFBSSxJQUFPM1AsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFMFAsRUFBSSxJQUFPM1AsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFMFAsRUFBSSxJQUFPM1AsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFMFAsRUFBSSxJQUFPM1AsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFMFAsRUFBSSxJQUFPM1AsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQU9ELEVBQUUsSUFDM0UyUCxHQVNYeXZGLEVBQWtCNXZHLFVBQVVpd0csYUFBZSxTQUFVaCtFLEdBRWpELElBQUl6ekIsRUFBSSxJQUFJOGtCLGFBQWEyTyxHQUt6QixPQUpBenpCLEVBQUUsSUFBTSxJQUNSQSxFQUFFLElBQU0sSUFDUkEsRUFBRSxLQUFPLElBQ1RBLEVBQUUsS0FBTyxJQUNGQSxHQVNYb3hHLEVBQWtCNXZHLFVBQVVrd0csV0FBYSxTQUFVei9GLEVBQUdxL0YsR0FDbEQsSUFBSTc5RSxFQUFTLENBQ1R4aEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUdBLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHQSxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hCbFAsS0FBS3N1RyxZQUFZNTlFLEVBQVE2OUUsSUFTN0JGLEVBQWtCNXZHLFVBQVVtd0csVUFBWSxTQUFVMStFLEVBQU9xK0UsR0FDckQsSUFBSTc5RSxFQUFTLENBQ1RSLEVBQU9BLEVBQU9BLEVBQU8sRUFBRyxFQUN4QkEsRUFBT0EsRUFBT0EsRUFBTyxFQUFHLEVBQ3hCQSxFQUFPQSxFQUFPQSxFQUFPLEVBQUcsRUFDeEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQmx3QixLQUFLc3VHLFlBQVk1OUUsRUFBUTY5RSxJQVE3QkYsRUFBa0I1dkcsVUFBVW93RyxjQUFnQixTQUFVTixHQU1sRHZ1RyxLQUFLc3VHLFlBTFEsQ0FDVCxHQUFLLEdBQUssR0FBSyxFQUFHLEVBQ2xCLEdBQUssR0FBSyxHQUFLLEVBQUcsRUFDbEIsR0FBSyxHQUFLLEdBQUssRUFBRyxFQUNsQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBUzdCRixFQUFrQjV2RyxVQUFVcXdHLElBQU0sU0FBVTc5RSxFQUFVczlFLEdBQ2xEdDlFLEdBQVlBLEdBQVksR0FBSyxJQUFNNWpCLEtBQUs0ZSxHQUN4QyxJQUFJOGlGLEVBQU8xaEcsS0FBS2dqQixJQUFJWSxHQUNoQis5RSxFQUFPM2hHLEtBQUtpakIsSUFBSVcsR0FjaEJsUyxFQUFJLEVBQUksRUFDUmt3RixHQUFPeDlFLEVBZEFwa0IsS0FBS29rQixNQWNBMVMsR0FVWjJSLEVBQVMsQ0FUSHErRSxHQUFTLEVBQU1BLEdBQVFod0YsRUFDdEJBLEdBQUssRUFBTWd3RixHQUFVRSxFQUFPRCxFQUM1Qmp3RixHQUFLLEVBQU1nd0YsR0FBVUUsRUFBT0QsRUFRcEIsRUFBRyxFQVBYandGLEdBQUssRUFBTWd3RixHQUFVRSxFQUFPRCxFQUM3QkQsRUFBUWh3RixHQUFLLEVBQU1nd0YsR0FDbEJod0YsR0FBSyxFQUFNZ3dGLEdBQVVFLEVBQU9ELEVBTXBCLEVBQUcsRUFMWGp3RixHQUFLLEVBQU1nd0YsR0FBVUUsRUFBT0QsRUFDNUJqd0YsR0FBSyxFQUFNZ3dGLEdBQVVFLEVBQU9ELEVBQzdCRCxFQUFRaHdGLEdBQUssRUFBTWd3RixHQUlWLEVBQUcsRUFDbEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQi91RyxLQUFLc3VHLFlBQVk1OUUsRUFBUTY5RSxJQVc3QkYsRUFBa0I1dkcsVUFBVXl3RyxTQUFXLFNBQVVsdkIsRUFBUXV1QixHQUNyRCxJQUFJaG5HLEdBQUt5NEUsR0FBVSxHQUFLLEVBQ3BCMWlGLEdBQUssSUFBT2lLLEVBQUksR0FDaEJtcEIsRUFBUyxDQUNUbnBCLEVBQUcsRUFBRyxFQUFHLEVBQUdqSyxFQUNaLEVBQUdpSyxFQUFHLEVBQUcsRUFBR2pLLEVBQ1osRUFBRyxFQUFHaUssRUFBRyxFQUFHakssRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hCMEMsS0FBS3N1RyxZQUFZNTlFLEVBQVE2OUUsSUFVN0JGLEVBQWtCNXZHLFVBQVUwd0csU0FBVyxTQUFVbnZCLEVBQVF1dUIsUUFDdEMsSUFBWHZ1QixJQUFxQkEsRUFBUyxHQUNsQyxJQUFJaDBFLEVBQWMsRUFBVGcwRSxFQUFhLEVBQUssRUFDdkIvekUsR0FBZ0IsSUFBVkQsRUFBSSxHQUNWMGtCLEVBQVMsQ0FDVDFrQixFQUFHQyxFQUFHQSxFQUFHLEVBQUcsRUFDWkEsRUFBR0QsRUFBR0MsRUFBRyxFQUFHLEVBQ1pBLEVBQUdBLEVBQUdELEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEJoTSxLQUFLc3VHLFlBQVk1OUUsRUFBUTY5RSxJQVE3QkYsRUFBa0I1dkcsVUFBVTJ3RyxXQUFhLFdBQ3JDcHZHLEtBQUttdkcsVUFBVSxJQVFuQmQsRUFBa0I1dkcsVUFBVTR3RyxTQUFXLFNBQVVkLEdBTTdDdnVHLEtBQUtzdUcsWUFMUSxFQUNSLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDYixHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQ2IsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUNiLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFRN0JGLEVBQWtCNXZHLFVBQVU2d0csTUFBUSxTQUFVZixHQU0xQ3Z1RyxLQUFLc3VHLFlBTFEsQ0FDVCxLQUFPLFNBQVcsVUFBWSxFQUFHLEVBQ2pDLEtBQU8sU0FBVyxVQUFZLEVBQUcsRUFDakMsS0FBTyxTQUFXLFVBQVksRUFBRyxFQUNqQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBUTdCRixFQUFrQjV2RyxVQUFVOHdHLFlBQWMsU0FBVWhCLEdBTWhEdnVHLEtBQUtzdUcsWUFMUSxDQUNULG9CQUFxQixtQkFBcUIsbUJBQXFCLEVBQUcsb0JBQ2pFLGtCQUFvQixvQkFBcUIsbUJBQXFCLEdBQUksbUJBQ2xFLGtCQUFvQixrQkFBb0Isa0JBQW1CLEVBQUcsbUJBQy9ELEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFRN0JGLEVBQWtCNXZHLFVBQVUrd0csU0FBVyxTQUFVakIsR0FNN0N2dUcsS0FBS3N1RyxZQUxRLENBQ1QsT0FBUSxNQUFRLEtBQU8sRUFBRyxHQUN6QixLQUFPLE9BQVEsS0FBTyxFQUFHLEdBQ3pCLE1BQVEsS0FBTyxNQUFPLEVBQUcsRUFDMUIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNTQyxJQVE3QkYsRUFBa0I1dkcsVUFBVWd4RyxNQUFRLFNBQVVsQixHQU0xQ3Z1RyxLQUFLc3VHLFlBTFEsQ0FDVCxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBUTdCRixFQUFrQjV2RyxVQUFVaXhHLFdBQWEsU0FBVW5CLEdBTS9DdnVHLEtBQUtzdUcsWUFMUSxDQUNULG9CQUFxQixtQkFBcUIsbUJBQXFCLEVBQUcsbUJBQ2pFLG1CQUFxQixvQkFBcUIsbUJBQXFCLEVBQUcsb0JBQ2xFLG9CQUFzQixrQkFBb0IsbUJBQW9CLEVBQUcsa0JBQ2xFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFRN0JGLEVBQWtCNXZHLFVBQVVreEcsT0FBUyxTQUFVcEIsR0FNM0N2dUcsS0FBS3N1RyxZQUxRLENBQ1Qsa0JBQW9CLG9CQUFzQixrQkFBb0IsRUFBRyxtQkFDaEUsb0JBQXNCLGtCQUFvQixtQkFBcUIsR0FBSSxrQkFDcEUsb0JBQXNCLG1CQUFxQixtQkFBcUIsR0FBSSxrQkFDcEUsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNTQyxJQVE3QkYsRUFBa0I1dkcsVUFBVW14RyxRQUFVLFNBQVVyQixHQU01Q3Z1RyxLQUFLc3VHLFlBTFEsQ0FDVCxrQkFBb0IsbUJBQXFCLG1CQUFxQixFQUFHLGtCQUNqRSxtQkFBcUIsa0JBQW9CLG1CQUFxQixFQUFHLGtCQUNqRSxtQkFBcUIsa0JBQW9CLGtCQUFvQixFQUFHLGtCQUNoRSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBWTdCRixFQUFrQjV2RyxVQUFVb3hHLFVBQVksU0FBVUMsRUFBY0MsRUFBT0MsRUFBWUMsRUFBVzFCLEdBSzFGLElBQUkyQixJQUZKRixFQUFhQSxHQUFjLFdBRUYsR0FBTSxLQUFRLElBQ25DRyxHQUFPSCxHQUFjLEVBQUssS0FBUSxJQUNsQ0ksR0FBbUIsSUFBYkosR0FBcUIsSUFDM0JLLElBSkpKLEVBQVlBLEdBQWEsVUFJRCxHQUFNLEtBQVEsSUFDbENLLEdBQU9MLEdBQWEsRUFBSyxLQUFRLElBQ2pDTSxHQUFrQixJQUFaTixHQUFvQixJQUMxQnYvRSxFQUFTLENBQ1QsR0FBSyxJQUFNLElBQU0sRUFBRyxFQUNwQncvRSxFQUFJQyxFQUFJQyxFQVpaTixFQUFlQSxHQUFnQixHQVlELEVBQzFCTyxFQUFJQyxFQUFJQyxFQVpaUixFQUFRQSxHQUFTLElBWU0sRUFDbkJHLEVBQUtHLEVBQUlGLEVBQUtHLEVBQUlGLEVBQUtHLEVBQUksRUFBRyxHQUNsQ3Z3RyxLQUFLc3VHLFlBQVk1OUUsRUFBUTY5RSxJQVM3QkYsRUFBa0I1dkcsVUFBVSt4RyxNQUFRLFNBQVVDLEVBQVdsQyxHQUVyRCxJQUFJNzlFLEVBQVMsRUFDSyxHQUZsQisvRSxFQUFZQSxHQUFhLEtBRUFBLEVBQVcsRUFBRyxFQUFHLEdBQ3JDQSxFQUFXLEVBQUdBLEVBQVcsRUFBRyxFQUM3QixFQUFHQSxFQUF1QixFQUFaQSxFQUFpQixFQUFHLEVBQ2xDLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEJ6d0csS0FBS3N1RyxZQUFZNTlFLEVBQVE2OUUsSUFXN0JGLEVBQWtCNXZHLFVBQVVpeUcsU0FBVyxTQUFVMXdCLEVBQVF1dUIsR0FDckQsSUFBSTc5RSxFQUFTLENBRVQsbUJBQXFCc3ZELEdBQ3BCLGtCQUFvQkEsR0FDcEIsbUJBQXFCQSxFQUN0QixFQUFJQSxFQUNKLG1CQUFzQkEsR0FFckIsbUJBQXFCQSxFQUN0QixrQkFBb0JBLEdBQ25CLGtCQUFvQkEsRUFDckIsRUFBSUEsR0FDSCxrQkFBb0JBLEdBRXBCLG1CQUFxQkEsR0FDckIsbUJBQXFCQSxFQUN0QixrQkFBb0JBLEVBQ3BCLEVBQUlBLEVBQ0osa0JBQXFCQSxFQUVyQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hCaGdGLEtBQUtzdUcsWUFBWTU5RSxFQUFRNjlFLElBVTdCRixFQUFrQjV2RyxVQUFVa3lHLElBQU0sU0FBVXBDLEdBTXhDdnVHLEtBQUtzdUcsWUFMUSxDQUNULEdBQUksR0FBSyxHQUFLLEVBQUcsR0FDaEIsR0FBSyxHQUFJLEdBQUssRUFBRyxHQUNqQixJQUFNLEdBQUssRUFBRyxFQUFHLEVBQ2xCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFNN0JGLEVBQWtCNXZHLFVBQVVxbkMsTUFBUSxXQU1oQzlsQyxLQUFLc3VHLFlBTFEsQ0FDVCxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ1MsSUFFN0Ivd0csT0FBT0MsZUFBZTZ3RyxFQUFrQjV2RyxVQUFXLFNBQVUsQ0FPekRmLElBQUssV0FDRCxPQUFPc0MsS0FBS3FrRCxTQUFTcG5ELEdBRXpCeXVCLElBQUssU0FBVTV0QixHQUNYa0MsS0FBS3FrRCxTQUFTcG5ELEVBQUlhLEdBRXRCTCxZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZTZ3RyxFQUFrQjV2RyxVQUFXLFFBQVMsQ0FXeERmLElBQUssV0FDRCxPQUFPc0MsS0FBS3FrRCxTQUFTK25ELFFBRXpCMWdGLElBQUssU0FBVTV0QixHQUNYa0MsS0FBS3FrRCxTQUFTK25ELE9BQVN0dUcsR0FFM0JMLFlBQVksRUFDWjBCLGNBQWMsSUFFWGt2RyxFQXRkMkIsQ0F1ZHBDLElBRUYsR0FBa0I1dkcsVUFBVW15RyxVQUFZLEdBQWtCbnlHLFVBQVVtd0csVUN0ZnBFLElBQUksR0FBZ0IsU0FBU3p4RyxFQUFHK1IsR0FJNUIsT0FIQSxHQUFnQjNSLE9BQU8wNkIsZ0JBQ2xCLENBQUUvdEIsVUFBVyxjQUFnQk8sT0FBUyxTQUFVdE4sRUFBRytSLEdBQUsvUixFQUFFK00sVUFBWWdGLElBQ3ZFLFNBQVUvUixFQUFHK1IsR0FBSyxJQUFLLElBQUl2USxLQUFLdVEsRUFBU0EsRUFBRXhRLGVBQWVDLEtBQU14QixFQUFFd0IsR0FBS3VRLEVBQUV2USxNQUN4RHhCLEVBQUcrUixLQStCWSxTQUFVa3BCLEdBTTlDLFNBQVN5NEUsRUFBbUI5cEQsRUFBUTcyQixHQUNoQyxJQUFJb0ksRUFBUXQ0QixLQUNSZzdELEVBQWEsSUFBSXhyQyxHQWtCckIsT0FqQkF1M0IsRUFBT3R1QixZQUFhLEdBQ3BCSCxFQUFRRixFQUFPcDdCLEtBQUtnRCxLQTlCZix1ckJBRkUsOGZBZ0NxQyxDQUN4Qzh3RyxXQUFZL3BELEVBQU9DLFNBQ25CK3BELGFBQWMvMUMsRUFDZDlxQyxNQUFPLENBQUVsa0IsRUFBRyxFQUFHQyxFQUFHLEdBQ2xCZ2xCLFNBQVUsSUFBSWxQLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxPQUNuQy9oQixNQUNBaTdELFdBQWFsVSxFQUNuQnp1QixFQUFNMGlDLFdBQWFBLEVBQ2Y5cUMsVUFDQUEsRUFBUSxJQU1ab0ksRUFBTXBJLE1BQVEsSUFBSWYsR0FBTWUsRUFBT0EsR0FDeEJvSSxHQXREZixTQUFtQm43QixFQUFHK1IsR0FFbEIsU0FBU2lwQixJQUFPbjRCLEtBQUt1VixZQUFjcFksRUFEbkMsR0FBY0EsRUFBRytSLEdBRWpCL1IsRUFBRXNCLFVBQWtCLE9BQU55USxFQUFhM1IsT0FBT1ksT0FBTytRLElBQU1pcEIsRUFBRzE1QixVQUFZeVEsRUFBRXpRLFVBQVcsSUFBSTA1QixJQTBCL0UsQ0FBVTA0RSxFQUFvQno0RSxHQW1DOUJ5NEUsRUFBbUJweUcsVUFBVTBDLE1BQVEsU0FBVTg0RCxFQUFldDdDLEVBQU9iLEVBQVFzb0MsR0FFekVwbUQsS0FBS3FrRCxTQUFTMHNELGFBQWU5MkMsRUFBY3BULHNCQUFzQjdtRCxLQUFLZzdELFdBQVloN0QsS0FBS2k3RCxZQUN2Rmo3RCxLQUFLcWtELFNBQVNuMEIsTUFBTWxrQixFQUFJaE0sS0FBS2t3QixNQUFNbGtCLEVBQ25DaE0sS0FBS3FrRCxTQUFTbjBCLE1BQU1qa0IsRUFBSWpNLEtBQUtrd0IsTUFBTWprQixFQUVuQyxJQUFJeXBCLEVBQUsxMUIsS0FBS2k3RCxXQUFXMW1DLGVBQ3JCeThFLEVBQU8zakcsS0FBS29rQixLQUFNaUUsRUFBR3ptQixFQUFJeW1CLEVBQUd6bUIsRUFBTXltQixFQUFHeG1CLEVBQUl3bUIsRUFBR3htQixHQUM1QytoRyxFQUFPNWpHLEtBQUtva0IsS0FBTWlFLEVBQUd4NEIsRUFBSXc0QixFQUFHeDRCLEVBQU13NEIsRUFBR3Y0QixFQUFJdTRCLEVBQUd2NEIsR0FDbkMsSUFBVDZ6RyxHQUF1QixJQUFUQyxJQUNkanhHLEtBQUtxa0QsU0FBU3B6QixTQUFTLEdBQUt5RSxFQUFHem1CLEVBQUkraEcsRUFDbkNoeEcsS0FBS3FrRCxTQUFTcHpCLFNBQVMsR0FBS3lFLEVBQUd4bUIsRUFBSThoRyxFQUNuQ2h4RyxLQUFLcWtELFNBQVNwekIsU0FBUyxHQUFLeUUsRUFBR3g0QixFQUFJK3pHLEVBQ25DanhHLEtBQUtxa0QsU0FBU3B6QixTQUFTLEdBQUt5RSxFQUFHdjRCLEVBQUk4ekcsR0FHdkNoM0MsRUFBYzNULFlBQVl0bUQsS0FBTTJlLEVBQU9iLEVBQVFzb0MsSUFFbkQ3b0QsT0FBT0MsZUFBZXF6RyxFQUFtQnB5RyxVQUFXLE1BQU8sQ0FNdkRmLElBQUssV0FDRCxPQUFPc0MsS0FBS3FrRCxTQUFTeXNELFlBRXpCcGxGLElBQUssU0FBVTV0QixHQUNYa0MsS0FBS3FrRCxTQUFTeXNELFdBQWFoekcsR0FFL0JMLFlBQVksRUFDWjBCLGNBQWMsSUFuRWlCLENBc0VyQyxJQTVGRixJQ2RJLEdBQWdCLFNBQVNoQyxFQUFHK1IsR0FJNUIsT0FIQSxHQUFnQjNSLE9BQU8wNkIsZ0JBQ2xCLENBQUUvdEIsVUFBVyxjQUFnQk8sT0FBUyxTQUFVdE4sRUFBRytSLEdBQUsvUixFQUFFK00sVUFBWWdGLElBQ3ZFLFNBQVUvUixFQUFHK1IsR0FBSyxJQUFLLElBQUl2USxLQUFLdVEsRUFBU0EsRUFBRXhRLGVBQWVDLEtBQU14QixFQUFFd0IsR0FBS3VRLEVBQUV2USxNQUN4RHhCLEVBQUcrUixLQXdCSSxTQUFVa3BCLEdBRXRDLFNBQVM4NEUsSUFFTCxPQUFPOTRFLEVBQU9wN0IsS0FBS2dELEtBbkJkLGdvQ0FFRSwweklBaUJ1Q0EsTUF6QnRELFNBQW1CN0MsRUFBRytSLEdBRWxCLFNBQVNpcEIsSUFBT240QixLQUFLdVYsWUFBY3BZLEVBRG5DLEdBQWNBLEVBQUcrUixHQUVqQi9SLEVBQUVzQixVQUFrQixPQUFOeVEsRUFBYTNSLE9BQU9ZLE9BQU8rUSxJQUFNaXBCLEVBQUcxNUIsVUFBWXlRLEVBQUV6USxVQUFXLElBQUkwNUIsSUFtQi9FLENBQVUrNEUsRUFBWTk0RSxHQURLLENBTzdCLElBdEJGLElDYkksR0FBZ0IsU0FBU2o3QixFQUFHK1IsR0FJNUIsT0FIQSxHQUFnQjNSLE9BQU8wNkIsZ0JBQ2xCLENBQUUvdEIsVUFBVyxjQUFnQk8sT0FBUyxTQUFVdE4sRUFBRytSLEdBQUsvUixFQUFFK00sVUFBWWdGLElBQ3ZFLFNBQVUvUixFQUFHK1IsR0FBSyxJQUFLLElBQUl2USxLQUFLdVEsRUFBU0EsRUFBRXhRLGVBQWVDLEtBQU14QixFQUFFd0IsR0FBS3VRLEVBQUV2USxNQUN4RHhCLEVBQUcrUixLQXNCSyxTQUFVa3BCLEdBTXZDLFNBQVMrNEUsRUFBWUMsRUFBT0MsUUFDVixJQUFWRCxJQUFvQkEsRUFBUSxTQUNuQixJQUFUQyxJQUFtQkEsRUFBT2hrRyxLQUFLcU4sVUFDbkMsSUFBSTRkLEVBQVFGLEVBQU9wN0IsS0FBS2dELEtBQU0rb0UsR0F0QnZCLHF1QkFzQnNELENBQ3pEdW9DLE9BQVEsRUFDUkMsTUFBTyxLQUNMdnhHLEtBR04sT0FGQXM0QixFQUFNODRFLE1BQVFBLEVBQ2Q5NEUsRUFBTSs0RSxLQUFPQSxFQUNOLzRFLEdBbENmLFNBQW1CbjdCLEVBQUcrUixHQUVsQixTQUFTaXBCLElBQU9uNEIsS0FBS3VWLFlBQWNwWSxFQURuQyxHQUFjQSxFQUFHK1IsR0FFakIvUixFQUFFc0IsVUFBa0IsT0FBTnlRLEVBQWEzUixPQUFPWSxPQUFPK1EsSUFBTWlwQixFQUFHMTVCLFVBQVl5USxFQUFFelEsVUFBVyxJQUFJMDVCLElBaUIvRSxDQUFVZzVFLEVBQWEvNEUsR0FnQnZCNzZCLE9BQU9DLGVBQWUyekcsRUFBWTF5RyxVQUFXLFFBQVMsQ0FPbERmLElBQUssV0FDRCxPQUFPc0MsS0FBS3FrRCxTQUFTaXRELFFBRXpCNWxGLElBQUssU0FBVTV0QixHQUNYa0MsS0FBS3FrRCxTQUFTaXRELE9BQVN4ekcsR0FFM0JMLFlBQVksRUFDWjBCLGNBQWMsSUFFbEI1QixPQUFPQyxlQUFlMnpHLEVBQVkxeUcsVUFBVyxPQUFRLENBTWpEZixJQUFLLFdBQ0QsT0FBT3NDLEtBQUtxa0QsU0FBU2t0RCxPQUV6QjdsRixJQUFLLFNBQVU1dEIsR0FDWGtDLEtBQUtxa0QsU0FBU2t0RCxNQUFRenpHLEdBRTFCTCxZQUFZLEVBQ1owQixjQUFjLElBOUNVLENBaUQ5QixJQTlERixJQ3hCSXF5RyxHQUFjLElBQUloaUYsR0FDdEIsR0FBYy93QixVQUFVZ3pHLGdCQUFpQixFQUN6QyxHQUFjaHpHLFVBQVVpekcsV0FBYSxLQVFyQyxJQUFJQyxHQUNBLFdBQ0kzeEcsS0FBSzR4RyxlQUFpQixLQUN0QjV4RyxLQUFLNnhHLGVBQWlCLEtBQ3RCN3hHLEtBQUs4eEcscUJBQXVCLEtBQzVCOXhHLEtBQUsreEcsd0JBQTBCLEtBQy9CL3hHLEtBQUtneUcsdUJBQXlCLEtBQzlCaHlHLEtBQUtpeUcsd0JBQTBCLEtBQy9CanlHLEtBQUtreUcsZ0JBQWtCLEtBQ3ZCbHlHLEtBQUtteUcsYUFBZSxLQUNwQm55RyxLQUFLb3lHLG1CQUFxQixLQUMxQnB5RyxLQUFLcXlHLHNCQUF3QixLQUM3QnJ5RyxLQUFLK21ELE9BQVMsTUFJdEJ4cEQsT0FBT3VCLGlCQUFpQixHQUFjTCxVQUFXLENBYTdDNnpHLGNBQWUsQ0FDWDUwRyxJQUFLLFdBQ0QsT0FBT3NDLEtBQUt5eEcsZ0JBRWhCL2xGLElBQUssU0FBVTV0QixHQUtYLElBQUkyTixFQUpBekwsS0FBS3l4RyxpQkFBbUIzekcsSUFHNUJrQyxLQUFLeXhHLGVBQWlCM3pHLEVBRWxCQSxHQUNLa0MsS0FBSzB4RyxhQUNOMXhHLEtBQUsweEcsV0FBYSxJQUFJQyxLQUUxQmxtRyxFQUFPekwsS0FBSzB4RyxZQUNQRyxlQUFpQjd4RyxLQUFLaTlCLE9BQzNCeHhCLEVBQUtxbUcscUJBQXVCOXhHLEtBQUt1eUcsYUFDakM5bUcsRUFBS3dtRyx3QkFBMEJqeUcsS0FBS3UxQixnQkFDcEM5cEIsRUFBS3NtRyx3QkFBMEIveEcsS0FBS2c2QixnQkFDcEN2dUIsRUFBS3VtRyx1QkFBeUJoeUcsS0FBS2k2QixlQUNuQ3h1QixFQUFLeW1HLGdCQUFrQmx5RyxLQUFLeXJCLFFBQzVCaGdCLEVBQUs0bUcsc0JBQXdCcnlHLEtBQUsybkMsY0FDbENsOEIsRUFBSzBtRyxhQUFlbnlHLEtBQUtzNUIsTUFDekI3dEIsRUFBSzJtRyxtQkFBcUJweUcsS0FBSzg0QixXQUMvQjk0QixLQUFLaTlCLE9BQVNqOUIsS0FBS3d5RyxjQUNuQnh5RyxLQUFLdXlHLGFBQWV2eUcsS0FBS3l5RyxvQkFDekJ6eUcsS0FBS3lyQixRQUFVenJCLEtBQUsweUcseUJBR3BCam5HLEVBQU96TCxLQUFLMHhHLFlBQ0gzcUQsUUFDTC9tRCxLQUFLMnlHLDhCQUVUM3lHLEtBQUtpOUIsT0FBU3h4QixFQUFLb21HLGVBQ25CN3hHLEtBQUt1eUcsYUFBZTltRyxFQUFLcW1HLHFCQUN6Qjl4RyxLQUFLZzZCLGdCQUFrQnZ1QixFQUFLc21HLHdCQUM1Qi94RyxLQUFLaTZCLGVBQWlCeHVCLEVBQUt1bUcsdUJBQzNCaHlHLEtBQUt5ckIsUUFBVWhnQixFQUFLeW1HLGdCQUNwQmx5RyxLQUFLdTFCLGdCQUFrQjlwQixFQUFLd21HLHdCQUM1Qmp5RyxLQUFLMm5DLGNBQWdCbDhCLEVBQUs0bUcsc0JBQzFCcnlHLEtBQUtzNUIsTUFBUTd0QixFQUFLMG1HLGFBQ2xCbnlHLEtBQUs4NEIsV0FBYXJ0QixFQUFLMm1HLHlCQWF2QyxHQUFjM3pHLFVBQVUrekcsY0FBZ0IsU0FBdUJ0MUUsSUFDdERsOUIsS0FBS3c0QixTQUFXeDRCLEtBQUsyNEIsWUFBYyxJQUFNMzRCLEtBQUt5NEIsYUFHbkR6NEIsS0FBSzR5Ryx5QkFBeUIxMUUsR0FDOUJsOUIsS0FBSzB4RyxXQUFXM3FELE9BQU96MUIsVUFBVTZELFNBQVduMUIsS0FBS3N4QixVQUFVNkQsU0FDM0RuMUIsS0FBSzB4RyxXQUFXM3FELE9BQU9wdUIsV0FBYTM0QixLQUFLMjRCLFdBQ3pDMzRCLEtBQUsweEcsV0FBVzNxRCxPQUFPM3BCLFFBQVFGLEtBVW5DLEdBQWN6K0IsVUFBVW0wRyx5QkFBMkIsU0FBa0MxMUUsR0FDakYsSUFBSWw5QixLQUFLMHhHLGFBQWMxeEcsS0FBSzB4RyxXQUFXM3FELE9BQXZDLENBSUEsSUFBSThyRCxFQUFhN3lHLEtBQUtzcEIsTUFDdEJ0cEIsS0FBS3NwQixNQUFRLEVBRWI0VCxFQUFTRyxNQUFNQyxRQU1mLElBQUloRyxFQUFTdDNCLEtBQUtpNkIsZUFBZSxNQUFNLEdBQU0zTixRQUU3QyxHQUFJdHNCLEtBQUsrNEIsUUFBUyxDQUNkLElBQUkyc0IsRUFBVTFsRCxLQUFLKzRCLFFBQVEsR0FBRzJzQixRQUM5QnB1QixFQUFPM0ssSUFBSSs0QixHQUVmcHVCLEVBQU9uSyxLQUFLbkgsRUFBU0csWUFHckIsSUFBSTJzRixFQUFzQjUxRSxFQUFTaWpCLGNBQWN6YyxRQUM3Q3F2RSxFQUFvQjcxRSxFQUFTaWpCLGNBQWNzRSxZQUFZbjRCLFFBQ3ZEMG1GLEVBQTRCOTFFLEVBQVNvZ0MsV0FBV2hzQyxVQUloRDZ1QixFQUFnQmxCLEdBQWM5Z0QsT0FBTyxDQUFFK29CLE1BQU9vUSxFQUFPcFEsTUFBT0MsT0FBUW1RLEVBQU9uUSxTQUMzRXlxRixFQUFpQixpQkFBbUJ4bkYsS0FDeENwcUIsS0FBSzB4RyxXQUFXRSxlQUFpQkEsRUFDakMsR0FBWW4rRCxXQUFXME0sRUFBY3BRLFlBQWE2aEUsR0FDbEQsR0FBUW4rRCxXQUFXME0sRUFBZXl4RCxHQUVsQyxJQUFJMzBHLEVBQUl1MEcsR0FDUnYwRyxFQUFFd3lCLElBQU02SCxFQUFPdHJCLEVBQ2YvTyxFQUFFeXlCLElBQU00SCxFQUFPcnJCLEVBRWZqTSxLQUFLc3hCLFVBQVVpRCxlQUFlM0MsV0FFOUI1eEIsS0FBS2k5QixPQUFTajlCLEtBQUsweEcsV0FBV0csZUFDOUIzMEUsRUFBU0QsT0FBT2o5QixLQUFNbWdELEdBQWUsRUFBTWxqRCxHQUFHLEdBRTlDaWdDLEVBQVNvZ0MsV0FBV2hzQyxVQUFZMGhGLEVBQ2hDOTFFLEVBQVNpakIsY0FBYzloRCxLQUFLeTBHLEVBQXFCQyxHQUVqRC95RyxLQUFLaTlCLE9BQVNqOUIsS0FBS3d5RyxjQUVuQnh5RyxLQUFLdTFCLGdCQUFrQnYxQixLQUFLdTZCLDZCQUM1QnY2QixLQUFLZzZCLGdCQUFrQmg2QixLQUFLaXpHLHVCQUM1Qmp6RyxLQUFLaTZCLGVBQWlCajZCLEtBQUtrekcsc0JBQzNCbHpHLEtBQUtzNUIsTUFBUSxLQUNidDVCLEtBQUs4NEIsV0FBYSxLQUVsQixJQUFJcTZFLEVBQWUsSUFBSSxHQUFPaHpELEdBQzlCZ3pELEVBQWE3aEYsVUFBVWlELGVBQWlCdjBCLEtBQUtzeEIsVUFBVWlELGVBQ3ZENCtFLEVBQWE1MUQsT0FBT3Z4QyxHQUFNc3JCLEVBQU90ckIsRUFBSXNyQixFQUFPcFEsTUFDNUNpc0YsRUFBYTUxRCxPQUFPdHhDLEdBQU1xckIsRUFBT3JyQixFQUFJcXJCLEVBQU9uUSxPQUM1Q2dzRixFQUFhN3BGLE1BQVF1cEYsRUFDckJNLEVBQWFsNkUsUUFBVWo1QixLQUFLaTVCLFFBQzVCajVCLEtBQUsweEcsV0FBVzNxRCxPQUFTb3NELEVBQ3pCbnpHLEtBQUtzeEIsVUFBVThELFdBQWEsRUFFdkJwMUIsS0FBSzA0QixPQU1OMTRCLEtBQUt1MUIsbUJBTEx2MUIsS0FBS2k3QixtQkFDTGo3QixLQUFLdTFCLGtCQUNMdjFCLEtBQUttN0Isa0JBQWtCLE9BTTNCbjdCLEtBQUsybkMsY0FBZ0J3ckUsRUFBYXhyRSxjQUFjdHBDLEtBQUs4MEcsS0FVekQsR0FBYzEwRyxVQUFVZzBHLG9CQUFzQixTQUE2QnYxRSxJQUNsRWw5QixLQUFLdzRCLFNBQVd4NEIsS0FBSzI0QixZQUFjLElBQU0zNEIsS0FBS3k0QixhQUduRHo0QixLQUFLb3pHLCtCQUErQmwyRSxHQUNwQ2w5QixLQUFLMHhHLFdBQVczcUQsT0FBT3B1QixXQUFhMzRCLEtBQUsyNEIsV0FDekMzNEIsS0FBSzB4RyxXQUFXM3FELE9BQU9zc0QsY0FBY24yRSxLQVd6QyxHQUFjeitCLFVBQVUyMEcsK0JBQWlDLFNBQXdDbDJFLEdBQzdGLElBQUlsOUIsS0FBSzB4RyxhQUFjMXhHLEtBQUsweEcsV0FBVzNxRCxPQUF2QyxDQUlBLElBQUl6dkIsRUFBU3QzQixLQUFLaTZCLGVBQWUsTUFBTSxHQUNuQzQ0RSxFQUFhN3lHLEtBQUtzcEIsTUFDdEJ0cEIsS0FBS3NwQixNQUFRLEVBQ2IsSUFBSWdxRixFQUFxQnAyRSxFQUFTMXpCLFFBQzlCd3BHLEVBQTRCOTFFLEVBQVNxMkUsZUFDekNqOEUsRUFBT25LLEtBQUtuSCxFQUFTRyxZQUNyQixJQUFJZzZCLEVBQWdCbEIsR0FBYzlnRCxPQUFPLENBQUUrb0IsTUFBT29RLEVBQU9wUSxNQUFPQyxPQUFRbVEsRUFBT25RLFNBQzNFeXFGLEVBQWlCLGlCQUFtQnhuRixLQUN4Q3BxQixLQUFLMHhHLFdBQVdFLGVBQWlCQSxFQUNqQyxHQUFZbitELFdBQVcwTSxFQUFjcFEsWUFBYTZoRSxHQUNsRCxHQUFRbitELFdBQVcwTSxFQUFleXhELEdBRWxDLElBQUkzMEcsRUFBSXUwRyxHQUNSeHhHLEtBQUtzeEIsVUFBVWtELGVBQWUvSCxPQUFPeHZCLEdBQ3JDQSxFQUFFMDBCLFNBQ0YxMEIsRUFBRXd5QixJQUFNNkgsRUFBT3RyQixFQUNmL08sRUFBRXl5QixJQUFNNEgsRUFBT3JyQixFQUdmak0sS0FBS3V5RyxhQUFldnlHLEtBQUsweEcsV0FBV0kscUJBQ3BDNTBFLEVBQVNELE9BQU9qOUIsS0FBTW1nRCxHQUFlLEVBQU1sakQsR0FBRyxHQUU5Q2lnQyxFQUFTMXpCLFFBQVU4cEcsRUFDbkJwMkUsRUFBU3EyRSxlQUFpQlAsRUFDMUJoekcsS0FBS3V5RyxhQUFldnlHLEtBQUt5eUcsb0JBRXpCenlHLEtBQUt1MUIsZ0JBQWtCdjFCLEtBQUt1NkIsNkJBQzVCdjZCLEtBQUtnNkIsZ0JBQWtCaDZCLEtBQUtpekcsdUJBQzVCanpHLEtBQUtpNkIsZUFBaUJqNkIsS0FBS2t6RyxzQkFDM0JsekcsS0FBS3M1QixNQUFRLEtBQ2J0NUIsS0FBSzg0QixXQUFhLEtBRWxCLElBQUlxNkUsRUFBZSxJQUFJLEdBQU9oekQsR0FDOUJnekQsRUFBYTdoRixVQUFVaUQsZUFBaUJ2MEIsS0FBS3N4QixVQUFVaUQsZUFDdkQ0K0UsRUFBYTUxRCxPQUFPdnhDLEdBQU1zckIsRUFBT3RyQixFQUFJc3JCLEVBQU9wUSxNQUM1Q2lzRixFQUFhNTFELE9BQU90eEMsR0FBTXFyQixFQUFPcnJCLEVBQUlxckIsRUFBT25RLE9BQzVDZ3NGLEVBQWE3cEYsTUFBUXVwRixFQUNyQk0sRUFBYWw2RSxRQUFVajVCLEtBQUtpNUIsUUFDNUJqNUIsS0FBSzB4RyxXQUFXM3FELE9BQVNvc0QsRUFDekJuekcsS0FBS3N4QixVQUFVOEQsV0FBYSxFQUV2QnAxQixLQUFLMDRCLE9BTU4xNEIsS0FBS3UxQixtQkFMTHYxQixLQUFLMDRCLE9BQVN3RSxFQUFTcEQseUJBQ3ZCOTVCLEtBQUt1MUIsa0JBQ0x2MUIsS0FBSzA0QixPQUFTLE1BTWxCMTRCLEtBQUsybkMsY0FBZ0J3ckUsRUFBYXhyRSxjQUFjdHBDLEtBQUs4MEcsS0FPekQsR0FBYzEwRyxVQUFVdzBHLHVCQUF5QixXQUM3Q2p6RyxLQUFLaTVCLFFBQVEzTixRQUNidHJCLEtBQUsweEcsV0FBVzNxRCxPQUFPejFCLFVBQVU2RCxTQUFXbjFCLEtBQUtzeEIsVUFBVTZELFNBQzNEbjFCLEtBQUsweEcsV0FBVzNxRCxPQUFPaHFCLG1CQUN2Qi84QixLQUFLaTVCLFFBQVFqRCxTQUFXaDJCLEtBQUttNUIsV0FRakMsR0FBYzE2QixVQUFVeTBHLHNCQUF3QixXQUM1QyxPQUFPbHpHLEtBQUsweEcsV0FBVzNxRCxPQUFPOXNCLGVBQWUsT0FPakQsR0FBY3g3QixVQUFVazBHLDRCQUE4QixXQUNsRDN5RyxLQUFLMHhHLFdBQVczcUQsT0FBT0MsU0FBU3Y3QixTQUFRLEdBQ3hDenJCLEtBQUsweEcsV0FBVzNxRCxPQUFTLEtBQ3pCLEdBQVkxVCxnQkFBZ0JyekMsS0FBSzB4RyxXQUFXRSxnQkFDNUMsR0FBUXYrRCxnQkFBZ0JyekMsS0FBSzB4RyxXQUFXRSxnQkFDeEM1eEcsS0FBSzB4RyxXQUFXRSxlQUFpQixNQVVyQyxHQUFjbnpHLFVBQVVpMEcsc0JBQXdCLFNBQStCdnlGLEdBQzNFbmdCLEtBQUtzeUcsZUFBZ0IsRUFDckJ0eUcsS0FBS3lyQixRQUFRdEwsSUNwVGpCLEdBQWMxaEIsVUFBVXJCLEtBQU8sS0FZL0IsR0FBVXFCLFVBQVUrMEcsZUFBaUIsU0FBd0JwMkcsRUFBTXEyRyxHQUMvRCxJQUFLLElBQUk1MkcsRUFBSSxFQUFHaUosRUFBSTlGLEtBQUs4ZixTQUFTN2dCLE9BQVFwQyxFQUFJaUosRUFBR2pKLElBQzdDLEdBQUltRCxLQUFLOGYsU0FBU2pqQixHQUFHTyxPQUFTQSxFQUMxQixPQUFPNEMsS0FBSzhmLFNBQVNqakIsR0FHN0IsR0FBSTQyRyxFQUNBLElBQVM1MkcsRUFBSSxFQUFHaUosRUFBSTlGLEtBQUs4ZixTQUFTN2dCLE9BQVFwQyxFQUFJaUosRUFBR2pKLElBQUssQ0FFbEQsR0FEWW1ELEtBQUs4ZixTQUFTampCLEdBQ2YyMkcsZUFBWCxDQUdBLElBQUl6MEcsRUFBU2lCLEtBQUs4ZixTQUFTampCLEdBQUcyMkcsZUFBZXAyRyxHQUFNLEdBQ25ELEdBQUkyQixFQUNBLE9BQU9BLEdBSW5CLE9BQU8sTUN4QlgsR0FBY04sVUFBVWkxRyxrQkFBb0IsU0FBMkJyOUUsRUFBTzBELEdBVTFFLFlBVGMsSUFBVjFELElBQW9CQSxFQUFRLElBQUlsSCxTQUNqQixJQUFmNEssSUFBeUJBLEdBQWEsR0FDdEMvNUIsS0FBSzA0QixPQUNMMTRCLEtBQUswNEIsT0FBTzRCLFNBQVN0NkIsS0FBSzB4QixTQUFVMkUsRUFBTzBELElBRzNDMUQsRUFBTXJxQixFQUFJaE0sS0FBSzB4QixTQUFTMWxCLEVBQ3hCcXFCLEVBQU1wcUIsRUFBSWpNLEtBQUsweEIsU0FBU3psQixHQUVyQm9xQixHQ0pYLElBQUksR0FBZ0IsU0FBU2w1QixFQUFHK1IsR0FJNUIsT0FIQSxHQUFnQjNSLE9BQU8wNkIsZ0JBQ2xCLENBQUUvdEIsVUFBVyxjQUFnQk8sT0FBUyxTQUFVdE4sRUFBRytSLEdBQUsvUixFQUFFK00sVUFBWWdGLElBQ3ZFLFNBQVUvUixFQUFHK1IsR0FBSyxJQUFLLElBQUl2USxLQUFLdVEsRUFBU0EsRUFBRXhRLGVBQWVDLEtBQU14QixFQUFFd0IsR0FBS3VRLEVBQUV2USxNQUN4RHhCLEVBQUcrUixJQUc1QixTQUFTLEdBQVUvUixFQUFHK1IsR0FFbEIsU0FBU2lwQixJQUFPbjRCLEtBQUt1VixZQUFjcFksRUFEbkMsR0FBY0EsRUFBRytSLEdBRWpCL1IsRUFBRXNCLFVBQWtCLE9BQU55USxFQUFhM1IsT0FBT1ksT0FBTytRLElBQU1pcEIsRUFBRzE1QixVQUFZeVEsRUFBRXpRLFVBQVcsSUFBSTA1QixHQUduRixJQUFJdzdFLEdBQStCLFNBQVV2N0UsR0FFekMsU0FBU3U3RSxFQUFjenNGLEVBQU9DLEVBQVF5c0YsRUFBVUMsUUFDOUIsSUFBVjNzRixJQUFvQkEsRUFBUSxVQUNqQixJQUFYQyxJQUFxQkEsRUFBUyxVQUNqQixJQUFieXNGLElBQXVCQSxFQUFXLFNBQ3BCLElBQWRDLElBQXdCQSxFQUFZLElBQ3hDLElBQUl2N0UsRUFBUUYsRUFBT3A3QixLQUFLZ0QsT0FBU0EsS0FNakMsT0FMQXM0QixFQUFNczdFLFNBQVdBLEVBQ2pCdDdFLEVBQU11N0UsVUFBWUEsRUFDbEJ2N0UsRUFBTXBSLE1BQVFBLEVBQ2RvUixFQUFNblIsT0FBU0EsRUFDZm1SLEVBQU0ycEQsUUFDQzNwRCxFQXVDWCxPQW5EQSxHQUFVcTdFLEVBQWV2N0UsR0FrQnpCdTdFLEVBQWNsMUcsVUFBVXdqRixNQUFRLFdBUzVCLElBUkEsSUFBSXZLLEVBQVExM0UsS0FBSzR6RyxTQUFXNXpHLEtBQUs2ekcsVUFDN0J2eEIsRUFBUSxHQUNSeitCLEVBQU0sR0FDTjZuQixFQUFVLEdBQ1Zvb0MsRUFBWTl6RyxLQUFLNHpHLFNBQVcsRUFDNUJHLEVBQVkvekcsS0FBSzZ6RyxVQUFZLEVBQzdCRyxFQUFTaDBHLEtBQVUsTUFBSTh6RyxFQUN2QkcsRUFBU2owRyxLQUFXLE9BQUkrekcsRUFDbkJsM0csRUFBSSxFQUFHQSxFQUFJNjZFLEVBQU83NkUsSUFBSyxDQUM1QixJQUFJbVAsRUFBS25QLEVBQUltRCxLQUFLNHpHLFNBQ2QzbkcsRUFBTXBQLEVBQUltRCxLQUFLNHpHLFNBQVksRUFDL0J0eEIsRUFBTXJoRixLQUFLK0ssRUFBSWdvRyxFQUFPL25HLEVBQUlnb0csR0FDMUJwd0QsRUFBSTVpRCxLQUFLK0ssRUFBSThuRyxFQUFXN25HLEVBQUk4bkcsR0FFaEMsSUFBSUcsRUFBV0osRUFBWUMsRUFDM0IsSUFBU2wzRyxFQUFJLEVBQUdBLEVBQUlxM0csRUFBVXIzRyxJQUFLLENBQy9CLElBQUlzM0csRUFBT3QzRyxFQUFJaTNHLEVBQ1hNLEVBQVF2M0csRUFBSWkzRyxFQUFhLEVBQ3pCaDJHLEVBQVNzMkcsRUFBT3AwRyxLQUFLNHpHLFNBQVlPLEVBQ2pDRSxFQUFVRCxFQUFPcDBHLEtBQUs0ekcsU0FBWU8sRUFBTyxFQUN6Q0csR0FBV0YsRUFBTyxHQUFLcDBHLEtBQUs0ekcsU0FBWU8sRUFDeENJLEdBQVdILEVBQU8sR0FBS3AwRyxLQUFLNHpHLFNBQVlPLEVBQU8sRUFDbkR6b0MsRUFBUXpxRSxLQUFLbkQsRUFBT3UyRyxFQUFRQyxFQUFRRCxFQUFRRSxFQUFRRCxHQUV4RHQwRyxLQUFLNGhELFFBQVEsR0FBR24yQyxLQUFPLElBQUlzVyxhQUFhdWdFLEdBQ3hDdGlGLEtBQUs0aEQsUUFBUSxHQUFHbjJDLEtBQU8sSUFBSXNXLGFBQWE4aEMsR0FDeEM3akQsS0FBSzhoRCxZQUFZcjJDLEtBQU8sSUFBSXdXLFlBQVl5cEQsR0FFeEMxckUsS0FBSzRoRCxRQUFRLEdBQUd4aEIsU0FDaEJwZ0MsS0FBSzRoRCxRQUFRLEdBQUd4aEIsU0FDaEJwZ0MsS0FBSzhoRCxZQUFZMWhCLFVBRWR1ekUsRUFwRHVCLENBcURoQyxJQWlCRWEsR0FBOEIsU0FBVXA4RSxHQWF4QyxTQUFTbzhFLEVBQWF0dEYsRUFBT21ILEVBQVFvbUYsUUFDbkIsSUFBVnZ0RixJQUFvQkEsRUFBUSxVQUNYLElBQWpCdXRGLElBQTJCQSxFQUFlLEdBQzlDLElBQUluOEUsRUFBUUYsRUFBT3A3QixLQUFLZ0QsS0FBTSxJQUFJK2hCLGFBQTZCLEVBQWhCc00sRUFBT3B2QixRQUFhLElBQUk4aUIsYUFBNkIsRUFBaEJzTSxFQUFPcHZCLFFBQWEsSUFBSWdqQixZQUFrQyxHQUFyQm9NLEVBQU9wdkIsT0FBUyxNQUFZZSxLQW1CckosT0FkQXM0QixFQUFNakssT0FBU0EsRUFNZmlLLEVBQU1zRixPQUFTMVcsRUFNZm9SLEVBQU1tOEUsYUFBZUEsRUFDckJuOEUsRUFBTTJwRCxRQUNDM3BELEVBK0hYLE9BaktBLEdBQVVrOEUsRUFBY3A4RSxHQW9DeEI3NkIsT0FBT0MsZUFBZWczRyxFQUFhLzFHLFVBQVcsUUFBUyxDQU1uRGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLNDlCLFFBRWhCbmdDLFlBQVksRUFDWjBCLGNBQWMsSUFNbEJxMUcsRUFBYS8xRyxVQUFVd2pGLE1BQVEsV0FDM0IsSUFBSTV6RCxFQUFTcnVCLEtBQUtxdUIsT0FDbEIsR0FBS0EsRUFBTCxDQUVBLElBQUl5MUIsRUFBZTlqRCxLQUFLc2lELFVBQVUsbUJBQzlCeUIsRUFBVy9qRCxLQUFLc2lELFVBQVUsaUJBQzFCUixFQUFjOWhELEtBQUt3aUQsV0FFdkIsS0FBSW4wQixFQUFPcHZCLE9BQVMsR0FBcEIsQ0FJSTZrRCxFQUFhcjRDLEtBQUt4TSxPQUFTLElBQU1vdkIsRUFBT3B2QixTQUN4QzZrRCxFQUFhcjRDLEtBQU8sSUFBSXNXLGFBQTZCLEVBQWhCc00sRUFBT3B2QixRQUM1QzhrRCxFQUFTdDRDLEtBQU8sSUFBSXNXLGFBQTZCLEVBQWhCc00sRUFBT3B2QixRQUN4QzZpRCxFQUFZcjJDLEtBQU8sSUFBSXdXLFlBQWtDLEdBQXJCb00sRUFBT3B2QixPQUFTLEtBRXhELElBQUk0a0QsRUFBTUUsRUFBU3Q0QyxLQUNmaWdFLEVBQVU1cEIsRUFBWXIyQyxLQUMxQm80QyxFQUFJLEdBQUssRUFDVEEsRUFBSSxHQUFLLEVBQ1RBLEVBQUksR0FBSyxFQUNUQSxFQUFJLEdBQUssRUFLVCxJQUpBLElBQUltOEIsRUFBUyxFQUNUdnpFLEVBQU80aEIsRUFBTyxHQUNkNDVFLEVBQWVqb0csS0FBSzQ5QixPQUFTNTlCLEtBQUt5MEcsYUFDbEMvOEIsRUFBUXJwRCxFQUFPcHZCLE9BQ1ZwQyxFQUFJLEVBQUdBLEVBQUk2NkUsRUFBTzc2RSxJQUFLLENBRTVCLElBQUltWixFQUFZLEVBQUpuWixFQUNaLEdBQUltRCxLQUFLeTBHLGFBQWUsRUFBRyxDQUV2QixJQUFJL21GLEVBQUtqaEIsRUFBS1QsRUFBSXFpQixFQUFPeHhCLEdBQUdtUCxFQUN4QjJoQixFQUFLbGhCLEVBQUtSLEVBQUlvaUIsRUFBT3h4QixHQUFHb1AsRUFDeEJ5b0csRUFBV3JuRyxLQUFLb2tCLEtBQU0vRCxFQUFLQSxFQUFPQyxFQUFLQSxHQUMzQ2xoQixFQUFPNGhCLEVBQU94eEIsR0FDZG1qRixHQUFVMDBCLEVBQVd6TSxPQUlyQmpvQixFQUFTbmpGLEdBQUs2NkUsRUFBUSxHQUUxQjd6QixFQUFJN3RDLEdBQVNncUUsRUFDYm44QixFQUFJN3RDLEVBQVEsR0FBSyxFQUNqQjZ0QyxFQUFJN3RDLEVBQVEsR0FBS2dxRSxFQUNqQm44QixFQUFJN3RDLEVBQVEsR0FBSyxFQUVyQixJQUFJcXdFLEVBQWEsRUFDakIsSUFBU3hwRixFQUFJLEVBQUdBLEVBQUk2NkUsRUFBUSxFQUFHNzZFLElBQUssQ0FDNUJtWixFQUFZLEVBQUpuWixFQUNaNnVFLEVBQVEyYSxLQUFnQnJ3RSxFQUN4QjAxRCxFQUFRMmEsS0FBZ0Jyd0UsRUFBUSxFQUNoQzAxRCxFQUFRMmEsS0FBZ0Jyd0UsRUFBUSxFQUNoQzAxRCxFQUFRMmEsS0FBZ0Jyd0UsRUFBUSxFQUNoQzAxRCxFQUFRMmEsS0FBZ0Jyd0UsRUFBUSxFQUNoQzAxRCxFQUFRMmEsS0FBZ0Jyd0UsRUFBUSxFQUdwQyt0QyxFQUFTM2pCLFNBQ1QwaEIsRUFBWTFoQixTQUNacGdDLEtBQUsyMEcsb0JBS1RILEVBQWEvMUcsVUFBVWsyRyxlQUFpQixXQUNwQyxJQUFJdG1GLEVBQVNydUIsS0FBS3F1QixPQUNsQixLQUFJQSxFQUFPcHZCLE9BQVMsR0FBcEIsQ0FTQSxJQU5BLElBQ0kyMUcsRUFEQTN1QixFQUFZNTNELEVBQU8sR0FFbkJ3bUYsRUFBUSxFQUNSQyxFQUFRLEVBQ1JsaUcsRUFBVzVTLEtBQUs0aEQsUUFBUSxHQUFHbjJDLEtBQzNCaXNFLEVBQVFycEQsRUFBT3B2QixPQUNWcEMsRUFBSSxFQUFHQSxFQUFJNjZFLEVBQU83NkUsSUFBSyxDQUM1QixJQUFJdzVCLEVBQVFoSSxFQUFPeHhCLEdBQ2ZtWixFQUFZLEVBQUpuWixFQU9aaTRHLEtBTElGLEVBREEvM0csRUFBSXd4QixFQUFPcHZCLE9BQVMsRUFDUm92QixFQUFPeHhCLEVBQUksR0FHWHc1QixHQUVJcnFCLEVBQUlpNkUsRUFBVWo2RSxHQUNsQzZvRyxFQUFRRCxFQUFVM29HLEVBQUlnNkUsRUFBVWg2RSxFQUNoQyxJQUFJOG9HLEVBQWExbkcsS0FBS29rQixLQUFNb2pGLEVBQVFBLEVBQVVDLEVBQVFBLEdBQ2xEN2lHLEVBQU1qUyxLQUFLeTBHLGFBQWUsRUFBSXowRyxLQUFLeTBHLGFBQWV6MEcsS0FBSzQ5QixPQUFTLEVBQUk1OUIsS0FBSzQ5QixPQUFTLEVBQ3RGaTNFLEdBQVNFLEVBQ1RELEdBQVNDLEVBQ1RGLEdBQVM1aUcsRUFDVDZpRyxHQUFTN2lHLEVBQ1RXLEVBQVNvRCxHQUFTcWdCLEVBQU1ycUIsRUFBSTZvRyxFQUM1QmppRyxFQUFTb0QsRUFBUSxHQUFLcWdCLEVBQU1wcUIsRUFBSTZvRyxFQUNoQ2xpRyxFQUFTb0QsRUFBUSxHQUFLcWdCLEVBQU1ycUIsRUFBSTZvRyxFQUNoQ2ppRyxFQUFTb0QsRUFBUSxHQUFLcWdCLEVBQU1wcUIsRUFBSTZvRyxFQUNoQzd1QixFQUFZNXZELEVBRWhCcjJCLEtBQUs0aEQsUUFBUSxHQUFHeGhCLFdBRXBCbzBFLEVBQWEvMUcsVUFBVTJoQyxPQUFTLFdBQ3hCcGdDLEtBQUt5MEcsYUFBZSxFQUNwQnowRyxLQUFLaWlGLFFBR0xqaUYsS0FBSzIwRyxrQkFHTkgsRUFsS3NCLENBbUsvQixJQXNFRSxJQXJENEIsU0FBVXA4RSxHQVN0QyxTQUFTNDhFLEVBQVd0Z0UsRUFBU3JtQixFQUFRb21GLFFBQ1osSUFBakJBLElBQTJCQSxFQUFlLEdBQzlDLElBQUluOEUsRUFBUXQ0QixLQUNSaTFHLEVBQWUsSUFBSVQsR0FBYTkvRCxFQUFRdnRCLE9BQVFrSCxFQUFRb21GLEdBQ3hEUyxFQUFlLElBQUksR0FBYXhnRSxHQVlwQyxPQVhJKy9ELEVBQWUsSUFFZi8vRCxFQUFRM0UsWUFBWTRCLFNBQVduc0IsRUFBV3FvRSxTQUU5Q3YxRCxFQUFRRixFQUFPcDdCLEtBQUtnRCxLQUFNaTFHLEVBQWNDLElBQWlCbDFHLE1BTW5EbTZDLFlBQWEsRUFDWjdoQixFQXhCWCxHQUFVMDhFLEVBQVk1OEUsR0EwQnRCNDhFLEVBQVd2MkcsVUFBVTIrQixRQUFVLFNBQVVGLEdBQ3JDLElBQUkrbEIsRUFBV2pqRCxLQUFLaWpELFVBQ2hCampELEtBQUttNkMsWUFBYzhJLEVBQVNybEIsU0FBVzU5QixLQUFLeW1ELE9BQU8vUixRQUFRdnRCLFVBQzNEODdCLEVBQVNybEIsT0FBUzU5QixLQUFLeW1ELE9BQU8vUixRQUFRdnRCLE9BQ3RDODdCLEVBQVM3aUIsVUFFYmhJLEVBQU8zNUIsVUFBVTIrQixRQUFRcGdDLEtBQUtnRCxLQUFNazlCLElBakNiLENBb0M3QixJQWlCK0IsU0FBVTlFLEdBT3ZDLFNBQVMrOEUsRUFBWXpnRSxFQUFTMGdFLEVBQVdDLEdBQ3JDLElBQUkvOEUsRUFBUXQ0QixLQUNSczFHLEVBQWdCLElBQUkzQixHQUFjai9ELEVBQVF4dEIsTUFBT3d0QixFQUFRdnRCLE9BQVFpdUYsRUFBV0MsR0FDNUVILEVBQWUsSUFBSSxHQUFhLEdBQVFyMkQsT0FJNUMsT0FIQXZtQixFQUFRRixFQUFPcDdCLEtBQUtnRCxLQUFNczFHLEVBQWVKLElBQWlCbDFHLE1BRXBEMDBDLFFBQVVBLEVBQ1RwYyxFQTBDWCxPQXZEQSxHQUFVNjhFLEVBQWEvOEUsR0FtQnZCKzhFLEVBQVkxMkcsVUFBVTgyRyxlQUFpQixXQUNuQ3YxRyxLQUFLMnpGLFdBQWEzekYsS0FBS3ltRCxPQUFPL1IsUUFBUW9KLFVBQ3RDLElBQUltRixFQUFXampELEtBQUtpakQsU0FDcEJBLEVBQVMvN0IsTUFBUWxuQixLQUFLeW1ELE9BQU8vUixRQUFReHRCLE1BQ3JDKzdCLEVBQVM5N0IsT0FBU25uQixLQUFLeW1ELE9BQU8vUixRQUFRdnRCLE9BQ3RDODdCLEVBQVNnL0IsU0FFYjFrRixPQUFPQyxlQUFlMjNHLEVBQVkxMkcsVUFBVyxVQUFXLENBQ3BEZixJQUFLLFdBQ0QsT0FBT3NDLEtBQUt5bUQsT0FBTy9SLFNBRXZCaHBCLElBQUssU0FBVTV0QixHQUlQa0MsS0FBS3ltRCxPQUFPL1IsVUFBWTUyQyxJQUc1QmtDLEtBQUt5bUQsT0FBTy9SLFFBQVU1MkMsRUFDdEJrQyxLQUFLMnpGLFlBQWMsRUFDZjcxRixFQUFNaXlDLFlBQVl3QyxNQUNsQnZ5QyxLQUFLdTFHLGlCQUdMejNHLEVBQU0rQixLQUFLLFNBQVVHLEtBQUt1MUcsZUFBZ0J2MUcsUUFHbER2QyxZQUFZLEVBQ1owQixjQUFjLElBRWxCZzJHLEVBQVkxMkcsVUFBVTIrQixRQUFVLFNBQVVGLEdBQ2xDbDlCLEtBQUsyekYsYUFBZTN6RixLQUFLeW1ELE9BQU8vUixRQUFRb0osV0FDeEM5OUMsS0FBS3UxRyxpQkFFVG45RSxFQUFPMzVCLFVBQVUyK0IsUUFBUXBnQyxLQUFLZ0QsS0FBTWs5QixJQUVqQ2k0RSxFQXhEcUIsQ0F5RDlCLEtDclhFLElEK1g0QixTQUFVLzhFLEdBU3RDLFNBQVNvOUUsRUFBVzlnRSxFQUFTOWhDLEVBQVVpeEMsRUFBSzZuQixFQUFTa2pCLFFBQ2pDLElBQVpsNkMsSUFBc0JBLEVBQVUsR0FBUXZlLE9BQzVDLElBQUltQyxFQUFRdDRCLEtBQ1JpakQsRUFBVyxJQUFJLEdBQWFyd0MsRUFBVWl4QyxFQUFLNm5CLEdBQy9Dem9CLEVBQVNYLFVBQVUsbUJBQW1CbkIsUUFBUyxFQUMvQyxJQUFJK3pELEVBQWUsSUFBSSxHQUFheGdFLEdBT3BDLE9BTkFwYyxFQUFRRixFQUFPcDdCLEtBQUtnRCxLQUFNaWpELEVBQVVpeUQsRUFBYyxLQUFNdG1CLElBQWE1dUYsTUFLL0RtNkMsWUFBYSxFQUNaN2hCLEVBcEJYLEdBQVVrOUUsRUFBWXA5RSxHQXNCdEI3NkIsT0FBT0MsZUFBZWc0RyxFQUFXLzJHLFVBQVcsV0FBWSxDQUtwRGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLaWpELFNBQVNYLFVBQVUsbUJBQW1CNzJDLE1BRXREaWdCLElBQUssU0FBVTV0QixHQUNYa0MsS0FBS2lqRCxTQUFTWCxVQUFVLG1CQUFtQjcyQyxLQUFPM04sR0FFdERMLFlBQVksRUFDWjBCLGNBQWMsSUFFbEJxMkcsRUFBVy8yRyxVQUFVMitCLFFBQVUsU0FBVUYsR0FDakNsOUIsS0FBS202QyxZQUNMbjZDLEtBQUtpakQsU0FBU1gsVUFBVSxtQkFBbUJsaUIsU0FFL0NoSSxFQUFPMzVCLFVBQVUyK0IsUUFBUXBnQyxLQUFLZ0QsS0FBTWs5QixJQXpDYixDQTRDN0IsSUFrQ2tDLFNBQVU5RSxHQVMxQyxTQUFTcTlFLEVBQWUvZ0UsRUFBU2doRSxFQUFXQyxFQUFXQyxFQUFZQyxRQUM3QyxJQUFkSCxJQUF3QkEsRUExQ1YsU0EyQ0EsSUFBZEMsSUFBd0JBLEVBM0NWLFNBNENDLElBQWZDLElBQXlCQSxFQTVDWCxTQTZDRyxJQUFqQkMsSUFBMkJBLEVBN0NiLElBOENsQixJQUFJdjlFLEVBQVFGLEVBQU9wN0IsS0FBS2dELEtBQU0sR0FBUTYrQyxNQUFPLEVBQUcsSUFBTTcrQyxLQStDdEQsT0E5Q0FzNEIsRUFBTXc5RSxXQUFhcGhFLEVBQVE0SSxLQUFLcDJCLE1BQ2hDb1IsRUFBTXk5RSxZQUFjcmhFLEVBQVE0SSxLQUFLbjJCLE9BT2pDbVIsRUFBTXNGLE9BQVN0RixFQUFNdzlFLFdBT3JCeDlFLEVBQU11RixRQUFVdkYsRUFBTXk5RSxZQU90Qno5RSxFQUFNMDlFLFdBQWFOLEVBT25CcDlFLEVBQU0yOUUsWUFBY0wsRUFPcEJ0OUUsRUFBTTQ5RSxXQUFhUCxFQU9uQnI5RSxFQUFNNjlFLGNBQWdCTixFQUV0QnY5RSxFQUFNb2MsUUFBVUEsRUFDVHBjLEVBNURYLEdBQVVtOUUsRUFBZ0JyOUUsR0E4RDFCcTlFLEVBQWVoM0csVUFBVTgyRyxlQUFpQixXQUN0Q3YxRyxLQUFLMnpGLFdBQWEzekYsS0FBS3ltRCxPQUFPL1IsUUFBUW9KLFVBQ3RDOTlDLEtBQUtvMkcsWUFFVDc0RyxPQUFPQyxlQUFlaTRHLEVBQWVoM0csVUFBVyxXQUFZLENBQ3hEZixJQUFLLFdBQ0QsT0FBT3NDLEtBQUtpakQsU0FBU1gsVUFBVSxtQkFBbUI3MkMsTUFFdERpZ0IsSUFBSyxTQUFVNXRCLEdBQ1hrQyxLQUFLaWpELFNBQVNYLFVBQVUsbUJBQW1CNzJDLEtBQU8zTixHQUV0REwsWUFBWSxFQUNaMEIsY0FBYyxJQU1sQnMyRyxFQUFlaDNHLFVBQVU0M0cseUJBQTJCLFdBQ2hELElBQUl6akcsRUFBVzVTLEtBQUs0UyxTQUNoQnNkLEVBQVFsd0IsS0FBS3MyRyxlQUNqQjFqRyxFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU01UyxLQUFLazJHLFdBQWFobUYsRUFDN0V0ZCxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU01UyxLQUFLNjlCLFFBQVc3OUIsS0FBS20yRyxjQUFnQmptRixFQUNqR3RkLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTTVTLEtBQUs2OUIsU0FNckU0M0UsRUFBZWgzRyxVQUFVODNHLHVCQUF5QixXQUM5QyxJQUFJM2pHLEVBQVc1UyxLQUFLNFMsU0FDaEJzZCxFQUFRbHdCLEtBQUtzMkcsZUFDakIxakcsRUFBUyxHQUFLQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNNVMsS0FBS2cyRyxXQUFhOWxGLEVBQzdFdGQsRUFBUyxHQUFLQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNNVMsS0FBSzQ5QixPQUFVNTlCLEtBQUtpMkcsWUFBYy9sRixFQUM3RnRkLEVBQVMsR0FBS0EsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTTVTLEtBQUs0OUIsUUFRcEU2M0UsRUFBZWgzRyxVQUFVNjNHLGFBQWUsV0FDcEMsSUFBSXYzRixFQUFJL2UsS0FBS2cyRyxXQUFhaDJHLEtBQUtpMkcsWUFDM0JPLEVBQVN4MkcsS0FBSzQ5QixPQUFTN2UsRUFBSSxFQUFNL2UsS0FBSzQ5QixPQUFTN2UsRUFDL0N6WSxFQUFJdEcsS0FBS2syRyxXQUFhbDJHLEtBQUttMkcsY0FDM0JNLEVBQVN6MkcsS0FBSzY5QixRQUFVdjNCLEVBQUksRUFBTXRHLEtBQUs2OUIsUUFBVXYzQixFQUVyRCxPQURZK0csS0FBSzJFLElBQUl3a0csRUFBUUMsSUFHakNsNUcsT0FBT0MsZUFBZWk0RyxFQUFlaDNHLFVBQVcsUUFBUyxDQU1yRGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLNDlCLFFBRWhCbFMsSUFBSyxTQUFVNXRCLEdBQ1hrQyxLQUFLNDlCLE9BQVM5L0IsRUFDZGtDLEtBQUtvMkcsWUFFVDM0RyxZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZWk0RyxFQUFlaDNHLFVBQVcsU0FBVSxDQU10RGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLNjlCLFNBRWhCblMsSUFBSyxTQUFVNXRCLEdBQ1hrQyxLQUFLNjlCLFFBQVUvL0IsRUFDZmtDLEtBQUtvMkcsWUFFVDM0RyxZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZWk0RyxFQUFlaDNHLFVBQVcsWUFBYSxDQU16RGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLZzJHLFlBRWhCdHFGLElBQUssU0FBVTV0QixHQUNYa0MsS0FBS2cyRyxXQUFhbDRHLEVBQ2xCa0MsS0FBS28yRyxZQUVUMzRHLFlBQVksRUFDWjBCLGNBQWMsSUFFbEI1QixPQUFPQyxlQUFlaTRHLEVBQWVoM0csVUFBVyxhQUFjLENBTTFEZixJQUFLLFdBQ0QsT0FBT3NDLEtBQUtpMkcsYUFFaEJ2cUYsSUFBSyxTQUFVNXRCLEdBQ1hrQyxLQUFLaTJHLFlBQWNuNEcsRUFDbkJrQyxLQUFLbzJHLFlBRVQzNEcsWUFBWSxFQUNaMEIsY0FBYyxJQUVsQjVCLE9BQU9DLGVBQWVpNEcsRUFBZWgzRyxVQUFXLFlBQWEsQ0FNekRmLElBQUssV0FDRCxPQUFPc0MsS0FBS2syRyxZQUVoQnhxRixJQUFLLFNBQVU1dEIsR0FDWGtDLEtBQUtrMkcsV0FBYXA0RyxFQUNsQmtDLEtBQUtvMkcsWUFFVDM0RyxZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZWk0RyxFQUFlaDNHLFVBQVcsZUFBZ0IsQ0FNNURmLElBQUssV0FDRCxPQUFPc0MsS0FBS20yRyxlQUVoQnpxRixJQUFLLFNBQVU1dEIsR0FDWGtDLEtBQUttMkcsY0FBZ0JyNEcsRUFDckJrQyxLQUFLbzJHLFlBRVQzNEcsWUFBWSxFQUNaMEIsY0FBYyxJQUtsQnMyRyxFQUFlaDNHLFVBQVUyM0csU0FBVyxXQUNoQyxJQUFJMWhFLEVBQVUxMEMsS0FBSzAwQyxRQUNmbVAsRUFBTTdqRCxLQUFLaWpELFNBQVNyQixRQUFRLEdBQUduMkMsS0FDbkN6TCxLQUFLODFHLFdBQWFwaEUsRUFBUTRJLEtBQUtwMkIsTUFDL0JsbkIsS0FBSysxRyxZQUFjcmhFLEVBQVE0SSxLQUFLbjJCLE9BQ2hDLElBQUl1dkYsRUFBTyxFQUFNMTJHLEtBQUs4MUcsV0FDbEJhLEVBQU8sRUFBTTMyRyxLQUFLKzFHLFlBQ3RCbHlELEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUN0Q0EsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxHQUFLLEVBQ3BDQSxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFDdkNBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUN4Q0EsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNNnlELEVBQU8xMkcsS0FBS2cyRyxXQUNuRG55RCxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFBSzZ5RCxFQUFPMTJHLEtBQUtpMkcsWUFDeERweUQsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNOHlELEVBQU8zMkcsS0FBS2syRyxXQUNuRHJ5RCxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFBSzh5RCxFQUFPMzJHLEtBQUttMkcsY0FDekRuMkcsS0FBS3EyRywyQkFDTHIyRyxLQUFLdTJHLHlCQUNMdjJHLEtBQUtpakQsU0FBU3JCLFFBQVEsR0FBR3hoQixTQUN6QnBnQyxLQUFLaWpELFNBQVNyQixRQUFRLEdBQUd4aEIsVUF0T0UsQ0F5T2pDLElDdHJCa0IsU0FBU2pqQyxFQUFHK1IsR0FJNUIsT0FIQSxHQUFnQjNSLE9BQU8wNkIsZ0JBQ2xCLENBQUUvdEIsVUFBVyxjQUFnQk8sT0FBUyxTQUFVdE4sRUFBRytSLEdBQUsvUixFQUFFK00sVUFBWWdGLElBQ3ZFLFNBQVUvUixFQUFHK1IsR0FBSyxJQUFLLElBQUl2USxLQUFLdVEsRUFBU0EsRUFBRXhRLGVBQWVDLEtBQU14QixFQUFFd0IsR0FBS3VRLEVBQUV2USxNQUN4RHhCLEVBQUcrUixNQTBDUSxTQUFVa3BCLEdBTzFDLFNBQVN3K0UsRUFBZW4yRCxFQUFVdEcsUUFDWCxJQUFmQSxJQUF5QkEsR0FBYSxHQUMxQyxJQUFJN2hCLEVBQVFGLEVBQU9wN0IsS0FBS2dELEtBQU15Z0QsRUFBUyxhQUFjLEdBQVVBLEVBQVMsR0FBS0EsRUFBUyxHQUFHL0wsVUFBWTEwQyxLQXdGckcsT0FuRkFzNEIsRUFBTWluRSxVQUFZLEtBS2xCam5FLEVBQU11K0UsV0FBYSxLQVFuQnYrRSxFQUFNMmdCLFlBQWNrQixFQVFwQjdoQixFQUFNNGdCLHNCQUF1QixFQU83QjVnQixFQUFNdytFLGVBQWlCLEVBT3ZCeCtFLEVBQU15K0UsTUFBTyxFQWFieitFLEVBQU0wK0UsY0FBZSxFQU1yQjErRSxFQUFNaThDLFdBQWEsS0FNbkJqOEMsRUFBTTIrRSxjQUFnQixLQU10QjMrRSxFQUFNNCtFLE9BQVMsS0FPZjUrRSxFQUFNNitFLGFBQWUsRUFDckI3K0UsRUFBTTgrRSxVQUFXLEVBT2pCOStFLEVBQU0rK0UsZUFBaUIsS0FDdkIvK0UsRUFBTW1vQixTQUFXQSxFQUNWbm9CLEdBeElmLFNBQW1CbjdCLEVBQUcrUixHQUVsQixTQUFTaXBCLElBQU9uNEIsS0FBS3VWLFlBQWNwWSxFQURuQyxHQUFjQSxFQUFHK1IsR0FFakIvUixFQUFFc0IsVUFBa0IsT0FBTnlRLEVBQWEzUixPQUFPWSxPQUFPK1EsSUFBTWlwQixFQUFHMTVCLFVBQVl5USxFQUFFelEsVUFBVyxJQUFJMDVCLElBcUMvRSxDQUFVeStFLEVBQWdCeCtFLEdBc0cxQncrRSxFQUFlbjRHLFVBQVVtUSxLQUFPLFdBQ3ZCNU8sS0FBS28zRyxXQUdWcDNHLEtBQUtvM0csVUFBVyxFQUNacDNHLEtBQUtpNUMsYUFBZWo1QyxLQUFLazVDLHVCQUN6QixHQUFPOVUsT0FBT1QsT0FBTzNqQyxLQUFLb2dDLE9BQVFwZ0MsTUFDbENBLEtBQUtrNUMsc0JBQXVCLEtBT3BDMDlELEVBQWVuNEcsVUFBVTI3QyxLQUFPLFdBQ3hCcDZDLEtBQUtvM0csV0FHVHAzRyxLQUFLbzNHLFVBQVcsRUFDWnAzRyxLQUFLaTVDLGNBQWdCajVDLEtBQUtrNUMsdUJBQzFCLEdBQU85VSxPQUFPdFEsSUFBSTl6QixLQUFLb2dDLE9BQVFwZ0MsS0FBTXkrQixHQUFnQmkyQixNQUNyRDEwRCxLQUFLazVDLHNCQUF1QixLQVFwQzA5RCxFQUFlbjRHLFVBQVU2NEcsWUFBYyxTQUFVQyxHQUM3Q3YzRyxLQUFLNE8sT0FDTCxJQUFJNG9HLEVBQWdCeDNHLEtBQUt5M0csYUFDekJ6M0csS0FBS20zRyxhQUFlSSxFQUNoQkMsSUFBa0J4M0csS0FBS3kzRyxjQUN2QnozRyxLQUFLMmxFLGlCQVFiaXhDLEVBQWVuNEcsVUFBVWk1RyxZQUFjLFNBQVVILEdBQzdDLElBQUlDLEVBQWdCeDNHLEtBQUt5M0csYUFDekJ6M0csS0FBS20zRyxhQUFlSSxFQUNoQkMsSUFBa0J4M0csS0FBS3kzRyxjQUN2QnozRyxLQUFLMmxFLGdCQUVUM2xFLEtBQUtvNkMsUUFPVHc4RCxFQUFlbjRHLFVBQVUyaEMsT0FBUyxTQUFVZ0MsR0FDeEMsSUFBSXUxRSxFQUFVMzNHLEtBQUs4MkcsZUFBaUIxMEUsRUFDaENvMUUsRUFBZ0J4M0csS0FBS3kzRyxhQUN6QixHQUF3QixPQUFwQnozRyxLQUFLNjJHLFdBQXFCLENBQzFCLElBQUllLEVBQU01M0csS0FBS20zRyxhQUFlLEVBQUluM0csS0FBSzYyRyxXQUFXNzJHLEtBQUt5M0csY0FFdkQsSUFEQUcsR0FBT0QsRUFBVSxHQUFLLElBQ2ZDLEVBQU0sR0FDVDUzRyxLQUFLbTNHLGVBQ0xTLEdBQU81M0csS0FBSzYyRyxXQUFXNzJHLEtBQUt5M0csY0FFaEMsSUFBSTlsRyxFQUFPdEUsS0FBS3NFLEtBQUszUixLQUFLODJHLGVBQWlCMTBFLEdBRTNDLElBREFwaUMsS0FBS20zRyxhQUFlOXBHLEtBQUsrUCxNQUFNcGQsS0FBS20zRyxjQUM3QlMsR0FBTzUzRyxLQUFLNjJHLFdBQVc3MkcsS0FBS3kzRyxlQUMvQkcsR0FBTzUzRyxLQUFLNjJHLFdBQVc3MkcsS0FBS3kzRyxjQUFnQjlsRyxFQUM1QzNSLEtBQUttM0csY0FBZ0J4bEcsRUFFekIzUixLQUFLbTNHLGNBQWdCUyxFQUFNNTNHLEtBQUs2MkcsV0FBVzcyRyxLQUFLeTNHLG1CQUdoRHozRyxLQUFLbTNHLGNBQWdCUSxFQUVyQjMzRyxLQUFLbTNHLGFBQWUsSUFBTW4zRyxLQUFLKzJHLE1BQy9CLzJHLEtBQUtzM0csWUFBWSxHQUNidDNHLEtBQUt1MEUsWUFDTHYwRSxLQUFLdTBFLGNBR0p2MEUsS0FBS20zRyxjQUFnQm4zRyxLQUFLdS9GLFVBQVV0Z0csU0FBV2UsS0FBSysyRyxNQUN6RC8yRyxLQUFLczNHLFlBQVl0M0csS0FBS3UvRixVQUFVdGdHLE9BQVMsR0FDckNlLEtBQUt1MEUsWUFDTHYwRSxLQUFLdTBFLGNBR0ppakMsSUFBa0J4M0csS0FBS3kzRyxlQUN4QnozRyxLQUFLKzJHLE1BQVEvMkcsS0FBS2szRyxTQUNkbDNHLEtBQUs4MkcsZUFBaUIsR0FBSzkyRyxLQUFLeTNHLGFBQWVELEdBRzFDeDNHLEtBQUs4MkcsZUFBaUIsR0FBSzkyRyxLQUFLeTNHLGFBQWVELElBRnBEeDNHLEtBQUtrM0csU0FNYmwzRyxLQUFLMmxFLGtCQVFiaXhDLEVBQWVuNEcsVUFBVWtuRSxjQUFnQixXQUNyQyxJQUFJOHhDLEVBQWV6M0csS0FBS3kzRyxhQUNwQnozRyxLQUFLcTNHLGlCQUFtQkksSUFHNUJ6M0csS0FBS3EzRyxlQUFpQkksRUFDdEJ6M0csS0FBS2duRCxTQUFXaG5ELEtBQUt1L0YsVUFBVWtZLEdBQy9CejNHLEtBQUsyekYsWUFBYyxFQUNuQjN6RixLQUFLNnpGLG1CQUFxQixFQUMxQjd6RixLQUFLeXpGLFlBQWMsU0FDbkJ6ekYsS0FBSzZqRCxJQUFNN2pELEtBQUtnbkQsU0FBU3RKLEtBQUtmLFdBQzFCMzhDLEtBQUtnM0csY0FDTGgzRyxLQUFLdXpGLFFBQVFobkUsU0FBU3ZzQixLQUFLZ25ELFNBQVNuSixlQUVwQzc5QyxLQUFLaTNHLGVBQ0xqM0csS0FBS2kzRyxjQUFjajNHLEtBQUt5M0csZ0JBYWhDYixFQUFlbjRHLFVBQVVndEIsUUFBVSxTQUFVdEwsR0FDekNuZ0IsS0FBSzRPLE9BQ0x3cEIsRUFBTzM1QixVQUFVZ3RCLFFBQVF6dUIsS0FBS2dELEtBQU1tZ0IsR0FDcENuZ0IsS0FBS3UwRSxXQUFhLEtBQ2xCdjBFLEtBQUtpM0csY0FBZ0IsS0FDckJqM0csS0FBS2szRyxPQUFTLE1BU2xCTixFQUFlaUIsV0FBYSxTQUFValcsR0FFbEMsSUFEQSxJQUFJbmhELEVBQVcsR0FDTjVqRCxFQUFJLEVBQUdBLEVBQUkra0csRUFBTzNpRyxTQUFVcEMsRUFDakM0akQsRUFBU3gvQyxLQUFLLEdBQVFnVyxLQUFLMnFGLEVBQU8va0csS0FFdEMsT0FBTyxJQUFJKzVHLEVBQWVuMkQsSUFTOUJtMkQsRUFBZWtCLFdBQWEsU0FBVUMsR0FFbEMsSUFEQSxJQUFJdDNELEVBQVcsR0FDTjVqRCxFQUFJLEVBQUdBLEVBQUlrN0csRUFBTzk0RyxTQUFVcEMsRUFDakM0akQsRUFBU3gvQyxLQUFLLEdBQVFnVyxLQUFLOGdHLEVBQU9sN0csS0FFdEMsT0FBTyxJQUFJKzVHLEVBQWVuMkQsSUFFOUJsakQsT0FBT0MsZUFBZW81RyxFQUFlbjRHLFVBQVcsY0FBZSxDQVMzRGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLdS9GLFVBQVV0Z0csUUFFMUJ4QixZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZW81RyxFQUFlbjRHLFVBQVcsV0FBWSxDQU14RGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLdS9GLFdBRWhCN3pFLElBQUssU0FBVTV0QixHQUNYLEdBQUlBLEVBQU0sYUFBYyxHQUNwQmtDLEtBQUt1L0YsVUFBWXpoRyxFQUNqQmtDLEtBQUs2MkcsV0FBYSxTQUVqQixDQUNENzJHLEtBQUt1L0YsVUFBWSxHQUNqQnYvRixLQUFLNjJHLFdBQWEsR0FDbEIsSUFBSyxJQUFJaDZHLEVBQUksRUFBR0EsRUFBSWlCLEVBQU1tQixPQUFRcEMsSUFDOUJtRCxLQUFLdS9GLFVBQVV0K0YsS0FBS25ELEVBQU1qQixHQUFHNjNDLFNBQzdCMTBDLEtBQUs2MkcsV0FBVzUxRyxLQUFLbkQsRUFBTWpCLEdBQUd1bUMsTUFHdENwakMsS0FBS3EzRyxlQUFpQixLQUN0QnIzRyxLQUFLczNHLFlBQVksR0FDakJ0M0csS0FBSzJsRSxpQkFFVGxvRSxZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZW81RyxFQUFlbjRHLFVBQVcsZUFBZ0IsQ0FPNURmLElBQUssV0FDRCxJQUFJKzVHLEVBQWVwcUcsS0FBSytQLE1BQU1wZCxLQUFLbTNHLGNBQWdCbjNHLEtBQUt1L0YsVUFBVXRnRyxPQUlsRSxPQUhJdzRHLEVBQWUsSUFDZkEsR0FBZ0J6M0csS0FBS3UvRixVQUFVdGdHLFFBRTVCdzRHLEdBRVhoNkcsWUFBWSxFQUNaMEIsY0FBYyxJQUVsQjVCLE9BQU9DLGVBQWVvNUcsRUFBZW40RyxVQUFXLFVBQVcsQ0FPdkRmLElBQUssV0FDRCxPQUFPc0MsS0FBS28zRyxVQUVoQjM1RyxZQUFZLEVBQ1owQixjQUFjLElBRWxCNUIsT0FBT0MsZUFBZW81RyxFQUFlbjRHLFVBQVcsYUFBYyxDQU0xRGYsSUFBSyxXQUNELE9BQU9zQyxLQUFLaTVDLGFBRWhCdnRCLElBQUssU0FBVTV0QixHQUNQQSxJQUFVa0MsS0FBS2k1QyxjQUNmajVDLEtBQUtpNUMsWUFBY243QyxHQUNka0MsS0FBS2k1QyxhQUFlajVDLEtBQUtrNUMsc0JBQzFCLEdBQU85VSxPQUFPVCxPQUFPM2pDLEtBQUtvZ0MsT0FBUXBnQyxNQUNsQ0EsS0FBS2s1QyxzQkFBdUIsR0FFdkJsNUMsS0FBS2k1QyxjQUFnQmo1QyxLQUFLazVDLHNCQUF3Qmw1QyxLQUFLbzNHLFdBQzVELEdBQU9oekUsT0FBT3RRLElBQUk5ekIsS0FBS29nQyxPQUFRcGdDLE1BQy9CQSxLQUFLazVDLHNCQUF1QixLQUl4Q3o3QyxZQUFZLEVBQ1owQixjQUFjLElBaFhhLENBbVhqQyxJQ2czQkYsR0FBUytvRSxlQUFlLGdCQUFpQixJQUN6QyxHQUFTQSxlQUFlLFVBQVcsSUFDbkMsR0FBU0EsZUFBZSxjQUFlLElBQ3ZDLEdBQVNBLGVBQWUsV0FBWSxJQUNwQyxHQUFTQSxlQUFlLFVBQVdnNEIsSUFDbkMsR0FBU2g0QixlQUFlLFFBQVNxRyxJQUNqQyxHQUFTckcsZUFBZSxlQUFnQixJQUN4QyxHQUFPQSxlQUFlLElBQ3RCLEdBQU9BLGVBQWUsSUFDdEIsR0FBWUEsZUFBZTNqQyxJQUMzQixHQUFZMmpDLGVBQWVtVixJQzV4Q3BCLFNBQVMyNkIsR0FBS0MsRUFBWUMsR0FDN0IsTUFBTyxDQUNIbHNHLEVBQUdpc0csRUFBR2pzRyxFQUFJa3NHLEVBQUdsc0csRUFDYkMsRUFBR2dzRyxFQUFHaHNHLEVBQUlpc0csRUFBR2pzRyxHQXVCZCxTQUFTNHdCLEdBQU1ud0IsRUFBZWtDLEVBQWVpMkYsUUFBQSxJQUFBQSxNQUFBLFFBQ2xDOWtHLElBQVQ2TyxJQUNEQSxFQUFPbEMsRUFDUEEsRUFBUSxHQUdaLElBREEsSUFBTTFGLEVBQVMsR0FDTm5LLEVBQUk2UCxFQUFPN1AsRUFBSStSLEVBQU0vUixHQUFLZ29HLEVBQy9CNzlGLEVBQU8vRixLQUFLcEUsR0FFaEIsT0FBT21LLEVDekRYLGtCQUtJLFdBQVlteEcsRUFBdUJuc0csRUFBV0MsRUFBV2liLEVBQWVDLEdBRXBFLElBQU1peEYsRUFBaUIsSUFBSSxHQUMzQkEsRUFBZTNtQixVQUFVLFFBQVUsR0FDbkMybUIsRUFBZXJtQixZQUFZL2xGLEVBQUdDLEVBQUdpYixFQUFPQyxHQUN4Q2l4RixFQUFlem1CLFVBR2YsSUFBSTBtQixFQUFVLElBQUksR0FDZEYsRUFBSWo3RSxTQUFTMnJDLGdCQUNUdXZDLEVBQ0EsRUFBaUJobkUsUUFDakIsSUFFUmluRSxFQUFROTZELE9BQU83eEIsSUFBSSxJQUNuQjJzRixFQUFRM21GLFNBQVNoRyxJQUFJMWYsRUFBR0MsR0FDeEJvc0csRUFBUXY5RSxhQUFjLEVBQ3RCdTlFLEVBQVFDLFlBQWEsRUFHckJ0NEcsS0FBSyttRCxPQUFTc3hELEVBQ2RyNEcsS0FBS3U0RyxZQUFjRixFQUFRbm9GLE1BQzNCbHdCLEtBQUt3NEcsY0FBZ0IsQ0FBRXhzRyxFQUFHLEVBQUdDLEVBQUcsR0FHaENrc0csRUFBSXBwQyxNQUFNcDBDLFNBQVMzNkIsS0FBSyttRCxRQW1CaEMsT0FoQkksWUFBQTcyQixNQUFBLFNBQU1ueEIsRUFBZ0IwNUcsR0RHbkIsSUFBY1IsRUFBWUMsRUFqQ1Jsc0csRUMrQmpCaE0sS0FBS3U0RyxZQUFjeDVHLEVBQ25CaUIsS0FBS3c0RyxlRENRUCxFQ0RhRCxHQUFLajVHLEVBQVFpQixLQUFLK21ELE9BQU83MkIsT0RDMUJnb0YsRUFoQ3RCLENBQUVsc0csRUFEWUEsRUNnQ21EeXNHLEVEL0J6RHhzRyxFQUFHRCxHQWlDWCxDQUNIQSxFQUFHaXNHLEVBQUdqc0csRUFBSWtzRyxFQUFHbHNHLEVBQ2JDLEVBQUdnc0csRUFBR2hzRyxFQUFJaXNHLEVBQUdqc0csS0NEakIsWUFBQTgwRixLQUFBLFdBQ0ksSUFBTTJULEVBQVdzRCxHQUFLaDRHLEtBQUt1NEcsWUFBYXY0RyxLQUFLK21ELE9BQU83MkIsT0FDaEQ3aUIsS0FBS2tELElBQUlta0csRUFBUzFvRyxHQUFLcUIsS0FBS2tELElBQUl2USxLQUFLdzRHLGNBQWN4c0csS0FDbkRoTSxLQUFLdzRHLGNBQWN4c0csRUFBSTBvRyxFQUFTMW9HLEdBRWhDcUIsS0FBS2tELElBQUlta0csRUFBU3pvRyxHQUFLb0IsS0FBS2tELElBQUl2USxLQUFLdzRHLGNBQWN2c0csS0FDbkRqTSxLQUFLdzRHLGNBQWN4c0csRUFBSTBvRyxFQUFTem9HLEdBRXBDLElEL0JhZ3NHLEVBQVlDLEVDK0JuQmhvRixHRC9CTytuRixFQytCTWo0RyxLQUFLK21ELE9BQU83MkIsTUQvQk5nb0YsRUMrQmFsNEcsS0FBS3c0RyxjRDlCeEMsQ0FDSHhzRyxFQUFHaXNHLEVBQUdqc0csRUFBSWtzRyxFQUFHbHNHLEVBQ2JDLEVBQUdnc0csRUFBR2hzRyxFQUFJaXNHLEVBQUdqc0csSUM2QmJqTSxLQUFLK21ELE9BQU83MkIsTUFBTXhFLElBQUl3RSxFQUFNbGtCLEVBQUdra0IsRUFBTWprQixJQUU3QyxFQWpEQSxHQ0pBLGNBYUksV0FBWXlzQixFQUFxQnQ3QixFQUFjczdHLEVBQWUza0csRUFDMUQ0a0csRUFBc0JDLEVBQW9CQyxFQUMxQ0MsR0FGSixnQkFDSSxJQUFBSCxNQUFBLFFBQTBDLElBQUFFLE9BQUEsUUFDMUMsSUFBQUMsT0FBQSxHQUNBOTRHLEtBQUs1QyxLQUFPQSxFQUNaNEMsS0FBSzQ0RyxVQUFZQSxHQUFheDdHLEVBQUtvSCxRQUFRLElBQUssS0FBS1MsY0FDckRqRixLQUFLMDRHLE9BQVNBLEVBQ2QxNEcsS0FBS2xDLE1BQVE0NkcsRUFBT0MsR0FDcEIzNEcsS0FBS25ELEVBQUk4N0csRUFDVDM0RyxLQUFLMjRHLFNBQVdBLEVBQ2hCMzRHLEtBQUsrVCxTQUFXQSxFQUVoQi9ULEtBQUswNkIsVUFBWXRoQixTQUFTZ0IsY0FBYyxPQUN4Q3BhLEtBQUswNkIsVUFBVXJqQixHQUFRclgsS0FBSzQ0RyxVQUFTLGFBQ3JDNTRHLEtBQUswNkIsVUFBVXErRSxVQUFVamxGLElBQUksb0JBRTdCOXpCLEtBQUsyZSxNQUFRdkYsU0FBU2dCLGNBQWMsU0FDcENwYSxLQUFLMmUsTUFBTXBCLEtBQU8sUUFDbEJ2ZCxLQUFLMmUsTUFBTXRILEdBQVFyWCxLQUFLNDRHLFVBQVMsU0FDakM1NEcsS0FBSzJlLE1BQU1vNkYsVUFBVWpsRixJQUFJLGdCQUN6Qjl6QixLQUFLMmUsTUFBTTNNLElBQU0sSUFDakJoUyxLQUFLMmUsTUFBTXJSLEtBQU90TixLQUFLMDRHLE9BQU96NUcsT0FBUyxHQUFHc1UsV0FDMUN2VCxLQUFLMmUsTUFBTWttRixLQUFPLElBQ2xCN2tHLEtBQUsyZSxNQUFNa04sYUFBZTdyQixLQUFLMjRHLFNBQVNwbEcsV0FDeEN2VCxLQUFLMmUsTUFBTWhFLGlCQUFpQixTQUFTLFNBQUNxK0YsR0FBTyxTQUFLQyxRQUFRRCxNQUV0REgsSUFDQTc0RyxLQUFLNjRHLE1BQVF6L0YsU0FBU2dCLGNBQWMsU0FDcENwYSxLQUFLNjRHLE1BQU14aEcsR0FBUXJYLEtBQUs0NEcsVUFBUyxTQUNqQzU0RyxLQUFLMmUsTUFBTW82RixVQUFVamxGLElBQUksZ0JBQ3pCOXpCLEtBQUs2NEcsTUFBTUssUUFBVWw1RyxLQUFLMmUsTUFBTXRILEdBQ2hDclgsS0FBSzY0RyxNQUFNMzNFLFVBQVlsaEMsS0FBSzVDLEtBQzVCNEMsS0FBSzA2QixVQUFVamdCLFlBQVl6YSxLQUFLNjRHLFFBRXBDNzRHLEtBQUswNkIsVUFBVWpnQixZQUFZemEsS0FBSzJlLE9BRTVCbTZGLElBQ0E5NEcsS0FBSzg0RyxhQUFlMS9GLFNBQVNnQixjQUFjLFFBQzNDcGEsS0FBSzg0RyxhQUFhemhHLEdBQVFyWCxLQUFLNDRHLFVBQVMsU0FDeEM1NEcsS0FBSzg0RyxhQUFhQyxVQUFVamxGLElBQUksZ0JBQ2hDOXpCLEtBQUswNkIsVUFBVWpnQixZQUFZemEsS0FBSzg0RyxlQUVwQzk0RyxLQUFLbTVHLE9BQU9uNUcsS0FBS25ELEdBQ2pCNjdCLEVBQU9qZSxZQUFZemEsS0FBSzA2QixXQWlCaEMsT0FkSSxZQUFBeStFLE9BQUEsU0FBT3Q4RyxHQUNIbUQsS0FBS25ELEVBQUlBLEVBQ1RtRCxLQUFLbEMsTUFBUWtDLEtBQUswNEcsT0FBTzc3RyxHQUNyQm1ELEtBQUs4NEcsZUFDTDk0RyxLQUFLODRHLGFBQWE1M0UsVUFBWWxoQyxLQUFLbEMsTUFBTXlWLGFBSWpELFlBQUEwbEcsUUFBQSxTQUFRRCxHQUNKaDVHLEtBQUttNUcsT0FBTzV5RixTQUFTdm1CLEtBQUsyZSxNQUFNN2dCLFFBQzVCa0MsS0FBSytULFVBQ0wvVCxLQUFLK1QsU0FBUy9ULEtBQU1nNUcsSUFHaEMsRUF4RUEsR0NRSUksR0FBNkIsQ0FDN0JDLG1CQUFvQixFQUNwQkMsY0FBZSxFQUNmQyxZQUFhLEVBQ2JDLFlBQWEsRUFDYkMsWUFBYSxLQUViQyxHQUFhLENBQ2JDLGFBQWMsR0FDZEMsV0FBWSxHQUlWQyxHQUFrQnpnRyxTQUFTMGdHLGVBQWUsb0JBQzFDQyxHQUFvQjNnRyxTQUFTMGdHLGVBQWUsc0JBRTVDLEdBQU0sSUFBSSxHQUFpQixDQUM3QmhxQyxTQUFVK3BDLEdBQ1Y5eUYsZ0JBQWlCLFNBQ2pCbUUsV0FBWTNwQixPQUFPeTRHLGtCQUFvQixFQUN2Q3B6RixXQUFXLElBRWZpekYsR0FBZ0JwL0YsWUFBWSxHQUFJa00sTUFJSixJQUFJc3pGLEdBQzVCRixHQUNBLGlCQUNBbDlFLEdBQU0sRUFBRyxFQUFHLElBQUtsbUIsS0FBSSxTQUFBM0ssR0FBSyxPQUFBQSxFQUFFa3VHLFFBQVEsT0FDcEMsU0FBVUMsRUFBcUJuQixHQUMzQkksR0FBeUIsY0FBSWUsRUFBT3I4RyxTQUVsQixJQUFJbThHLEdBQzFCRixHQUNBLGVBQ0FsOUUsR0FBTSxFQUFHLEVBQUcsSUFBS2xtQixLQUFJLFNBQUEzSyxHQUFLLE9BQUFBLEVBQUVrdUcsUUFBUSxPQUNwQyxTQUFVQyxFQUFxQm5CLEdBQzNCSSxHQUF1QixZQUFJZSxFQUFPcjhHLFNBWjFDLElBbUJNczhHLEdBQVUvc0csS0FBSzYyQixNQUFNLEdBQUlza0MsT0FBT3RoRCxNQUFRLEdBQ3hDbXpGLEdBQVVodEcsS0FBSzYyQixNQUFNLEdBQUlza0MsT0FBT3JoRCxPQUFTLEdBQ3pDLEdBQVUsSUFBSSxHQUFRLEdBQUtpekYsR0FBU0MsR0FBUyxHQUFJLElBR3ZELFNBQVNDLEdBQVNqOEYsR0FDZCxHQUFLcTdGLEdBQVdFLFdBQWF2N0YsRUFBU3E3RixHQUFXQyxhQUFjLENBQzNERCxHQUFXRSxXQUFhLEVBQ3hCLElBQUlXLEVBQ0FuQixHQUFVQyxtQkFBcUJELEdBQVVFLGNBQWdCRixHQUFVRyxZQUN2RUgsR0FBVUMsb0JIZklydEcsRUdldUJ1dUcsRUhmWnZvRyxFR2U0Qm9uRyxHQUFVSyxZSGZ6Qm5zRyxFR2VzQzhyRyxHQUFVSSxZSGRuRm5zRyxLQUFLMkUsSUFBSTNFLEtBQUtDLElBQUkwRSxFQUFLaEcsR0FBSXNCLElHZTlCLEdBQVE0aUIsTUFBTSxDQUNWbGtCLEVBQUdvdEcsR0FBVUMsbUJBQ2JwdEcsRUFBR210RyxHQUFVQyxvQkFDZEssR0FBV0MsY0huQmYsSUFBZTN0RyxFQUFXZ0csRUFBYTFFLEVHcUIxQ29zRyxHQUFXRSxZQUFjLEVBQ3pCLEdBQVE3WSxPQUtaLFNBQVMxMUUsS0FDTCxJQUFNcU4sRUFBUyxHQUFJL1IsS0FBSzhrQixjQUNsQnZrQixFQUFRd1IsRUFBT2szQyxZQUNmem9ELEVBQVN1UixFQUFPbTNDLGFBQ3RCLEdBQUlscEQsS0FBS08sTUFBUUEsRUFDakIsR0FBSVAsS0FBS21ZLE1BQU01WCxNQUFXQSxFQUFLLEtBQy9CLEdBQUlQLEtBQUtRLE9BQVNBLEVBQ2xCLEdBQUlSLEtBQUttWSxNQUFNM1gsT0FBWUEsRUFBTSxLQUNqQyxHQUFJK1YsU0FBUzdSLE9BQU9uRSxFQUFPQyxHQUMzQixHQUFRNC9CLE9BQU9yMUIsU0FBU2hHLElBQUlyZSxLQUFLNjJCLE1BQU0sR0FBSXNrQyxPQUFPdGhELE1BQVEsR0FBSTdaLEtBQUs2MkIsTUFBTSxHQUFJc2tDLE9BQU9yaEQsT0FBUyxJQU1qRzVsQixPQUFPb1osaUJBQWlCLFFBQVEsV0FDNUIwUSxLQUNBOXBCLE9BQU9vWixpQkFBaUIsU0FBVTBRLElBQ2xDLEdBQUlvWixPQUFPM1EsSUFBSXdtRiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge31cblxuICB2YXIgbyA9IHtcbiAgICBrZXk6IFsnc291cmNlJywgJ3Byb3RvY29sJywgJ2F1dGhvcml0eScsICd1c2VySW5mbycsICd1c2VyJywgJ3Bhc3N3b3JkJywgJ2hvc3QnLCAncG9ydCcsICdyZWxhdGl2ZScsICdwYXRoJywgJ2RpcmVjdG9yeScsICdmaWxlJywgJ3F1ZXJ5JywgJ2FuY2hvciddLFxuICAgIHE6IHtcbiAgICAgIG5hbWU6ICdxdWVyeUtleScsXG4gICAgICBwYXJzZXI6IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZ1xuICAgIH0sXG4gICAgcGFyc2VyOiB7XG4gICAgICBzdHJpY3Q6IC9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sXG4gICAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvXG4gICAgfVxuICB9XG5cbiAgdmFyIG0gPSBvLnBhcnNlcltvcHRzLnN0cmljdE1vZGUgPyAnc3RyaWN0JyA6ICdsb29zZSddLmV4ZWMoc3RyKVxuICB2YXIgdXJpID0ge31cbiAgdmFyIGkgPSAxNFxuXG4gIHdoaWxlIChpLS0pIHVyaVtvLmtleVtpXV0gPSBtW2ldIHx8ICcnXG5cbiAgdXJpW28ucS5uYW1lXSA9IHt9XG4gIHVyaVtvLmtleVsxMl1dLnJlcGxhY2Uoby5xLnBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHVyaVtvLnEubmFtZV1bJDFdID0gJDJcbiAgfSlcblxuICByZXR1cm4gdXJpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZWFyY3V0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcblxuZnVuY3Rpb24gZWFyY3V0KGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0pIHtcblxuICAgIGRpbSA9IGRpbSB8fCAyO1xuXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxuICAgICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSxcbiAgICAgICAgdHJpYW5nbGVzID0gW107XG5cbiAgICBpZiAoIW91dGVyTm9kZSB8fCBvdXRlck5vZGUubmV4dCA9PT0gb3V0ZXJOb2RlLnByZXYpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDEgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0pO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWFyID0gbmV4dDtcblxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIHAgPSBlYXIubmV4dC5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IGVhci5wcmV2KSB7XG4gICAgICAgIGlmIChwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXG4gICAgdmFyIG1pblRYID0gYS54IDwgYi54ID8gKGEueCA8IGMueCA/IGEueCA6IGMueCkgOiAoYi54IDwgYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWluVFkgPSBhLnkgPCBiLnkgPyAoYS55IDwgYy55ID8gYS55IDogYy55KSA6IChiLnkgPCBjLnkgPyBiLnkgOiBjLnkpLFxuICAgICAgICBtYXhUWCA9IGEueCA+IGIueCA/IChhLnggPiBjLnggPyBhLnggOiBjLngpIDogKGIueCA+IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1heFRZID0gYS55ID4gYi55ID8gKGEueSA+IGMueSA/IGEueSA6IGMueSkgOiAoYi55ID4gYy55ID8gYi55IDogYy55KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIobWluVFgsIG1pblRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcihtYXhUWCwgbWF4VFksIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcblxuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYSA9IHAucHJldixcbiAgICAgICAgICAgIGIgPSBwLm5leHQubmV4dDtcblxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XG5cbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGEuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocC5uZXh0KTtcblxuICAgICAgICAgICAgcCA9IHN0YXJ0ID0gYjtcbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBmaWx0ZXJQb2ludHMocCk7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuXG4gICAgICAgIC8vIGZpbHRlciBjb2xsaW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgICAgIGZpbHRlclBvaW50cyhiLCBiLm5leHQpO1xuICAgIH1cbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAubmV4dC55KSByZXR1cm4gcC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaHggPT09IHF4KSByZXR1cm4gbTsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbGVmdG1vc3QgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgLSAoYXggLSBweCkgKiAoY3kgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgLSAoYnggLSBweCkgKiAoYXkgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgLSAoY3ggLSBweCkgKiAoYnkgLSBweSkgPj0gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmIC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxuICAgICAgICAgICAgKGFyZWEoYS5wcmV2LCBhLCBiLnByZXYpIHx8IGFyZWEoYSwgYi5wcmV2LCBiKSkgfHwgLy8gZG9lcyBub3QgY3JlYXRlIG9wcG9zaXRlLWZhY2luZyBzZWN0b3JzXG4gICAgICAgICAgICBlcXVhbHMoYSwgYikgJiYgYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPiAwICYmIGFyZWEoYi5wcmV2LCBiLCBiLm5leHQpID4gMCk7IC8vIHNwZWNpYWwgemVyby1sZW5ndGggY2FzZVxufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7XG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcbiAgICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpO1xuICAgIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7XG5cbiAgICBpZiAobzEgIT09IG8yICYmIG8zICE9PSBvNCkgcmV0dXJuIHRydWU7IC8vIGdlbmVyYWwgY2FzZVxuXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8yID09PSAwICYmIG9uU2VnbWVudChwMSwgcTIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8zID09PSAwICYmIG9uU2VnbWVudChwMiwgcDEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcDEgYXJlIGNvbGxpbmVhciBhbmQgcDEgbGllcyBvbiBwMnEyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGZvciBjb2xsaW5lYXIgcG9pbnRzIHAsIHEsIHIsIGNoZWNrIGlmIHBvaW50IHEgbGllcyBvbiBzZWdtZW50IHByXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xuICAgIHJldHVybiBxLnggPD0gTWF0aC5tYXgocC54LCByLngpICYmIHEueCA+PSBNYXRoLm1pbihwLngsIHIueCkgJiYgcS55IDw9IE1hdGgubWF4KHAueSwgci55KSAmJiBxLnkgPj0gTWF0aC5taW4ocC55LCByLnkpO1xufVxuXG5mdW5jdGlvbiBzaWduKG51bSkge1xuICAgIHJldHVybiBudW0gPiAwID8gMSA6IG51bSA8IDAgPyAtMSA6IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIoZnVuY3Rpb24oZ2xvYmFsKXtcblxuLy9cbi8vIENoZWNrIGZvciBuYXRpdmUgUHJvbWlzZSBhbmQgaXQgaGFzIGNvcnJlY3QgaW50ZXJmYWNlXG4vL1xuXG52YXIgTmF0aXZlUHJvbWlzZSA9IGdsb2JhbFsnUHJvbWlzZSddO1xudmFyIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPVxuICBOYXRpdmVQcm9taXNlICYmXG4gIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgJ3Jlc29sdmUnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JlamVjdCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAnYWxsJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyYWNlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gIC8vIE9sZGVyIHZlcnNpb24gb2YgdGhlIHNwZWMgaGFkIGEgcmVzb2x2ZXIgb2JqZWN0XG4gIC8vIGFzIHRoZSBhcmcgcmF0aGVyIHRoYW4gYSBmdW5jdGlvblxuICAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzb2x2ZTtcbiAgICBuZXcgTmF0aXZlUHJvbWlzZShmdW5jdGlvbihyKXsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgIHJldHVybiB0eXBlb2YgcmVzb2x2ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkoKTtcblxuXG4vL1xuLy8gZXhwb3J0IGlmIG5lY2Vzc2FyeVxuLy9cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiBleHBvcnRzKVxue1xuICAvLyBub2RlLmpzXG4gIGV4cG9ydHMuUHJvbWlzZSA9IG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgZXhwb3J0cy5Qb2x5ZmlsbCA9IFByb21pc2U7XG59XG5lbHNlXG57XG4gIC8vIEFNRFxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gICAgfSk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgLy8gaW4gYnJvd3NlciBhZGQgdG8gZ2xvYmFsXG4gICAgaWYgKCFuYXRpdmVQcm9taXNlU3VwcG9ydGVkKVxuICAgICAgZ2xvYmFsWydQcm9taXNlJ10gPSBQcm9taXNlO1xuICB9XG59XG5cblxuLy9cbi8vIFBvbHlmaWxsXG4vL1xuXG52YXIgUEVORElORyA9ICdwZW5kaW5nJztcbnZhciBTRUFMRUQgPSAnc2VhbGVkJztcbnZhciBGVUxGSUxMRUQgPSAnZnVsZmlsbGVkJztcbnZhciBSRUpFQ1RFRCA9ICdyZWplY3RlZCc7XG52YXIgTk9PUCA9IGZ1bmN0aW9uKCl7fTtcblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gYXN5bmMgY2FsbHNcbnZhciBhc3luY1NldFRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0O1xudmFyIGFzeW5jUXVldWUgPSBbXTtcbnZhciBhc3luY1RpbWVyO1xuXG5mdW5jdGlvbiBhc3luY0ZsdXNoKCl7XG4gIC8vIHJ1biBwcm9taXNlIGNhbGxiYWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzeW5jUXVldWUubGVuZ3RoOyBpKyspXG4gICAgYXN5bmNRdWV1ZVtpXVswXShhc3luY1F1ZXVlW2ldWzFdKTtcblxuICAvLyByZXNldCBhc3luYyBhc3luY1F1ZXVlXG4gIGFzeW5jUXVldWUgPSBbXTtcbiAgYXN5bmNUaW1lciA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY0NhbGwoY2FsbGJhY2ssIGFyZyl7XG4gIGFzeW5jUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuXG4gIGlmICghYXN5bmNUaW1lcilcbiAge1xuICAgIGFzeW5jVGltZXIgPSB0cnVlO1xuICAgIGFzeW5jU2V0VGltZXIoYXN5bmNGbHVzaCwgMCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZWplY3RQcm9taXNlKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN1YnNjcmliZXIpe1xuICB2YXIgb3duZXIgPSBzdWJzY3JpYmVyLm93bmVyO1xuICB2YXIgc2V0dGxlZCA9IG93bmVyLnN0YXRlXztcbiAgdmFyIHZhbHVlID0gb3duZXIuZGF0YV87ICBcbiAgdmFyIGNhbGxiYWNrID0gc3Vic2NyaWJlcltzZXR0bGVkXTtcbiAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmVyLnRoZW47XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcbiAge1xuICAgIHNldHRsZWQgPSBGVUxGSUxMRUQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICB7XG4gICAgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRClcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuXG4gICAgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKVxuICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICB2YXIgcmVzb2x2ZWQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG5cbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSlcbiAgICB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47ICAvLyB0aGVuIHNob3VsZCBiZSByZXRyaXZlZCBvbmx5IG9uY2VcblxuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKVxuICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFyZXNvbHZlZClcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlIHx8ICFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gdmFsdWU7XG5cbiAgICBhc3luY0NhbGwocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHJlYXNvbjtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHByb21pc2UudGhlbl87XG4gIHByb21pc2UudGhlbl8gPSB1bmRlZmluZWQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFja3NbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hGdWxmaWxsbWVudChwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBGVUxGSUxMRUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gUkVKRUNURUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbi8qKlxuKiBAY2xhc3NcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlIGNvbnN0cnVjdG9yIHRha2VzIGEgZnVuY3Rpb24gYXJndW1lbnQnKTtcblxuICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPT09IGZhbHNlKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBjb25zdHJ1Y3QgXFwnUHJvbWlzZVxcJzogUGxlYXNlIHVzZSB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7XG5cbiAgdGhpcy50aGVuXyA9IFtdO1xuXG4gIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIHN0YXRlXzogUEVORElORyxcbiAgdGhlbl86IG51bGwsXG4gIGRhdGFfOiB1bmRlZmluZWQsXG5cbiAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pe1xuICAgIHZhciBzdWJzY3JpYmVyID0ge1xuICAgICAgb3duZXI6IHRoaXMsXG4gICAgICB0aGVuOiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihOT09QKSxcbiAgICAgIGZ1bGZpbGxlZDogb25GdWxmaWxsbWVudCxcbiAgICAgIHJlamVjdGVkOiBvblJlamVjdGlvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IEZVTEZJTExFRCB8fCB0aGlzLnN0YXRlXyA9PT0gUkVKRUNURUQpXG4gICAge1xuICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZCwgY2FsbCBjYWxsYmFjayBhc3luY1xuICAgICAgYXN5bmNDYWxsKGludm9rZUNhbGxiYWNrLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgdGhpcy50aGVuXy5wdXNoKHN1YnNjcmliZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpYmVyLnRoZW47XG4gIH0sXG5cbiAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfVxufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UuYWxsKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHJlbWFpbmluZyA9IDA7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCl7XG4gICAgICByZW1haW5pbmcrKztcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlcihpKSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdWx0c1tpXSA9IHByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKCFyZW1haW5pbmcpXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5yYWNlKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQ2xhc3MpXG4gICAgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG59KSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuMy4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjMuMicsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIvKiFcbiAqIEBwaXhpL3BvbHlmaWxsIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3BvbHlmaWxsIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9seWZpbGwgfSBmcm9tICdlczYtcHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSkge1xuICAgIHdpbmRvdy5Qcm9taXNlID0gUG9seWZpbGw7XG59XG5cbi8vIFJlZmVyZW5jZXM6XG5pZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuYXNzaWduID0gb2JqZWN0QXNzaWduO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcbnZhciBPTkVfRlJBTUVfVElNRSA9IDE2O1xuLy8gRGF0ZS5ub3dcbmlmICghKERhdGUubm93ICYmIERhdGUucHJvdG90eXBlLmdldFRpbWUpKSB7XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xufVxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoISh3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lXzEgPSBEYXRlLm5vdygpO1xuICAgIGlmICghd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZV8xOyB9O1xufVxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbcCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvd1twICsgXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXVxuICAgICAgICB8fCB3aW5kb3dbcCArIFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xufVxuaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgXCJpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cbmlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5pZiAoIU1hdGguc2lnbikge1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKSB7XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKSB7XG4gICAgd2luZG93LkFycmF5QnVmZmVyID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuRmxvYXQzMkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDE2QXJyYXkgPSBBcnJheTtcbn1cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDhBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5JbnQzMkFycmF5ID0gQXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2x5ZmlsbC5lcy5qcy5tYXBcbiIsInZhciBhcHBsZUlwaG9uZSA9IC9pUGhvbmUvaTtcbnZhciBhcHBsZUlwb2QgPSAvaVBvZC9pO1xudmFyIGFwcGxlVGFibGV0ID0gL2lQYWQvaTtcbnZhciBhcHBsZVVuaXZlcnNhbCA9IC9cXGJpT1MtdW5pdmVyc2FsKD86LispTWFjXFxiL2k7XG52YXIgYW5kcm9pZFBob25lID0gL1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaTtcbnZhciBhbmRyb2lkVGFibGV0ID0gL0FuZHJvaWQvaTtcbnZhciBhbWF6b25QaG9uZSA9IC8oPzpTRDQ5MzBVUnxcXGJTaWxrKD86LispTW9iaWxlXFxiKS9pO1xudmFyIGFtYXpvblRhYmxldCA9IC9TaWxrL2k7XG52YXIgd2luZG93c1Bob25lID0gL1dpbmRvd3MgUGhvbmUvaTtcbnZhciB3aW5kb3dzVGFibGV0ID0gL1xcYldpbmRvd3MoPzouKylBUk1cXGIvaTtcbnZhciBvdGhlckJsYWNrQmVycnkgPSAvQmxhY2tCZXJyeS9pO1xudmFyIG90aGVyQmxhY2tCZXJyeTEwID0gL0JCMTAvaTtcbnZhciBvdGhlck9wZXJhID0gL09wZXJhIE1pbmkvaTtcbnZhciBvdGhlckNocm9tZSA9IC9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pO1xudmFyIG90aGVyRmlyZWZveCA9IC9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7XG52YXIgaXNBcHBsZVRhYmxldE9uSW9zMTMgPSBmdW5jdGlvbiAobmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdNYWNJbnRlbCcgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSAmJlxuICAgICAgICB0eXBlb2YgTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZ2V4KSB7IHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7IH07XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc01vYmlsZShwYXJhbSkge1xuICAgIHZhciBuYXYgPSB7XG4gICAgICAgIHVzZXJBZ2VudDogJycsXG4gICAgICAgIHBsYXRmb3JtOiAnJyxcbiAgICAgICAgbWF4VG91Y2hQb2ludHM6IDBcbiAgICB9O1xuICAgIGlmICghcGFyYW0gJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG5hdi51c2VyQWdlbnQgPSBwYXJhbTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW0gJiYgcGFyYW0udXNlckFnZW50KSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogcGFyYW0udXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IHBhcmFtLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IHBhcmFtLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdi51c2VyQWdlbnQ7XG4gICAgdmFyIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnW0ZCQU4nKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB2YXIgbWF0Y2ggPSBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpO1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIGFwcGxlOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYXBwbGVJcGhvbmUpICYmICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgaXBvZDogbWF0Y2goYXBwbGVJcG9kKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlSXBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhcHBsZVRhYmxldCkgfHwgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHVuaXZlcnNhbDogbWF0Y2goYXBwbGVVbml2ZXJzYWwpLFxuICAgICAgICAgICAgZGV2aWNlOiAobWF0Y2goYXBwbGVJcGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVJcG9kKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVW5pdmVyc2FsKSB8fFxuICAgICAgICAgICAgICAgIGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW1hem9uOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYW1hem9uUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uUGhvbmUpICYmIG1hdGNoKGFtYXpvblRhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFtYXpvblBob25lKSB8fCBtYXRjaChhbWF6b25UYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgICAgIHBob25lOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW1hem9uUGhvbmUpKSB8fFxuICAgICAgICAgICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbmRyb2lkUGhvbmUpKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW1hem9uUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFuZHJvaWRQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uVGFibGV0KSB8fCBtYXRjaChhbmRyb2lkVGFibGV0KSksXG4gICAgICAgICAgICBkZXZpY2U6ICghbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25QaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW1hem9uVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRUYWJsZXQpKSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaCgvXFxib2todHRwXFxiL2kpXG4gICAgICAgIH0sXG4gICAgICAgIHdpbmRvd3M6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiBtYXRjaCh3aW5kb3dzVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2god2luZG93c1Bob25lKSB8fCBtYXRjaCh3aW5kb3dzVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBvdGhlcjoge1xuICAgICAgICAgICAgYmxhY2tiZXJyeTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApLFxuICAgICAgICAgICAgb3BlcmE6IG1hdGNoKG90aGVyT3BlcmEpLFxuICAgICAgICAgICAgZmlyZWZveDogbWF0Y2gob3RoZXJGaXJlZm94KSxcbiAgICAgICAgICAgIGNocm9tZTogbWF0Y2gob3RoZXJDaHJvbWUpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChvdGhlckJsYWNrQmVycnkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJPcGVyYSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckZpcmVmb3gpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJDaHJvbWUpXG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZmFsc2UsXG4gICAgICAgIHBob25lOiBmYWxzZSxcbiAgICAgICAgdGFibGV0OiBmYWxzZVxuICAgIH07XG4gICAgcmVzdWx0LmFueSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5hbmRyb2lkLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LndpbmRvd3MuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQub3RoZXIuZGV2aWNlO1xuICAgIHJlc3VsdC5waG9uZSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5waG9uZSB8fCByZXN1bHQuYW5kcm9pZC5waG9uZSB8fCByZXN1bHQud2luZG93cy5waG9uZTtcbiAgICByZXN1bHQudGFibGV0ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnRhYmxldCB8fCByZXN1bHQuYW5kcm9pZC50YWJsZXQgfHwgcmVzdWx0LndpbmRvd3MudGFibGV0O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc01vYmlsZS5qcy5tYXAiLCIvKiFcbiAqIEBwaXhpL3NldHRpbmdzIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3NldHRpbmdzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IGlzTW9iaWxlQ2FsbCBmcm9tICdpc21vYmlsZWpzJztcblxuLy8gVGhlIEVTTS9DSlMgdmVyc2lvbnMgb2YgaXNtb2JpbGVqcyBvbmx5XG52YXIgaXNNb2JpbGUgPSBpc01vYmlsZUNhbGwod2luZG93Lm5hdmlnYXRvcik7XG5cbi8qKlxuICogVGhlIG1heGltdW0gcmVjb21tZW5kZWQgdGV4dHVyZSB1bml0cyB0byB1c2UuXG4gKiBJbiB0aGVvcnkgdGhlIGJpZ2dlciB0aGUgYmV0dGVyLCBhbmQgZm9yIGRlc2t0b3Agd2UnbGwgdXNlIGFzIG1hbnkgYXMgd2UgY2FuLlxuICogQnV0IHNvbWUgbW9iaWxlIGRldmljZXMgc2xvdyBkb3duIGlmIHRoZXJlIGlzIHRvIG1hbnkgYnJhbmNoZXMgaW4gdGhlIHNoYWRlci5cbiAqIFNvIGluIHByYWN0aWNlIHRoZXJlIHNlZW1zIHRvIGJlIGEgc3dlZXQgc3BvdCBzaXplIHRoYXQgdmFyaWVzIGRlcGVuZGluZyBvbiB0aGUgZGV2aWNlLlxuICpcbiAqIEluIHY0LCBhbGwgbW9iaWxlIGRldmljZXMgd2VyZSBsaW1pdGVkIHRvIDQgdGV4dHVyZSB1bml0cyBiZWNhdXNlIGZvciB0aGlzLlxuICogSW4gdjUsIHdlIGFsbG93IGFsbCB0ZXh0dXJlIHVuaXRzIHRvIGJlIHVzZWQgb24gbW9kZXJuIEFwcGxlIG9yIEFuZHJvaWQgZGV2aWNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgICB2YXIgYWxsb3dNYXggPSB0cnVlO1xuICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICAgICAgaWYgKGlzTW9iaWxlLmFwcGxlLmRldmljZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspPy8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgICAgICAgICAgLy8gTGltaXQgdGV4dHVyZSB1bml0cyBvbiBkZXZpY2VzIGJlbG93IGlPUyAxMSwgd2hpY2ggd2lsbCBiZSBvbGRlciBoYXJkd2FyZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPCAxMSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvQW5kcm9pZFxccyhbMC05Ll0qKS8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgICAgICAgICAgLy8gTGltaXQgdGV4dHVyZSB1bml0cyBvbiBkZXZpY2VzIGJlbG93IEFuZHJvaWQgNyAoTm91Z2F0KSwgd2hpY2ggd2lsbCBiZSBvbGRlciBoYXJkd2FyZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPCA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcbiAgICByZXR1cm4gIWlzTW9iaWxlLmFwcGxlLmRldmljZTtcbn1cblxuLyoqXG4gKiBVc2VyJ3MgY3VzdG9taXphYmxlIGdsb2JhbHMgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgUElYSSBzZXR0aW5ncywgc3VjaFxuICogYXMgYSByZW5kZXJlcidzIGRlZmF1bHQgcmVzb2x1dGlvbiwgZnJhbWVyYXRlLCBmbG9hdCBwcmVjaXNpb24sIGV0Yy5cbiAqIEBleGFtcGxlXG4gKiAvLyBVc2UgdGhlIG5hdGl2ZSB3aW5kb3cgcmVzb2x1dGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvbHV0aW9uXG4gKiAvLyB3aWxsIHN1cHBvcnQgaGlnaC1kZW5zaXR5IGRpc3BsYXlzIHdoZW4gcmVuZGVyaW5nXG4gKiBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAqXG4gKiAvLyBEaXNhYmxlIGludGVycG9sYXRpb24gd2hlbiBzY2FsaW5nLCB3aWxsIG1ha2UgdGV4dHVyZSBiZSBwaXhlbGF0ZWRcbiAqIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcbiAqIEBuYW1lc3BhY2UgUElYSS5zZXR0aW5nc1xuICovXG52YXIgc2V0dGluZ3MgPSB7XG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IDEsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBhbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZXMuXG4gICAgICogVXN1YWxseSBmcm9tIDAgdG8gMTZcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBBTklTT1RST1BJQ19MRVZFTFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgQU5JU09UUk9QSUNfTEVWRUw6IDAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBSRVNPTFVUSU9OOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgRklMVEVSX1JFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHRleHR1cmVzIHRoYXQgdGhpcyBkZXZpY2Ugc3VwcG9ydHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU1BSSVRFX01BWF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzMlxuICAgICAqL1xuICAgIFNQUklURV9NQVhfVEVYVFVSRVM6IG1heFJlY29tbWVuZGVkVGV4dHVyZXMoMzIpLFxuICAgIC8vIFRPRE86IG1heWJlIGNoYW5nZSB0byBTUFJJVEUuQkFUQ0hfU0laRTogMjAwMFxuICAgIC8vIFRPRE86IG1heWJlIGFkZCBQQVJUSUNMRS5CQVRDSF9TSVpFOiAxNTAwMFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgb3B0aW9ucyBpZiBub25lIGFyZSBzdXBwbGllZCB0byB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAgICAgKiBvciB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVOREVSX09QVElPTlNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudH0gdmlldz1udWxsXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW50aWFsaWFzPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhdXRvRGVuc2l0eT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNwYXJlbnQ9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBjbGVhckJlZm9yZVJlbmRlcj10cnVlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGg9ODAwXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodD02MDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgICAqL1xuICAgIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgIHZpZXc6IG51bGwsXG4gICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIGF1dG9EZW5zaXR5OiBmYWxzZSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxuICAgICAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDgwMCxcbiAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgIGxlZ2FjeTogZmFsc2UsXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IDAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4IGlkbGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0lETEVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzYwMFxuICAgICAqL1xuICAgIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heGltdW0gY2hlY2sgY291bnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIEdDX01BWF9DSEVDS19DT1VOVDogNjAgKiAxMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogMzMwNzEsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzY2FsZSBtb2RlIGZvciB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTQ0FMRV9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNDQUxFX01PREVTLkxJTkVBUlxuICAgICAqL1xuICAgIFNDQUxFX01PREU6IDEsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9WRVJURVhcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5ISUdIXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX1ZFUlRFWDogJ2hpZ2hwJyxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBpT1MgaXMgYmVzdCBzZXQgYXQgaGlnaHAgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMzc0MlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9GUkFHTUVOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9GUkFHTUVOVDogaXNNb2JpbGUuYXBwbGUuZGV2aWNlID8gJ2hpZ2hwJyA6ICdtZWRpdW1wJyxcbiAgICAvKipcbiAgICAgKiBDYW4gd2UgdXBsb2FkIHRoZSBzYW1lIGJ1ZmZlciBpbiBhIHNpbmdsZSBmcmFtZT9cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOiBjYW5VcGxvYWRTYW1lQnVmZmVyKCksXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBiaXRtYXAgY3JlYXRpb24gYmVmb3JlIGltYWdlIGxvYWQuIFRoaXMgZmVhdHVyZSBpcyBleHBlcmltZW50YWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBDUkVBVEVfSU1BR0VfQklUTUFQOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBST1VORF9QSVhFTFM6IGZhbHNlLFxufTtcblxuZXhwb3J0IHsgaXNNb2JpbGUsIHNldHRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvY29uc3RhbnRzIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL2NvbnN0YW50cyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogRGlmZmVyZW50IHR5cGVzIG9mIGVudmlyb25tZW50cyBmb3IgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEVOVlxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTF9MRUdBQ1kgLSBVc2VkIGZvciBvbGRlciB2MSBXZWJHTCBkZXZpY2VzLiBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAqICB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLiBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHByZWZlciB0aGlzIGVudmlyb25tZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gVmVyc2lvbiAxIG9mIFdlYkdMXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wyIC0gVmVyc2lvbiAyIG9mIFdlYkdMXG4gKi9cbnZhciBFTlY7XG4oZnVuY3Rpb24gKEVOVikge1xuICAgIEVOVltFTlZbXCJXRUJHTF9MRUdBQ1lcIl0gPSAwXSA9IFwiV0VCR0xfTEVHQUNZXCI7XG4gICAgRU5WW0VOVltcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgRU5WW0VOVltcIldFQkdMMlwiXSA9IDJdID0gXCJXRUJHTDJcIjtcbn0pKEVOViB8fCAoRU5WID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFJFTkRFUkVSX1RZUEVcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTiAtIFVua25vd24gcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBXZWJHTCByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDQU5WQVMgLSBDYW52YXMgcmVuZGVyIHR5cGUuXG4gKi9cbnZhciBSRU5ERVJFUl9UWVBFO1xuKGZ1bmN0aW9uIChSRU5ERVJFUl9UWVBFKSB7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJDQU5WQVNcIl0gPSAyXSA9IFwiQ0FOVkFTXCI7XG59KShSRU5ERVJFUl9UWVBFIHx8IChSRU5ERVJFUl9UWVBFID0ge30pKTtcbi8qKlxuICogQml0d2lzZSBPUiBvZiBtYXNrcyB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJVRkZFUl9CSVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SIC0gSW5kaWNhdGVzIHRoZSBidWZmZXJzIGN1cnJlbnRseSBlbmFibGVkIGZvciBjb2xvciB3cml0aW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIIC0gSW5kaWNhdGVzIHRoZSBkZXB0aCBidWZmZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIEluZGljYXRlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gKi9cbnZhciBCVUZGRVJfQklUUztcbihmdW5jdGlvbiAoQlVGRkVSX0JJVFMpIHtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkNPTE9SXCJdID0gMTYzODRdID0gXCJDT0xPUlwiO1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiREVQVEhcIl0gPSAyNTZdID0gXCJERVBUSFwiO1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiU1RFTkNJTFwiXSA9IDEwMjRdID0gXCJTVEVOQ0lMXCI7XG59KShCVUZGRVJfQklUUyB8fCAoQlVGRkVSX0JJVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5fTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1VCVFJBQ1RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVSQVNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gWE9SXG4gKi9cbnZhciBCTEVORF9NT0RFUztcbihmdW5jdGlvbiAoQkxFTkRfTU9ERVMpIHtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERFwiXSA9IDFdID0gXCJBRERcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk1VTFRJUExZXCJdID0gMl0gPSBcIk1VTFRJUExZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5cIl0gPSAzXSA9IFwiU0NSRUVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJPVkVSTEFZXCJdID0gNF0gPSBcIk9WRVJMQVlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRBUktFTlwiXSA9IDVdID0gXCJEQVJLRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxJR0hURU5cIl0gPSA2XSA9IFwiTElHSFRFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfRE9ER0VcIl0gPSA3XSA9IFwiQ09MT1JfRE9ER0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0JVUk5cIl0gPSA4XSA9IFwiQ09MT1JfQlVSTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSEFSRF9MSUdIVFwiXSA9IDldID0gXCJIQVJEX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTT0ZUX0xJR0hUXCJdID0gMTBdID0gXCJTT0ZUX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJESUZGRVJFTkNFXCJdID0gMTFdID0gXCJESUZGRVJFTkNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFWENMVVNJT05cIl0gPSAxMl0gPSBcIkVYQ0xVU0lPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSFVFXCJdID0gMTNdID0gXCJIVUVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNBVFVSQVRJT05cIl0gPSAxNF0gPSBcIlNBVFVSQVRJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SXCJdID0gMTVdID0gXCJDT0xPUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTFVNSU5PU0lUWVwiXSA9IDE2XSA9IFwiTFVNSU5PU0lUWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMX05QTVwiXSA9IDE3XSA9IFwiTk9STUFMX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREX05QTVwiXSA9IDE4XSA9IFwiQUREX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOX05QTVwiXSA9IDE5XSA9IFwiU0NSRUVOX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9ORVwiXSA9IDIwXSA9IFwiTk9ORVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09WRVJcIl0gPSAwXSA9IFwiU1JDX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19JTlwiXSA9IDIxXSA9IFwiU1JDX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1VUXCJdID0gMjJdID0gXCJTUkNfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfQVRPUFwiXSA9IDIzXSA9IFwiU1JDX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVkVSXCJdID0gMjRdID0gXCJEU1RfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0lOXCJdID0gMjVdID0gXCJEU1RfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVVRcIl0gPSAyNl0gPSBcIkRTVF9PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9BVE9QXCJdID0gMjddID0gXCJEU1RfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVJBU0VcIl0gPSAyNl0gPSBcIkVSQVNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTVUJUUkFDVFwiXSA9IDI4XSA9IFwiU1VCVFJBQ1RcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlhPUlwiXSA9IDI5XSA9IFwiWE9SXCI7XG59KShCTEVORF9NT0RFUyB8fCAoQkxFTkRfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRFJBV19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUztcbihmdW5jdGlvbiAoRFJBV19NT0RFUykge1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlBPSU5UU1wiXSA9IDBdID0gXCJQT0lOVFNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FU1wiXSA9IDFdID0gXCJMSU5FU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfTE9PUFwiXSA9IDJdID0gXCJMSU5FX0xPT1BcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX1NUUklQXCJdID0gM10gPSBcIkxJTkVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRVNcIl0gPSA0XSA9IFwiVFJJQU5HTEVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfU1RSSVBcIl0gPSA1XSA9IFwiVFJJQU5HTEVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9GQU5cIl0gPSA2XSA9IFwiVFJJQU5HTEVfRkFOXCI7XG59KShEUkFXX01PREVTIHx8IChEUkFXX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0ZXh0dXJlL3Jlc291cmNlcyBmb3JtYXRzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGT1JNQVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQkE9NjQwOFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQj02NDA3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRD0zNTUzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUD0zNDA2N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkRfQVJSQVk9MzU4NjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g9MzQwNzBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o9MzQwNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRcbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xudmFyIFRZUEVTO1xuKGZ1bmN0aW9uIChUWVBFUykge1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfQllURVwiXSA9IDUxMjFdID0gXCJVTlNJR05FRF9CWVRFXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVFwiXSA9IDUxMjNdID0gXCJVTlNJR05FRF9TSE9SVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV82XzVcIl0gPSAzMzYzNV0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCJdID0gMzI4MTldID0gXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCJdID0gMzI4MjBdID0gXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUztcbihmdW5jdGlvbiAoU0NBTEVfTU9ERVMpIHtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xufSkoU0NBTEVfTU9ERVMgfHwgKFNDQUxFX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICovXG52YXIgTUlQTUFQX01PREVTO1xuKGZ1bmN0aW9uIChNSVBNQVBfTU9ERVMpIHtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT0ZGXCJdID0gMF0gPSBcIk9GRlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJQT1cyXCJdID0gMV0gPSBcIlBPVzJcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05cIl0gPSAyXSA9IFwiT05cIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICpcbiAqIEBuYW1lIEFMUEhBX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT19QUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBsZWF2ZSBpdCBsaWtlIHRoYXQuXG4gKiAgT3B0aW9uIGZvciBjb21wcmVzc2VkIGFuZCBkYXRhIHRleHR1cmVzIHRoYXQgYXJlIGNyZWF0ZWQgZnJvbSB0eXBlZCBhcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTFlfT05fVVBMT0FEIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBwcmVtdWx0aXBseSBvbiB1cGxvYWQuXG4gKiAgRGVmYXVsdCBvcHRpb24sIHVzZWQgZm9yIGFsbCBsb2FkZWQgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgYWxyZWFkeSBwcmVtdWx0aXBsaWVkXG4gKiAgRXhhbXBsZTogc3BpbmUgYXRsYXNlcyB3aXRoIGBfcG1hYCBzdWZmaXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gTlBNIC0gQWxpYXMgZm9yIE5PX1BSRU1VTFRJUExJRURfQUxQSEEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5QQUNLIC0gRGVmYXVsdCBvcHRpb24sIGFsaWFzIGZvciBQUkVNVUxUSVBMWV9PTl9VUExPQUQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE1BIC0gQWxpYXMgZm9yIFBSRU1VTFRJUExJRURfQUxQSEEuXG4gKi9cbnZhciBBTFBIQV9NT0RFUztcbihmdW5jdGlvbiAoQUxQSEFfTU9ERVMpIHtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5QTVwiXSA9IDBdID0gXCJOUE1cIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlVOUEFDS1wiXSA9IDFdID0gXCJVTlBBQ0tcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBNQVwiXSA9IDJdID0gXCJQTUFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAwXSA9IFwiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfT05fVVBMT0FEXCJdID0gMV0gPSBcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTFlfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byBjbGVhciByZW5kZXJUZXh0dXJlcyBpbiBmaWx0ZXJcbiAqXG4gKiBAbmFtZSBDTEVBUl9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxFTkQgLSBQcmVzZXJ2ZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhlIHRleHR1cmUsIGJsZW5kIGFib3ZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xFQVIgLSBNdXN0IHVzZSBgZ2wuY2xlYXJgIG9wZXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMSVQgLSBDbGVhciBvciBibGl0IGl0LCBkZXBlbmRzIG9uIGRldmljZSBhbmQgbGV2ZWwgb2YgcGFyYW5vaWFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOTyAtIEFsaWFzIGZvciBCTEVORCwgc2FtZSBhcyBgZmFsc2VgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBZRVMgLSBBbGlhcyBmb3IgQ0xFQVIsIHNhbWUgYXMgYHRydWVgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gQWxpYXMgZm9yIEJMSVRcbiAqL1xudmFyIENMRUFSX01PREVTO1xuKGZ1bmN0aW9uIChDTEVBUl9NT0RFUykge1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiTk9cIl0gPSAwXSA9IFwiTk9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIllFU1wiXSA9IDFdID0gXCJZRVNcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkFVVE9cIl0gPSAyXSA9IFwiQVVUT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxFTkRcIl0gPSAwXSA9IFwiQkxFTkRcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkNMRUFSXCJdID0gMV0gPSBcIkNMRUFSXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTElUXCJdID0gMl0gPSBcIkJMSVRcIjtcbn0pKENMRUFSX01PREVTIHx8IChDTEVBUl9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTO1xuKGZ1bmN0aW9uIChHQ19NT0RFUykge1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG59KShHQ19NT0RFUyB8fCAoR0NfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjb25zdGFudFxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OO1xuKGZ1bmN0aW9uIChQUkVDSVNJT04pIHtcbiAgICBQUkVDSVNJT05bXCJMT1dcIl0gPSBcImxvd3BcIjtcbiAgICBQUkVDSVNJT05bXCJNRURJVU1cIl0gPSBcIm1lZGl1bXBcIjtcbiAgICBQUkVDSVNJT05bXCJISUdIXCJdID0gXCJoaWdocFwiO1xufSkoUFJFQ0lTSU9OIHx8IChQUkVDSVNJT04gPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG1hc2sgaW1wbGVtZW50YXRpb25zLlxuICogV2UgdXNlIGB0eXBlYCBzdWZmaXggYmVjYXVzZSBpdCBsZWFkcyB0byB2ZXJ5IGRpZmZlcmVudCBiZWhhdmlvdXJzXG4gKlxuICogQG5hbWUgTUFTS19UWVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE1hc2sgaXMgaWdub3JlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDSVNTT1IgLSBTY2lzc29yIG1hc2ssIHJlY3RhbmdsZSBvbiBzY3JlZW4sIGNoZWFwXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIFN0ZW5jaWwgbWFzaywgMS1iaXQsIG1lZGl1bSwgd29ya3Mgb25seSBpZiByZW5kZXJlciBzdXBwb3J0cyBzdGVuY2lsXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BSSVRFIC0gTWFzayB0aGF0IHVzZXMgU3ByaXRlTWFza0ZpbHRlciwgdXNlcyB0ZW1wb3JhcnkgUmVuZGVyVGV4dHVyZVxuICovXG52YXIgTUFTS19UWVBFUztcbihmdW5jdGlvbiAoTUFTS19UWVBFUykge1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbn0pKE1BU0tfVFlQRVMgfHwgKE1BU0tfVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqXG4gKiBAc2VlIFBJWEkuRnJhbWVidWZmZXIjbXVsdGlzYW1wbGVcbiAqXG4gKiBAbmFtZSBNU0FBX1FVQUxJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBObyBtdWx0aXNhbXBsaW5nIGZvciB0aGlzIHJlbmRlclRleHR1cmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1cgLSBUcnkgMiBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gTUVESVVNIC0gVHJ5IDQgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0ggLSBUcnkgOCBzYW1wbGVzXG4gKi9cbnZhciBNU0FBX1FVQUxJVFk7XG4oZnVuY3Rpb24gKE1TQUFfUVVBTElUWSkge1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTE9XXCJdID0gMl0gPSBcIkxPV1wiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJNRURJVU1cIl0gPSA0XSA9IFwiTUVESVVNXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkhJR0hcIl0gPSA4XSA9IFwiSElHSFwiO1xufSkoTVNBQV9RVUFMSVRZIHx8IChNU0FBX1FVQUxJVFkgPSB7fSkpO1xuXG5leHBvcnQgeyBBTFBIQV9NT0RFUywgQkxFTkRfTU9ERVMsIEJVRkZFUl9CSVRTLCBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgRU5WLCBGT1JNQVRTLCBHQ19NT0RFUywgTUFTS19UWVBFUywgTUlQTUFQX01PREVTLCBNU0FBX1FVQUxJVFksIFBSRUNJU0lPTiwgUkVOREVSRVJfVFlQRSwgU0NBTEVfTU9ERVMsIFRBUkdFVFMsIFRZUEVTLCBXUkFQX01PREVTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3V0aWxzIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3V0aWxzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBpc01vYmlsZSB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVhcmN1dCB9IGZyb20gJ2VhcmN1dCc7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3VybCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVybCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFJFVElOQV9QUkVGSVhcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gKiBAZXhhbXBsZSBgQDJ4YFxuICovXG5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gL0AoWzAtOVxcLl0rKXgvO1xuLyoqXG4gKiBTaG91bGQgdGhlIGBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0YCBmbGFnIGJlIGVuYWJsZWQgYXMgYSBjb250ZXh0IG9wdGlvbiB1c2VkIGluIHRoZSBgaXNXZWJHTFN1cHBvcnRlZGAgZnVuY3Rpb24uXG4gKiBGb3IgbW9zdCBzY2VuYXJpb3MgdGhpcyBzaG91bGQgYmUgbGVmdCBhcyB0cnVlLCBhcyBvdGhlcndpc2UgdGhlIHVzZXIgbWF5IGhhdmUgYSBwb29yIGV4cGVyaWVuY2UuXG4gKiBIb3dldmVyLCBpdCBjYW4gYmUgdXNlZnVsIHRvIGRpc2FibGUgdW5kZXIgY2VydGFpbiBzY2VuYXJpb3MsIHN1Y2ggYXMgaGVhZGxlc3MgdW5pdCB0ZXN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgdHJ1ZVxuICovXG5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IHRydWU7XG5cbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcbnZhciBWRVJTSU9OID0gJzUuMy4wJztcbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgXCJcXG4gJWMgJWMgJWMgUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXFx1MjczMCBcIiArIHR5cGUgKyBcIiBcXHUyNzMwICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIFxcdTI2NjUlY1xcdTI2NjUlY1xcdTI2NjUgXFxuXFxuXCIsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG4gICAgICAgIChfYSA9IHdpbmRvdy5jb25zb2xlKS5sb2cuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIik7XG4gICAgfVxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IChmdW5jdGlvbiBzdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyAobnVtYmVycyBmcm9tIDAuMCB0byAxLjApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJyZ2IoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFsxLCAxLCAxXVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIGhleGFkZWNpbWFsIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gLSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvciB3aGVyZSBhbGwgdmFsdWVzIGFyZSBmbG9hdHMuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBcIiNmZmZmZmZcIlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleCAoZS5nLiwgYDB4ZmZmZmZmYClcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYCkuXG4gKi9cbmZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KSB7XG4gICAgdmFyIGhleFN0cmluZyA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4U3RyaW5nID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXhTdHJpbmcubGVuZ3RoKSArIGhleFN0cmluZztcbiAgICByZXR1cm4gXCIjXCIgKyBoZXhTdHJpbmc7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgc3RyaW5nIHRvIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnN0cmluZzJoZXgoXCIjZmZmZmZmXCIpOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHN0cmluZzJoZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSAtIFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgc3RyaW5nWzBdID09PSAnIycpIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cigxKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZywgMTYpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyB0byBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5yZ2IyaGV4KFsxLCAxLCAxXSk7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gQXJyYXkgb2YgbnVtYmVycyB3aGVyZSBhbGwgdmFsdWVzIGFyZSBub3JtYWxpemVkIGZsb2F0cyBmcm9tIDAuMCB0byAxLjAuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpIHtcbiAgICByZXR1cm4gKCgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCkpO1xufVxuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cbiAgICBwbVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IEJMRU5EX01PREVTLkFERDtcbiAgICBwbVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IEJMRU5EX01PREVTLlNDUkVFTjtcbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBhcnJheS5wdXNoKG5wbSk7XG4gICAgYXJyYXkucHVzaChwbSk7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCk7XG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSAtIHN1cHBvc2VkIGJsZW5kIG1vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJlbXVsdGlwbGllZCAtIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGUoYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKSB7XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cbi8qKlxuICogY29tYmluZXMgcmdiIGFuZCBhbHBoYSB0byBvdXQgYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IHJnYiAtIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSAtIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl07XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGludCAtIGludGVnZXIgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEuMCkge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICB2YXIgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIHZhciBCID0gKHRpbnQgJiAweEZGKTtcbiAgICBSID0gKChSICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgRyA9ICgoRyAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEIgPSAoKEIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCAtIGlucHV0IHRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSAtIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgb3V0WzBdID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzFdID0gKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMl0gPSAodGludCAmIDB4RkYpIC8gMjU1LjA7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkc1xuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEBwYXJhbSB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IFtvdXRCdWZmZXJdIC0gQnVmZmVyIGZvciBvdXRwdXQsIGxlbmd0aCBoYXMgdG8gYmUgYDYgKiBzaXplYFxuICogQHJldHVybiB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IC0gUmVzdWx0aW5nIGluZGV4IGJ1ZmZlclxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHMoc2l6ZSwgb3V0QnVmZmVyKSB7XG4gICAgaWYgKG91dEJ1ZmZlciA9PT0gdm9pZCAwKSB7IG91dEJ1ZmZlciA9IG51bGw7IH1cbiAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGluZGljZXMgaW4gb3VyIGFycmF5LCB0aGVyZSBhcmUgNiBwb2ludHMgcGVyIHF1YWQuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuICAgIG91dEJ1ZmZlciA9IG91dEJ1ZmZlciB8fCBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcbiAgICBpZiAob3V0QnVmZmVyLmxlbmd0aCAhPT0gdG90YWxJbmRpY2VzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk91dCBidWZmZXIgbGVuZ3RoIGlzIGluY29ycmVjdCwgZ290IFwiICsgb3V0QnVmZmVyLmxlbmd0aCArIFwiIGFuZCBleHBlY3RlZCBcIiArIHRvdGFsSW5kaWNlcyk7XG4gICAgfVxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAwXSA9IGogKyAwO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDFdID0gaiArIDE7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMl0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAzXSA9IGogKyAwO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDRdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNV0gPSBqICsgMztcbiAgICB9XG4gICAgcmV0dXJuIG91dEJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gZ2V0QnVmZmVyVHlwZShhcnJheSkge1xuICAgIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnRmxvYXQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ0ludDMyQXJyYXknO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMikge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MTZBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDEpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50OEFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPIG1hcCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGFycmF5IGVsZW1lbnRzIVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwID0geyBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSwgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LCBJbnQzMkFycmF5OiBJbnQzMkFycmF5LCBVaW50OEFycmF5OiBVaW50OEFycmF5IH07XG5mdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcykge1xuICAgIHZhciBvdXRTaXplID0gMDtcbiAgICB2YXIgc3RyaWRlID0gMDtcbiAgICB2YXIgdmlld3MgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgICAgIG91dFNpemUgKz0gYXJyYXlzW2ldLmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG4gICAgdmFyIG91dCA9IG51bGw7XG4gICAgdmFyIGxpdHRsZU9mZnNldCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNpemUgPSBzaXplc1tpXTtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2ldO1xuICAgICAgICAvKlxuICAgICAgICBAdG9kbyBUaGlzIGlzIHVuc2FmZSBjYXN0aW5nIGJ1dCBjb25zaXN0ZW50IHdpdGggaG93IHRoZSBjb2RlIHdvcmtlZCBwcmV2aW91c2x5LiBTaG91bGQgaXQgc3RheSB0aGlzIHdheVxuICAgICAgICAgICAgICBvciBzaG91bGQgYW5kIGBnZXRCdWZmZXJUeXBlVW5zYWZlYCBmdW5jdGlvbiBiZSBleHBvc2VkIHRoYXQgdGhyb3dzIGFuIEVycm9yIGlmIHVuc3VwcG9ydGVkIHR5cGUgaXMgcGFzc2VkP1xuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSkge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwW3R5cGVdKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ID0gdmlld3NbdHlwZV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGogJSBzaXplO1xuICAgICAgICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICAgICAgfVxuICAgICAgICBsaXR0bGVPZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxuLy8gVGFrZW4gZnJvbSB0aGUgYml0LXR3aWRkbGUgcGFja2FnZVxuLyoqXG4gKiBSb3VuZHMgdG8gbmV4dCBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIG5leHRQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBuZXh0UG93Mih2KSB7XG4gICAgdiArPSB2ID09PSAwID8gMSA6IDA7XG4gICAgLS12O1xuICAgIHYgfD0gdiA+Pj4gMTtcbiAgICB2IHw9IHYgPj4+IDI7XG4gICAgdiB8PSB2ID4+PiA0O1xuICAgIHYgfD0gdiA+Pj4gODtcbiAgICB2IHw9IHYgPj4+IDE2O1xuICAgIHJldHVybiB2ICsgMTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgbnVtYmVyIGlzIGEgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBpc1BvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmFsdWUgaXMgcG93ZXIgb2YgdHdvXG4gKi9cbmZ1bmN0aW9uIGlzUG93Mih2KSB7XG4gICAgcmV0dXJuICEodiAmICh2IC0gMSkpICYmICghIXYpO1xufVxuLyoqXG4gKiBDb21wdXRlcyBjZWlsIG9mIGxvZyBiYXNlIDJcbiAqXG4gKiBAZnVuY3Rpb24gbG9nMlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn0gbG9nYXJpdGhtIGJhc2UgMlxuICovXG5mdW5jdGlvbiBsb2cyKHYpIHtcbiAgICB2YXIgciA9ICh2ID4gMHhGRkZGID8gMSA6IDApIDw8IDQ7XG4gICAgdiA+Pj49IHI7XG4gICAgdmFyIHNoaWZ0ID0gKHYgPiAweEZGID8gMSA6IDApIDw8IDM7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4RiA/IDEgOiAwKSA8PCAyO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHNoaWZ0ID0gKHYgPiAweDMgPyAxIDogMCkgPDwgMTtcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuXG4vKipcbiAqIFJlbW92ZSBpdGVtcyBmcm9tIGEgamF2YXNjcmlwdCBhcnJheSB3aXRob3V0IGdlbmVyYXRpbmcgZ2FyYmFnZVxuICpcbiAqIEBmdW5jdGlvbiByZW1vdmVJdGVtc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gQXJyYXkgdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb21cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCAtIHN0YXJ0aW5nIGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gcmVtb3ZlQ291bnQgLSBob3cgbWFueSB0byByZW1vdmVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICB2YXIgaTtcbiAgICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVtb3ZlQ291bnQgPSAoc3RhcnRJZHggKyByZW1vdmVDb3VudCA+IGxlbmd0aCA/IGxlbmd0aCAtIHN0YXJ0SWR4IDogcmVtb3ZlQ291bnQpO1xuICAgIHZhciBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudDtcbiAgICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICAgIH1cbiAgICBhcnIubGVuZ3RoID0gbGVuO1xufVxuXG4vKipcbiAqIFJldHVybnMgc2lnbiBvZiBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHNpZ25cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gdGhlIG51bWJlciB0byBjaGVjayB0aGUgc2lnbiBvZlxuICogQHJldHVybnMge251bWJlcn0gMCBpZiBgbmAgaXMgMCwgLTEgaWYgYG5gIGlzIG5lZ2F0aXZlLCAxIGlmIGBuYCBpcyBwb3NpdGl2ZVxuICovXG5mdW5jdGlvbiBzaWduKG4pIHtcbiAgICBpZiAobiA9PT0gMClcbiAgICAgICAgeyByZXR1cm4gMDsgfVxuICAgIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxudmFyIG5leHRVaWQgPSAwO1xuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5mdW5jdGlvbiB1aWQoKSB7XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cblxuLy8gQSBtYXAgb2Ygd2FybmluZyBtZXNzYWdlcyBhbHJlYWR5IGZpcmVkXG52YXIgd2FybmluZ3MgPSB7fTtcbi8qKlxuICogSGVscGVyIGZvciB3YXJuaW5nIGRldmVsb3BlcnMgYWJvdXQgZGVwcmVjYXRlZCBmZWF0dXJlcyAmIHNldHRpbmdzLlxuICogQSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3MgaXMgZ2l2ZW47IHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZVxuICogZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3NlcyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXByZWNhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBUaGUgdmVyc2lvbiB3aGVyZSB0aGUgZmVhdHVyZSBiZWNhbWUgZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBNZXNzYWdlIHNob3VsZCBpbmNsdWRlIHdoYXQgaXMgZGVwcmVjYXRlZCwgd2hlcmUsIGFuZCB0aGUgbmV3IHNvbHV0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW2lnbm9yZURlcHRoPTNdIC0gVGhlIG51bWJlciBvZiBzdGVwcyB0byBpZ25vcmUgYXQgdGhlIHRvcCBvZiB0aGUgZXJyb3Igc3RhY2tcbiAqICAgICAgICB0aGlzIGlzIG1vc3RseSB0byBpZ25vcmUgaW50ZXJuYWwgZGVwcmVjYXRpb24gY2FsbHMuXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0aW9uKHZlcnNpb24sIG1lc3NhZ2UsIGlnbm9yZURlcHRoKSB7XG4gICAgaWYgKGlnbm9yZURlcHRoID09PSB2b2lkIDApIHsgaWdub3JlRGVwdGggPSAzOyB9XG4gICAgLy8gSWdub3JlIGR1cGxpY2F0XG4gICAgaWYgKHdhcm5pbmdzW21lc3NhZ2VdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJywgbWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGNob3Agb2ZmIHRoZSBzdGFjayB0cmFjZSB3aGljaCBpbmNsdWRlcyBQaXhpSlMgaW50ZXJuYWwgY2FsbHNcbiAgICAgICAgc3RhY2sgPSBzdGFjay5zcGxpdCgnXFxuJykuc3BsaWNlKGlnbm9yZURlcHRoKS5qb2luKCdcXG4nKTtcbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJyVjUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXMnLCAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCAnZm9udC13ZWlnaHQ6bm9ybWFsO2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgbWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB3YXJuaW5nc1ttZXNzYWdlXSA9IHRydWU7XG59XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQcm9ncmFtQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgUHJvZ3JhbUNhY2hlID0ge307XG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogRGVzdHJveXMgYWxsIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleTtcbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplIHRvIGJlIHVzZWQgYXMgYSB0YXJnZXQgZm9yIHJlbmRlcmluZyB0by5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbnZhciBDYW52YXNSZW5kZXJUYXJnZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgQ2FudmFzIG9iamVjdCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBDYW52YXNSZW5kZXJUYXJnZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBjYW52YXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhbnZhc1JlbmRlclRhcmdldDtcbn0oKSk7XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcbiAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgdmFyIGRhdGEgPSBudWxsO1xuICAgIHZhciBpO1xuICAgIHZhciB4O1xuICAgIHZhciB5O1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMCkge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5yaWdodCA8IHgpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLmJvdHRvbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKSB7XG4gICAgICAgIHdpZHRoID0gYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0O1xuICAgICAgICBoZWlnaHQgPSBib3VuZC5ib3R0b20gLSBib3VuZC50b3AgKyAxO1xuICAgICAgICBkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoYm91bmQubGVmdCwgYm91bmQudG9wLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBpbnRlcmZhY2UgRGVjb21wb3NlZERhdGFVcmlcbiAqL1xuLyoqXG4gKiB0eXBlLCBlZy4gYGltYWdlYFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG1lZGlhVHlwZVxuICovXG4vKipcbiAqIFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBzdWJUeXBlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGNoYXJzZXRcbiAqL1xuLyoqXG4gKiBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBlbmNvZGluZ1xuICovXG4vKipcbiAqIFRoZSBhY3R1YWwgZGF0YVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGRhdGFcbiAqL1xuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICB2YXIgZGF0YVVyaU1hdGNoID0gREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcbiAgICBpZiAoZGF0YVVyaU1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxudmFyIHRlbXBBbmNob3I7XG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgaWYgKGxvYyA9PT0gdm9pZCAwKSB7IGxvYyA9IHdpbmRvdy5sb2NhdGlvbjsgfVxuICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2UodGVtcEFuY2hvci5ocmVmKTtcbiAgICB2YXIgc2FtZVBvcnQgPSAoIXBhcnNlZFVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJykgfHwgKHBhcnNlZFVybC5wb3J0ID09PSBsb2MucG9ydCk7XG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHBhcnNlZFVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwYXJzZWRVcmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgUElYSS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeHRlbmQgUElYSSdzIGludGVybmFsIEV2ZW50IEVtaXR0ZXIuXG4gKiBjbGFzcyBNeUVtaXR0ZXIgZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICBzdXBlcigpO1xuICogICAgICBjb25zb2xlLmxvZyhcIkVtaXR0ZXIgY3JlYXRlZCFcIik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBHZXQgaW5mbyBvbiBjdXJyZW50IGRldmljZVxuICogY29uc29sZS5sb2coUElYSS51dGlscy5pc01vYmlsZSk7XG4gKlxuICogLy8gQ29udmVydCBoZXggY29sb3IgdG8gc3RyaW5nXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZjAwZmYpKTsgLy8gcmV0dXJuczogXCIjZmYwMGZmXCJcbiAqIEBuYW1lc3BhY2UgUElYSS51dGlsc1xuICovXG5cbmV4cG9ydCB7IEJhc2VUZXh0dXJlQ2FjaGUsIENhbnZhc1JlbmRlclRhcmdldCwgREFUQV9VUkksIFByb2dyYW1DYWNoZSwgVGV4dHVyZUNhY2hlLCBjbGVhclRleHR1cmVDYWNoZSwgY29ycmVjdEJsZW5kTW9kZSwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBkZWNvbXBvc2VEYXRhVXJpLCBkZXByZWNhdGlvbiwgZGVzdHJveVRleHR1cmVDYWNoZSwgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGdldEJ1ZmZlclR5cGUsIGdldFJlc29sdXRpb25PZlVybCwgaGV4MnJnYiwgaGV4MnN0cmluZywgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzLCBpc1BvdzIsIGlzV2ViR0xTdXBwb3J0ZWQsIGxvZzIsIG5leHRQb3cyLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQsIHByZW11bHRpcGx5VGludFRvUmdiYSwgcmVtb3ZlSXRlbXMsIHJnYjJoZXgsIHNheUhlbGxvLCBzaWduLCBza2lwSGVsbG8sIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHVpZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21hdGggLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvbWF0aCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogVHdvIFBpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBQSV8yXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUElfMiA9IE1hdGguUEkgKiAyO1xuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBERUdfVE9fUkFEXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODA7XG52YXIgU0hBUEVTO1xuKGZ1bmN0aW9uIChTSEFQRVMpIHtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUE9MWVwiXSA9IDBdID0gXCJQT0xZXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlJFQ1RcIl0gPSAxXSA9IFwiUkVDVFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJDSVJDXCJdID0gMl0gPSBcIkNJUkNcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiRUxJUFwiXSA9IDNdID0gXCJFTElQXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlJSRUNcIl0gPSA0XSA9IFwiUlJFQ1wiO1xufSkoU0hBUEVTIHx8IChTSEFQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtlbnVtfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPTFkgUG9seWdvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFQ1QgUmVjdGFuZ2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0lSQyBDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTElQIEVsbGlwc2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSUkVDIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cbi8qKlxuICogU2l6ZSBvYmplY3QsIGNvbnRhaW5zIHdpZHRoIGFuZCBoZWlnaHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSVNpemVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAqL1xuLyoqXG4gKiBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgZGVmaW5lZCBieSBpdHMgcG9zaXRpb24sIGFzIGluZGljYXRlZCBieSBpdHMgdG9wLWxlZnQgY29ybmVyXG4gKiBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZWN0YW5nbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSBOdW1iZXIoeSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SRUNUXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SRUNUO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJsZWZ0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIGxlZnQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInJpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwidG9wXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIHRvcCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwiYm90dG9tXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLCBcIkVNUFRZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IEFuIGVtcHR5IHJlY3RhbmdsZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhpcyByZWN0YW5nbGUgdG8gYW5vdGhlciBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgZ2l2ZW4gcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICByZWN0YW5nbGUueCA9IHRoaXMueDtcbiAgICAgICAgcmVjdGFuZ2xlLnkgPSB0aGlzLnk7XG4gICAgICAgIHJlY3RhbmdsZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHJlY3RhbmdsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHJlY3RhbmdsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWRzIHRoZSByZWN0YW5nbGUgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gICAgICogSWYgcGFkZGluZ1kgaXMgb21pdHRlZCwgYm90aCBwYWRkaW5nWCBhbmQgcGFkZGluZ1kgd2lsbCBiZSBzZXQgdG8gcGFkZGluZ1guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdYPTBdIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWT0wXSAtIFRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiAocGFkZGluZ1gsIHBhZGRpbmdZKSB7XG4gICAgICAgIGlmIChwYWRkaW5nWCA9PT0gdm9pZCAwKSB7IHBhZGRpbmdYID0gMDsgfVxuICAgICAgICBpZiAocGFkZGluZ1kgPT09IHZvaWQgMCkgeyBwYWRkaW5nWSA9IHBhZGRpbmdYOyB9XG4gICAgICAgIHRoaXMueCAtPSBwYWRkaW5nWDtcbiAgICAgICAgdGhpcy55IC09IHBhZGRpbmdZO1xuICAgICAgICB0aGlzLndpZHRoICs9IHBhZGRpbmdYICogMjtcbiAgICAgICAgdGhpcy5oZWlnaHQgKz0gcGFkZGluZ1kgKiAyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpdHMgdGhpcyByZWN0YW5nbGUgYXJvdW5kIHRoZSBwYXNzZWQgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBmaXQuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1heCh0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5taW4odGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1heCh0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5taW4odGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgoeDIgLSB4MSwgMCk7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHkyIC0geTEsIDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHJlY3RhbmdsZSB0aGF0IHdheSBpdHMgY29ybmVycyBsaWUgb24gZ3JpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIHJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Vwcz0wLjAwMV0gcHJlY2lzaW9uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBlcHMpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICBpZiAoZXBzID09PSB2b2lkIDApIHsgZXBzID0gMC4wMDE7IH1cbiAgICAgICAgdmFyIHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5jZWlsKCh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueCA9IE1hdGguZmxvb3IoKHRoaXMueCArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueSA9IE1hdGguZmxvb3IoKHRoaXMueSArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHRoaXMueDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmVubGFyZ2UgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBSZWN0YW5nbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2lyY2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTBdIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2lyY2xlKHgsIHksIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy5yYWRpdXMgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciByMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG4gICAgICAgIHZhciBkeCA9ICh0aGlzLnggLSB4KTtcbiAgICAgICAgdmFyIGR5ID0gKHRoaXMueSAtIHkpO1xuICAgICAgICBkeCAqPSBkeDtcbiAgICAgICAgZHkgKj0gZHk7XG4gICAgICAgIHJldHVybiAoZHggKyBkeSA8PSByMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBjaXJjbGUgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgKlxuICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMucmFkaXVzLCB0aGlzLnkgLSB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMgKiAyLCB0aGlzLnJhZGl1cyAqIDIpO1xuICAgIH07XG4gICAgcmV0dXJuIENpcmNsZTtcbn0oKSk7XG5cbi8qKlxuICogVGhlIEVsbGlwc2Ugb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZldpZHRoPTBdIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmSGVpZ2h0PTBdIC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEVsbGlwc2UoeCwgeSwgaGFsZldpZHRoLCBoYWxmSGVpZ2h0KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAoaGFsZldpZHRoID09PSB2b2lkIDApIHsgaGFsZldpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGFsZkhlaWdodCA9PT0gdm9pZCAwKSB7IGhhbGZIZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBoYWxmV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGFsZkhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuRUxJUDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5FbGxpcHNlfSBhIGNvcHkgb2YgdGhlIGVsbGlwc2VcbiAgICAgKi9cbiAgICBFbGxpcHNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBFbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwXG4gICAgICAgIHZhciBub3JteCA9ICgoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoKTtcbiAgICAgICAgdmFyIG5vcm15ID0gKCh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgbm9ybXggKj0gbm9ybXg7XG4gICAgICAgIG5vcm15ICo9IG5vcm15O1xuICAgICAgICByZXR1cm4gKG5vcm14ICsgbm9ybXkgPD0gMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgZWxsaXBzZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBFbGxpcHNlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMud2lkdGgsIHRoaXMueSAtIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gRWxsaXBzZTtcbn0oKSk7XG5cbi8qKlxuICogQSBjbGFzcyB0byBkZWZpbmUgYSBzaGFwZSB2aWEgdXNlciBkZWZpbmVkIGNvLW9yaW5hdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvbHlnb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludFtdfG51bWJlcltdfSBwb2ludHMgLSBUaGlzIGNhbiBiZSBhbiBhcnJheSBvZiBQb2ludHNcbiAgICAgKiAgdGhhdCBmb3JtIHRoZSBwb2x5Z29uLCBhIGZsYXQgYXJyYXkgb2YgbnVtYmVycyB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgW3gseSwgeCx5LCAuLi5dLCBvclxuICAgICAqICB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgYWxsIHRoZSBwb2ludHMgb2YgdGhlIHBvbHlnb24gZS5nLlxuICAgICAqICBgbmV3IFBJWEkuUG9seWdvbihuZXcgUElYSS5Qb2ludCgpLCBuZXcgUElYSS5Qb2ludCgpLCAuLi4pYCwgb3IgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGZsYXRcbiAgICAgKiAgeCx5IHZhbHVlcyBlLmcuIGBuZXcgUG9seWdvbih4LHksIHgseSwgeCx5LCAuLi4pYCB3aGVyZSBgeGAgYW5kIGB5YCBhcmUgTnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2x5Z29uKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcG9pbnRzW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdCA9IEFycmF5LmlzQXJyYXkocG9pbnRzWzBdKSA/IHBvaW50c1swXSA6IHBvaW50cztcbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBhcnJheSBvZiBwb2ludHMsIGNvbnZlcnQgaXQgdG8gYSBmbGF0IGFycmF5IG9mIG51bWJlcnNcbiAgICAgICAgaWYgKHR5cGVvZiBmbGF0WzBdICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHAgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZsYXQubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHAucHVzaChmbGF0W2ldLngsIGZsYXRbaV0ueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbGF0ID0gcDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IGZsYXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlBPTFlcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlBPTFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgZmFsc2VgIGFmdGVyIG1vdmVUbywgYHRydWVgIGFmdGVyIGBjbG9zZVBhdGhgLiBJbiBhbGwgb3RoZXIgY2FzZXMgaXQgaXMgYHRydWVgLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2x5Z29ufSBhIGNvcHkgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzLnNsaWNlKCk7XG4gICAgICAgIHZhciBwb2x5Z29uID0gbmV3IFBvbHlnb24ocG9pbnRzKTtcbiAgICAgICAgcG9seWdvbi5jbG9zZVN0cm9rZSA9IHRoaXMuY2xvc2VTdHJva2U7XG4gICAgICAgIHJldHVybiBwb2x5Z29uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmFyIHhqID0gdGhpcy5wb2ludHNbaiAqIDJdO1xuICAgICAgICAgICAgdmFyIHlqID0gdGhpcy5wb2ludHNbKGogKiAyKSArIDFdO1xuICAgICAgICAgICAgdmFyIGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPT0gKHlqID4geSkpICYmICh4IDwgKCh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkpICsgeGkpO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9O1xuICAgIHJldHVybiBQb2x5Z29uO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUm91bmRlZCBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgdGhhdCBoYXMgbmljZSByb3VuZGVkIGNvcm5lcnMsIGFzIGluZGljYXRlZCBieSBpdHNcbiAqIHRvcC1sZWZ0IGNvcm5lciBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodCBhbmQgaXRzIHJhZGl1cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSb3VuZGVkUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDA7IH1cbiAgICAgICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDIwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUlJFQztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJvdW5kZWRSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICAgICAgICAgIHx8ICh4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJvdW5kZWRSZWN0YW5nbGU7XG59KCkpO1xuXG4vKipcbiAqIENvbW1vbiBpbnRlcmZhY2UgZm9yIHBvaW50cy4gQm90aCBQb2ludCBhbmQgT2JzZXJ2YWJsZVBvaW50IGltcGxlbWVudCBpdFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSVBvaW50RGF0YVxuICovXG4vKipcbiAqIFggY29vcmRcbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludERhdGEjXG4gKiBAbWVtYmVyIHtudW1iZXJ9IHhcbiAqL1xuLyoqXG4gKiBZIGNvb3JkXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnREYXRhI1xuICogQG1lbWJlciB7bnVtYmVyfSB5XG4gKi9cblxuLyoqXG4gKiBDb21tb24gaW50ZXJmYWNlIGZvciBwb2ludHMuIEJvdGggUG9pbnQgYW5kIE9ic2VydmFibGVQb2ludCBpbXBsZW1lbnQgaXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElQb2ludFxuICogQGV4dGVuZHMgUElYSS5JUG9pbnREYXRhXG4gKi9cbi8qKlxuICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gKlxuICogQG1ldGhvZCBzZXRcbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICovXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gKiBAbWV0aG9kIGNvcHlGcm9tXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb21cbiAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICogQG1ldGhvZCBjb3B5VG9cbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICovXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICpcbiAqIEBtZXRob2QgZXF1YWxzXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqL1xuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xudmFyIFBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHRoaXMuc2V0KHAueCwgcC55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnNldCh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLngpICYmIChwLnkgPT09IHRoaXMueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IHg7IH1cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnQ7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBBbiBPYnNlcnZhYmxlUG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIElQb2ludFxuICovXG52YXIgT2JzZXJ2YWJsZVBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gICAgICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJpZGRlbiBvdGhlcndpc2UgdGhleSB3aWxsIGRlZmF1bHRcbiAgICAgKiB0byB0aGUgY2xvbmUgb2JqZWN0J3MgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiPW51bGxdIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZT1udWxsXSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7UElYSS5PYnNlcnZhYmxlUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKGNiLCBzY29wZSkge1xuICAgICAgICBpZiAoY2IgPT09IHZvaWQgMCkgeyBjYiA9IHRoaXMuY2I7IH1cbiAgICAgICAgaWYgKHNjb3BlID09PSB2b2lkIDApIHsgc2NvcGUgPSB0aGlzLnNjb3BlOyB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIGlmICh0aGlzLl94ICE9PSB4IHx8IHRoaXMuX3kgIT09IHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHAueCB8fCB0aGlzLl95ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBwLng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuc2V0KHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIChwLnggPT09IHRoaXMuX3gpICYmIChwLnkgPT09IHRoaXMuX3kpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBPYnNlcnZhYmxlUG9pbnQ7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGFzIGEgY2xhc3MgbWFrZXMgaXQgYSBsb3QgZmFzdGVyLlxuICpcbiAqIEhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdDpcbiAqIGBgYGpzXG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIGlmIChhID09PSB2b2lkIDApIHsgYSA9IDE7IH1cbiAgICAgICAgaWYgKGIgPT09IHZvaWQgMCkgeyBiID0gMDsgfVxuICAgICAgICBpZiAoYyA9PT0gdm9pZCAwKSB7IGMgPSAwOyB9XG4gICAgICAgIGlmIChkID09PSB2b2lkIDApIHsgZCA9IDE7IH1cbiAgICAgICAgaWYgKHR4ID09PSB2b2lkIDApIHsgdHggPSAwOyB9XG4gICAgICAgIGlmICh0eSA9PT0gdm9pZCAwKSB7IHR5ID0gMDsgfVxuICAgICAgICB0aGlzLmFycmF5ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGEgPSBhcnJheVswXVxuICAgICAqIGIgPSBhcnJheVsxXVxuICAgICAqIGMgPSBhcnJheVszXVxuICAgICAqIGQgPSBhcnJheVs0XVxuICAgICAqIHR4ID0gYXJyYXlbMl1cbiAgICAgKiB0eSA9IGFycmF5WzVdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSBtYXRyaXggcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGMgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGQgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IHRoZSBuZXdseSBjcmVhdGVkIGFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyYXkgPSBvdXQgfHwgdGhpcy5hcnJheTtcbiAgICAgICAgaWYgKHRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSAobmV3UG9zIHx8IG5ldyBQb2ludCgpKTtcbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5hICogeCkgKyAodGhpcy5jICogeSkgKyB0aGlzLnR4O1xuICAgICAgICBuZXdQb3MueSA9ICh0aGlzLmIgKiB4KSArICh0aGlzLmQgKiB5KSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgaW52ZXJzZSBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UgdG8gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIGlucHV0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlID0gZnVuY3Rpb24gKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IChuZXdQb3MgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB2YXIgaWQgPSAxIC8gKCh0aGlzLmEgKiB0aGlzLmQpICsgKHRoaXMuYyAqIC10aGlzLmIpKTtcbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5kICogaWQgKiB4KSArICgtdGhpcy5jICogaWQgKiB5KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKTtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5hICogaWQgKiB5KSArICgtdGhpcy5iICogaWQgKiB4KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZCk7XG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB4IGJ5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgYW1vdW50IHRvIHNjYWxlIHZlcnRpY2FsbHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5hICo9IHg7XG4gICAgICAgIHRoaXMuZCAqPSB5O1xuICAgICAgICB0aGlzLmMgKj0geDtcbiAgICAgICAgdGhpcy5iICo9IHk7XG4gICAgICAgIHRoaXMudHggKj0geDtcbiAgICAgICAgdGhpcy50eSAqPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSByb3RhdGlvbiB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIC0gVGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB0aGlzLmEgPSAoYTEgKiBjb3MpIC0gKHRoaXMuYiAqIHNpbik7XG4gICAgICAgIHRoaXMuYiA9IChhMSAqIHNpbikgKyAodGhpcy5iICogY29zKTtcbiAgICAgICAgdGhpcy5jID0gKGMxICogY29zKSAtICh0aGlzLmQgKiBzaW4pO1xuICAgICAgICB0aGlzLmQgPSAoYzEgKiBzaW4pICsgKHRoaXMuZCAqIGNvcyk7XG4gICAgICAgIHRoaXMudHggPSAodHgxICogY29zKSAtICh0aGlzLnR5ICogc2luKTtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBzaW4pICsgKHRoaXMudHkgKiBjb3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gYXBwZW5kLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgICAgIHRoaXMuYSA9IChtYXRyaXguYSAqIGExKSArIChtYXRyaXguYiAqIGMxKTtcbiAgICAgICAgdGhpcy5iID0gKG1hdHJpeC5hICogYjEpICsgKG1hdHJpeC5iICogZDEpO1xuICAgICAgICB0aGlzLmMgPSAobWF0cml4LmMgKiBhMSkgKyAobWF0cml4LmQgKiBjMSk7XG4gICAgICAgIHRoaXMuZCA9IChtYXRyaXguYyAqIGIxKSArIChtYXRyaXguZCAqIGQxKTtcbiAgICAgICAgdGhpcy50eCA9IChtYXRyaXgudHggKiBhMSkgKyAobWF0cml4LnR5ICogYzEpICsgdGhpcy50eDtcbiAgICAgICAgdGhpcy50eSA9IChtYXRyaXgudHggKiBiMSkgKyAobWF0cml4LnR5ICogZDEpICsgdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXRyaXggYmFzZWQgb24gYWxsIHRoZSBhdmFpbGFibGUgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpdGlvbiBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpdGlvbiBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WCAtIFBpdm90IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RZIC0gUGl2b3Qgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBTY2FsZSBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWSAtIFNjYWxlIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdYIC0gU2tldyBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdZIC0gU2tldyBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy50eCA9IHggLSAoKHBpdm90WCAqIHRoaXMuYSkgKyAocGl2b3RZICogdGhpcy5jKSk7XG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgICAgIHRoaXMuYSA9IChhMSAqIG1hdHJpeC5hKSArICh0aGlzLmIgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmIgPSAoYTEgKiBtYXRyaXguYikgKyAodGhpcy5iICogbWF0cml4LmQpO1xuICAgICAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuZCA9IChjMSAqIG1hdHJpeC5iKSArICh0aGlzLmQgKiBtYXRyaXguZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBtYXRyaXguYikgKyAodGhpcy50eSAqIG1hdHJpeC5kKSArIG1hdHJpeC50eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmRlY29tcG9zZSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiID0gdGhpcy5iO1xuICAgICAgICB2YXIgYyA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQgPSB0aGlzLmQ7XG4gICAgICAgIHZhciBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICAgICAgdmFyIHNrZXdZID0gTWF0aC5hdGFuMihiLCBhKTtcbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG4gICAgICAgIGlmIChkZWx0YSA8IDAuMDAwMDEgfHwgTWF0aC5hYnMoUElfMiAtIGRlbHRhKSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHRyYW5zZm9ybS5za2V3LnkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSBza2V3WDtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IHNldCBzY2FsZVxuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueCA9IE1hdGguc3FydCgoYSAqIGEpICsgKGIgKiBiKSk7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KChjICogYykgKyAoZCAqIGQpKTtcbiAgICAgICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHk7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSAoYTEgKiBkMSkgLSAoYjEgKiBjMSk7XG4gICAgICAgIHRoaXMuYSA9IGQxIC8gbjtcbiAgICAgICAgdGhpcy5iID0gLWIxIC8gbjtcbiAgICAgICAgdGhpcy5jID0gLWMxIC8gbjtcbiAgICAgICAgdGhpcy5kID0gYTEgLyBuO1xuICAgICAgICB0aGlzLnR4ID0gKChjMSAqIHRoaXMudHkpIC0gKGQxICogdHgxKSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLSgoYTEgKiB0aGlzLnR5KSAtIChiMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRyaXggdG8gYW4gaWRlbnRpdHkgKGRlZmF1bHQpIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYSA9IDE7XG4gICAgICAgIHRoaXMuYiA9IDA7XG4gICAgICAgIHRoaXMuYyA9IDA7XG4gICAgICAgIHRoaXMuZCA9IDE7XG4gICAgICAgIHRoaXMudHggPSAwO1xuICAgICAgICB0aGlzLnR5ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWF0cml4IGdpdmVuIGluIHBhcmFtZXRlciB3aXRoIGl0cyB2YWx1ZXMgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSB0aGlzXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYztcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmQ7XG4gICAgICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeCwgXCJJREVOVElUWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LCBcIlRFTVBfTUFUUklYXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdGVtcCBtYXRyaXhcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWF0cml4O1xufSgpKTtcblxuLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXBcbi8qXG4gKiBUcmFuc2Zvcm0gbWF0cml4IGZvciBvcGVyYXRpb24gbiBpczpcbiAqIHwgdXggfCB2eCB8XG4gKiB8IHV5IHwgdnkgfFxuICovXG52YXIgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07XG52YXIgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG4vKipcbiAqIFtDYXlsZXkgVGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAqIGZvciB0aGUgY29tcG9zaXRpb24gb2YgZWFjaCByb3RhdGlvbiBpbiB0aGUgZGloZWRlcmFsIGdyb3VwIEQ4LlxuICpcbiAqIEB0eXBlIG51bWJlcltdW11cbiAqIEBwcml2YXRlXG4gKi9cbnZhciByb3RhdGlvbkNheWxleSA9IFtdO1xuLyoqXG4gKiBNYXRyaWNlcyBmb3IgZWFjaCBgR0Q4U3ltbWV0cnlgIHJvdGF0aW9uLlxuICpcbiAqIEB0eXBlIE1hdHJpeFtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuLypcbiAqIEFsaWFzIGZvciB7QGNvZGUgTWF0aC5zaWdufS5cbiAqL1xudmFyIHNpZ251bSA9IE1hdGguc2lnbjtcbi8qXG4gKiBJbml0aWFsaXplcyBgcm90YXRpb25DYXlsZXlgIGFuZCBgcm90YXRpb25NYXRyaWNlc2AuIEl0IGlzIGNhbGxlZFxuICogb25seSBvbmNlIGJlbG93LlxuICovXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgcm93ID0gW107XG4gICAgICAgIHJvdGF0aW9uQ2F5bGV5LnB1c2gocm93KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICAvKiBNdWx0aXBsaWVzIHJvdGF0aW9uIG1hdHJpY2VzIGkgYW5kIGouICovXG4gICAgICAgICAgICB2YXIgX3V4ID0gc2lnbnVtKCh1eFtpXSAqIHV4W2pdKSArICh2eFtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKCh1eVtpXSAqIHV4W2pdKSArICh2eVtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z4ID0gc2lnbnVtKCh1eFtpXSAqIHZ4W2pdKSArICh2eFtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z5ID0gc2lnbnVtKCh1eVtpXSAqIHZ4W2pdKSArICh2eVtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICAvKiBGaW5kcyByb3RhdGlvbiBtYXRyaXggbWF0Y2hpbmcgdGhlIHByb2R1Y3QgYW5kIHB1c2hlcyBpdC4gKi9cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXlcbiAgICAgICAgICAgICAgICAgICAgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciBtYXQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdC5zZXQodXhbaV0sIHV5W2ldLCB2eFtpXSwgdnlbaV0sIDAsIDApO1xuICAgICAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5pbml0KCk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBHRDhTeW1tZXRyeVxuICogQHNlZSBQSVhJLmdyb3VwRDhcbiAqL1xuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBkaWhlZHJhbCBncm91cCBEOCwgd2hpY2ggaXMgc2ltaWxhciB0b1xuICogW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfTtcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscywgYW5kIGl0IGlzIHVzZWQgZm9yIHRleHR1cmVcbiAqIHJvdGF0aW9ucy5cbiAqXG4gKiBUaGUgZGlyZWN0aW9ucyB0aGUgVS0gYW5kIFYtIGF4ZXMgYWZ0ZXIgcm90YXRpb25cbiAqIG9mIGFuIGFuZ2xlIG9mIGBhOiBHRDhDb25zdGFudGAgYXJlIHRoZSB2ZWN0b3JzIGAodVgoYSksIHVZKGEpKWBcbiAqIGFuZCBgKHZYKGEpLCB2WShhKSlgLiBUaGVzZSBhcmVuJ3QgbmVjZXNzYXJpbHkgdW5pdCB2ZWN0b3JzLlxuICpcbiAqICoqT3JpZ2luOioqPGJyPlxuICogIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBzZWUgUElYSS5ncm91cEQ4LkVcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNFXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TV1xuICogQHNlZSBQSVhJLmdyb3VwRDguV1xuICogQHNlZSBQSVhJLmdyb3VwRDguTldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5cbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5FXG4gKiBAYXV0aG9yIEl2YW4gQGl2YW5wb3BlbHlzaGV2XG4gKiBAbmFtZXNwYWNlIFBJWEkuZ3JvdXBEOFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIGdyb3VwRDggPSB7XG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAwwrAgICAgICAgfCBFYXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBFOiAwLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgNDXCsOKGuyAgICAgfCBTb3V0aGVhc3QgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTRTogMSxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDkwwrDihrsgICAgIHwgU291dGggICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgUzogMixcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDEzNcKw4oa7ICAgIHwgU291dGh3ZXN0IHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU1c6IDMsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxODDCsCAgICAgfCBXZXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBXOiA0LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTEzNcKwLzIyNcKw4oa7IHwgTm9ydGh3ZXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTlc6IDUsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtOTDCsC8yNzDCsOKGuyAgfCBOb3J0aCAgICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOOiA2LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTQ1wrAvMzE1wrDihrsgIHwgTm9ydGhlYXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTkU6IDcsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBZLWF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHRoZSBtYWluIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNQUlOX0RJQUdPTkFMOiAxMCxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFgtYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgcmV2ZXJzZSBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgUkVWRVJTRV9ESUFHT05BTDogMTQsXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVg6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV4W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV5W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlg6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHZ4W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHZ5W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBzeW1tZXRyeSB3aG9zZSBvcHBvc2l0ZVxuICAgICAqICAgaXMgbmVlZGVkLiBPbmx5IHJvdGF0aW9ucyBoYXZlIG9wcG9zaXRlIHN5bW1ldHJpZXMgd2hpbGVcbiAgICAgKiAgIHJlZmxlY3Rpb25zIGRvbid0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBvcHBvc2l0ZSBzeW1tZXRyeSBvZiBgcm90YXRpb25gXG4gICAgICovXG4gICAgaW52OiBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkgLy8gdHJ1ZSBvbmx5IGlmIGJldHdlZW4gOCAmIDE1IChyZWZsZWN0aW9ucylcbiAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1OyAvLyBvciByb3RhdGlvbiAlIDE2XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgtcm90YXRpb24pICYgNzsgLy8gb3IgKDggLSByb3RhdGlvbikgJSA4XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgdHdvIEQ4IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBUYWtpbmcgYF5gIGFzIHJlZmxlY3Rpb246XG4gICAgICpcbiAgICAgKiB8ICAgICAgIHwgRT0wIHwgUz0yIHwgVz00IHwgTj02IHwgRV49OCB8IFNePTEwIHwgV149MTIgfCBOXj0xNCB8XG4gICAgICogfC0tLS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS0tfC0tLS0tLS18LS0tLS0tLXwtLS0tLS0tfFxuICAgICAqIHwgRT0wICAgfCBFICAgfCBTICAgfCBXICAgfCBOICAgfCBFXiAgIHwgU14gICAgfCBXXiAgICB8IE5eICAgIHxcbiAgICAgKiB8IFM9MiAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgU14gICB8IFdeICAgIHwgTl4gICAgfCBFXiAgICB8XG4gICAgICogfCBXPTQgICB8IFcgICB8IE4gICB8IEUgICB8IFMgICB8IFdeICAgfCBOXiAgICB8IEVeICAgIHwgU14gICAgfFxuICAgICAqIHwgTj02ICAgfCBOICAgfCBFICAgfCBTICAgfCBXICAgfCBOXiAgIHwgRV4gICAgfCBTXiAgICB8IFdeICAgIHxcbiAgICAgKiB8IEVePTggIHwgRV4gIHwgTl4gIHwgV14gIHwgU14gIHwgRSAgICB8IE4gICAgIHwgVyAgICAgfCBTICAgICB8XG4gICAgICogfCBTXj0xMCB8IFNeICB8IEVeICB8IE5eICB8IFdeICB8IFMgICAgfCBFICAgICB8IE4gICAgIHwgVyAgICAgfFxuICAgICAqIHwgV149MTIgfCBXXiAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXICAgIHwgUyAgICAgfCBFICAgICB8IE4gICAgIHxcbiAgICAgKiB8IE5ePTE0IHwgTl4gIHwgV14gIHwgU14gIHwgRV4gIHwgTiAgICB8IFcgICAgIHwgUyAgICAgfCBFICAgICB8XG4gICAgICpcbiAgICAgKiBbVGhpcyBpcyBhIENheWxleSB0YWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSByb3cgaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgY29sdW1uIGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQ29tcG9zZWQgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bcm90YXRpb25GaXJzdF0pOyB9LFxuICAgIC8qKlxuICAgICAqIFJldmVyc2Ugb2YgYGFkZGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBSZXN1bHRcbiAgICAgKi9cbiAgICBzdWI6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtncm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV0pOyB9LFxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24sIHdoaWNoIGlzIGEgY29tbXV0YXRpdmVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gcm90YXRpb24gXiA0OyB9LFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcm90YXRpb24gYW5nbGUgaXMgdmVydGljYWwsIGkuZS4gc291dGhcbiAgICAgKiBvciBub3J0aC4gSXQgZG9lc24ndCB3b3JrIGZvciByZWZsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gKHJvdGF0aW9uICYgMykgPT09IDI7IH0sXG4gICAgLyoqXG4gICAgICogQXBwcm94aW1hdGVzIHRoZSB2ZWN0b3IgYFYoZHgsZHkpYCBpbnRvIG9uZSBvZiB0aGVcbiAgICAgKiBlaWdodCBkaXJlY3Rpb25zIHByb3ZpZGVkIGJ5IGBncm91cEQ4YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHggLSBYLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR5IC0gWS1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IEFwcHJveGltYXRpb24gb2YgdGhlIHZlY3RvciBpbnRvXG4gICAgICogIG9uZSBvZiB0aGUgZWlnaHQgc3ltbWV0cmllcy5cbiAgICAgKi9cbiAgICBieURpcmVjdGlvbjogZnVuY3Rpb24gKGR4LCBkeSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHgpICogMiA8PSBNYXRoLmFicyhkeSkpIHtcbiAgICAgICAgICAgIGlmIChkeSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Lk47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoZHkpICogMiA8PSBNYXRoLmFicyhkeCkpIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlNXO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTkU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyb3VwRDguTlc7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IGZ1bmN0aW9uIChtYXRyaXgsIHJvdGF0aW9uLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKHR4ID09PSB2b2lkIDApIHsgdHggPSAwOyB9XG4gICAgICAgIGlmICh0eSA9PT0gdm9pZCAwKSB7IHR5ID0gMDsgfVxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gcm90YXRpb25NYXRyaWNlc1tncm91cEQ4Lmludihyb3RhdGlvbildO1xuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmFuc2Zvcm0oKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9jYWxUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDEsIDEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5waXZvdCA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5za2V3ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLnVwZGF0ZVNrZXcsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWC1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFggYXhpcyxcbiAgICAgICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jeCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFggYXhpcyxcbiAgICAgICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWC1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3kgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N5ID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvY2FsSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgd29ybGQgdHJhbnNmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dvcmxkSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBwYXJlbnQncyB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhcmVudElEID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBza2V3IG9yIHRoZSByb3RhdGlvbiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICAgICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcueCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBzaW4sIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHBhcmVudCB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIChwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKCh0aGlzLnBpdm90LnggKiBsdC5hKSArICh0aGlzLnBpdm90LnkgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICgodGhpcy5waXZvdC54ICogbHQuYikgKyAodGhpcy5waXZvdC55ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICAgICAgICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB3dC5hID0gKGx0LmEgKiBwdC5hKSArIChsdC5iICogcHQuYyk7XG4gICAgICAgICAgICB3dC5iID0gKGx0LmEgKiBwdC5iKSArIChsdC5iICogcHQuZCk7XG4gICAgICAgICAgICB3dC5jID0gKGx0LmMgKiBwdC5hKSArIChsdC5kICogcHQuYyk7XG4gICAgICAgICAgICB3dC5kID0gKGx0LmMgKiBwdC5iKSArIChsdC5kICogcHQuZCk7XG4gICAgICAgICAgICB3dC50eCA9IChsdC50eCAqIHB0LmEpICsgKGx0LnR5ICogcHQuYykgKyBwdC50eDtcbiAgICAgICAgICAgIHd0LnR5ID0gKGx0LnR4ICogcHQuYikgKyAobHQudHkgKiBwdC5kKSArIHB0LnR5O1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpb24gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIHRyYW5zZm9ybVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICByZXR1cm4gVHJhbnNmb3JtO1xufSgpKTtcblxuLyoqXG4gKiBNYXRoIGNsYXNzZXMgYW5kIHV0aWxpdGllcyBtaXhlZCBpbnRvIFBJWEkgbmFtZXNwYWNlLlxuICpcbiAqIEBsZW5kcyBQSVhJXG4gKi9cblxuZXhwb3J0IHsgQ2lyY2xlLCBERUdfVE9fUkFELCBFbGxpcHNlLCBNYXRyaXgsIE9ic2VydmFibGVQb2ludCwgUElfMiwgUG9pbnQsIFBvbHlnb24sIFJBRF9UT19ERUcsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgU0hBUEVTLCBUcmFuc2Zvcm0sIGdyb3VwRDggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGguZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2Rpc3BsYXkgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvZGlzcGxheSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBUcmFuc2Zvcm0sIFJBRF9UT19ERUcsIERFR19UT19SQUQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogU2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGNvbnRhaW5lciBwcm9wZXJ0eSAnc29ydGFibGVDaGlsZHJlbicuXG4gKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAqXG4gKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gKlxuICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU09SVEFCTEVfQ0hJTERSRU5cbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOID0gZmFsc2U7XG5cbi8qKlxuICogJ0J1aWxkZXInIHBhdHRlcm4gZm9yIGJvdW5kcyByZWN0YW5nbGVzLlxuICpcbiAqIFRoaXMgY291bGQgYmUgY2FsbGVkIGFuIEF4aXMtQWxpZ25lZCBCb3VuZGluZyBCb3guXG4gKiBJdCBpcyBub3QgYW4gYWN0dWFsIHNoYXBlLiBJdCBpcyBhIG11dGFibGUgdGhpbmc7IG5vICdFTVBUWScgb3IgdGhvc2Uga2luZCBvZiBwcm9ibGVtcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCb3VuZHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm91bmRzKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXQgaXMgdXBkYXRlZCB0byBfYm91bmRzSUQgb2YgY29ycmVzcG9uZGluZyBvYmplY3QgdG8ga2VlcCBib3VuZHMgaW4gc3luYyB3aXRoIGNvbnRlbnQuXG4gICAgICAgICAqIFVwZGF0ZWQgZnJvbSBvdXRzaWRlLCB0aHVzIHB1YmxpYyBtb2RpZmllci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBib3VuZHMgYW5kIHJlc2V0cy5cbiAgICAgKlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW4gcmV0dXJuIFJlY3RhbmdsZS5FTVBUWSBjb25zdGFudCwgZWl0aGVyIGNvbnN0cnVjdCBuZXcgcmVjdGFuZ2xlLCBlaXRoZXIgdXNlIHlvdXIgcmVjdGFuZ2xlXG4gICAgICogSXQgaXMgbm90IGd1YXJhbnRlZWQgdGhhdCBpdCB3aWxsIHJldHVybiB0ZW1wUmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIHRlbXBvcmFyeSBvYmplY3Qgd2lsbCBiZSB1c2VkIGlmIEFBQkIgaXMgbm90IGVtcHR5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5nZXRSZWN0YW5nbGUgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAodGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvaW50LnkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFF1YWQgPSBmdW5jdGlvbiAodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHZhciB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIHZhciB5ID0gdmVydGljZXNbMV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgICAgICB5ID0gdmVydGljZXNbN107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWF0cml4IHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoYiAqIHgwKSArIChkICogeTApICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDApICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzY3JlZW4gdmVydGljZXMgZnJvbSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0ZXhEYXRhID0gZnVuY3Rpb24gKHZlcnRleERhdGEsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBtZXNoIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5hZGRWZXJ0aWNlc01hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWVzaCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRYPTBdIC0geCBwYWRkaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRZPTBdIC0geSBwYWRkaW5nXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlc01hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0LCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIGlmIChwYWRYID09PSB2b2lkIDApIHsgcGFkWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZFkgPT09IHZvaWQgMCkgeyBwYWRZID0gcGFkWDsgfVxuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgdmFyIHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgeCA9IChhICogcmF3WCkgKyAoYyAqIHJhd1kpICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IChkICogcmF3WSkgKyAoYiAqIHJhd1gpICsgdHk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCAtIHBhZFgpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHggKyBwYWRYKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5IC0gcGFkWSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSArIHBhZFkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIChib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUaGUgQm91bmRzIHRvIGJlIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IG1hc2sgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gKGJvdW5kcywgbWFzaykge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbXVsdGlwbGllZCBieSBtYXRyaXguIEJvdW5kcyBzaG91bGRuJ3QgYmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBvdGhlciBib3VuZHNcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBtdWx0aXBsaWNhdG9yXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXRyaXggPSBmdW5jdGlvbiAoYm91bmRzLCBtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeChtYXRyaXgsIGJvdW5kcy5taW5YLCBib3VuZHMubWluWSwgYm91bmRzLm1heFgsIGJvdW5kcy5tYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc0FyZWEgPSBmdW5jdGlvbiAoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogKGFyZWEueCArIGFyZWEud2lkdGgpO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWRzIGJvdW5kcyBvYmplY3QsIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiAocGFkZGluZ1gsIHBhZGRpbmdZKSB7XG4gICAgICAgIGlmIChwYWRkaW5nWCA9PT0gdm9pZCAwKSB7IHBhZGRpbmdYID0gMDsgfVxuICAgICAgICBpZiAocGFkZGluZ1kgPT09IHZvaWQgMCkgeyBwYWRkaW5nWSA9IHBhZGRpbmdYOyB9XG4gICAgICAgIGlmICghdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMubWluWCAtPSBwYWRkaW5nWDtcbiAgICAgICAgICAgIHRoaXMubWF4WCArPSBwYWRkaW5nWDtcbiAgICAgICAgICAgIHRoaXMubWluWSAtPSBwYWRkaW5nWTtcbiAgICAgICAgICAgIHRoaXMubWF4WSArPSBwYWRkaW5nWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBwYWRkZWQgZnJhbWUuICh4MCwgeTApIHNob3VsZCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gKHgxLCB5MSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFggLSBwYWRkaW5nIFhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkWSAtIHBhZGRpbmcgWVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVQYWQgPSBmdW5jdGlvbiAoeDAsIHkwLCB4MSwgeTEsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgeDAgLT0gcGFkWDtcbiAgICAgICAgeTAgLT0gcGFkWTtcbiAgICAgICAgeDEgKz0gcGFkWDtcbiAgICAgICAgeTEgKz0gcGFkWTtcbiAgICAgICAgdGhpcy5taW5YID0gdGhpcy5taW5YIDwgeDAgPyB0aGlzLm1pblggOiB4MDtcbiAgICAgICAgdGhpcy5tYXhYID0gdGhpcy5tYXhYID4geDEgPyB0aGlzLm1heFggOiB4MTtcbiAgICAgICAgdGhpcy5taW5ZID0gdGhpcy5taW5ZIDwgeTAgPyB0aGlzLm1pblkgOiB5MDtcbiAgICAgICAgdGhpcy5tYXhZID0gdGhpcy5tYXhZID4geTEgPyB0aGlzLm1heFkgOiB5MTtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZHM7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiIGUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERpc3BsYXlPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpc3BsYXlPYmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud29ybGRBbHBoYSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBpbmRleCBpbiB0aGUgY2hpbGRyZW4gYXJyYXkgdGhlIGRpc3BsYXkgY29tcG9uZW50IHdhcyBiZWZvcmUgdGhlIHByZXZpb3VzIHpJbmRleCBzb3J0LlxuICAgICAgICAgKiBVc2VkIGJ5IGNvbnRhaW5lcnMgdG8gaGVscCBzb3J0IG9iamVjdHMgd2l0aCB0aGUgc2FtZSB6SW5kZXgsIGJ5IHVzaW5nIHByZXZpb3VzIGFycmF5IGluZGV4IGFzIHRoZSBkZWNpZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogQSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3pJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXphdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ251bGwnYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBlbmFibGVkIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhbCBib3VuZHMgb2JqZWN0LCBzd2FwcGVkIHdpdGggYF9ib3VuZHNgIHdoZW4gdXNpbmcgYGdldExvY2FsQm91bmRzKClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFncyB0aGUgY2FjaGVkIGJvdW5kcyBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGJvdW5kcy1yZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBvZiB0aGlzIGRpc3BsYXktb2JqZWN0J3MgbG9jYWwtYm91bmRzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcnxQSVhJLk1hc2tEYXRhfG51bGx9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXNrID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzU3ByaXRlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIGFueSBvdGhlciBkaXNwbGF5T2JqZWN0IHVzZSB0aGlzIG9iamVjdCBhcyBhIG1hc2s/XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNaXhlcyBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGZyb20gYSBzb3VyY2Ugb2JqZWN0IHRvIERpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc291cmNlIC0gVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0Lm1peGluID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgICAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgICAgIC8vIGdldCBhbGwgdGhlIGVudW1lcmFibGUgcHJvcGVydHkga2V5c1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG4gICAgICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzIVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKHNraXBVcGRhdGUsIHJlY3QpIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHMudXBkYXRlSUQgIT09IHRoaXMuX2JvdW5kc0lEKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgICAgIHZhciB3b3JsZEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IHRoaXMuX2xvY2FsQm91bmRzO1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IHdvcmxkQm91bmRzO1xuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgKz0gdGhpcy5fYm91bmRzSUQgLSB3b3JsZEJvdW5kc0lEOyAvLyByZWZsZWN0IHNpZGUtZWZmZWN0c1xuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9HbG9iYWwgPSBmdW5jdGlvbiAocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgICAgIGlmIChza2lwVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcFVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvTG9jYWwgPSBmdW5jdGlvbiAocG9zaXRpb24sIGZyb20sIHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2ltcGx5IGFwcGx5IHRoZSBtYXRyaXguLlxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5Db250YWluZXJ9IFRoZSBDb250YWluZXIgdGhhdCB0aGlzIERpc3BsYXlPYmplY3Qgd2FzIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFBhcmVudCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcyk7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzZXQgdGhlIHBvc2l0aW9uLCBzY2FsZSwgc2tldyBhbmQgcGl2b3QgYXQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWD0xXSAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9MV0gLSBUaGUgWSBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdYPTBdIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1k9MF0gLSBUaGUgWSBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFg9MF0gLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RZPTBdIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZLCBwaXZvdFgsIHBpdm90WSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHNjYWxlWCA9PT0gdm9pZCAwKSB7IHNjYWxlWCA9IDE7IH1cbiAgICAgICAgaWYgKHNjYWxlWSA9PT0gdm9pZCAwKSB7IHNjYWxlWSA9IDE7IH1cbiAgICAgICAgaWYgKHJvdGF0aW9uID09PSB2b2lkIDApIHsgcm90YXRpb24gPSAwOyB9XG4gICAgICAgIGlmIChza2V3WCA9PT0gdm9pZCAwKSB7IHNrZXdYID0gMDsgfVxuICAgICAgICBpZiAoc2tld1kgPT09IHZvaWQgMCkgeyBza2V3WSA9IDA7IH1cbiAgICAgICAgaWYgKHBpdm90WCA9PT0gdm9pZCAwKSB7IHBpdm90WCA9IDA7IH1cbiAgICAgICAgaWYgKHBpdm90WSA9PT0gdm9pZCAwKSB7IHBpdm90WSA9IDA7IH1cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gIXNjYWxlWCA/IDEgOiBzY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGUueSA9ICFzY2FsZVkgPyAxIDogc2NhbGVZO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc2tldy54ID0gc2tld1g7XG4gICAgICAgIHRoaXMuc2tldy55ID0gc2tld1k7XG4gICAgICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICAgICAgdGhpcy5waXZvdC55ID0gcGl2b3RZO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95KClgLlxuICAgICAqXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChfb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5oaXRBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXNlZCBpbiBSZW5kZXJlciwgY2FjaGVBc0JpdG1hcCBhbmQgb3RoZXIgcGxhY2VzIHdoZXJlIHlvdSBjYWxsIGFuIGB1cGRhdGVUcmFuc2Zvcm1gIG9uIHJvb3RcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IGNhY2hlUGFyZW50ID0gZWxlbS5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgICogZWxlbS51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgKiBlbGVtLmRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IGN1cnJlbnQgcGFyZW50XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZW5hYmxlVGVtcFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG15UGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHJldHVybiBteVBhcmVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhaXIgbWV0aG9kIGZvciBgZW5hYmxlVGVtcFBhcmVudGBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2FjaGVQYXJlbnQgYWN0dWFsIHBhcmVudCBvZiBlbGVtZW50XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoY2FjaGVQYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeSBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcImxvY2FsVHJhbnNmb3JtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gbG9jYWwgZmFjdG9yczogcG9zaXRpb24sIHNjYWxlLCBvdGhlciBzdHVmZi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNjYWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInBpdm90XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl2b3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwic2tld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBmYWN0b3IgZm9yIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJhbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uICogUkFEX1RPX0RFRztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBERUdfVE9fUkFEO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInpJbmRleFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiBJZiBhIGNvbnRhaW5lciBoYXMgdGhlIHNvcnRhYmxlQ2hpbGRyZW4gcHJvcGVydHkgc2V0IHRvIHRydWUsIGNoaWxkcmVuIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgICAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAgICAgKiBhbmQgdGh1cyByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheU9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fekluZGV4O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fekluZGV4ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIndvcmxkVmlzaWJsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmICghaXRlbS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJtYXNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgYSBtYXNrIGZvciB0aGUgZGlzcGxheU9iamVjdC4gQSBtYXNrIGlzIGFuIG9iamVjdCB0aGF0IGxpbWl0cyB0aGUgdmlzaWJpbGl0eSBvZiBhblxuICAgICAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBpeGlKUyBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgICAgICoge0BsaW5rIFBJWEkuR3JhcGhpY3N9IG9yIGEge0BsaW5rIFBJWEkuU3ByaXRlfSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAgICAgKiB1dGlsaXRpZXMgc2hhcGUgY2xpcHBpbmcuIFRvIHJlbW92ZSBhIG1hc2ssIHNldCB0aGlzIHByb3BlcnR5IHRvIGBudWxsYC5cbiAgICAgICAgICpcbiAgICAgICAgICogRm9yIHNwcml0ZSBtYXNrIGJvdGggYWxwaGEgYW5kIHJlZCBjaGFubmVsIGFyZSB1c2VkLiBCbGFjayBtYXNrIGlzIHRoZSBzYW1lIGFzIHRyYW5zcGFyZW50IG1hc2suXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICogZ3JhcGhpY3MuYmVnaW5GaWxsKDB4RkYzMzAwKTtcbiAgICAgICAgICogZ3JhcGhpY3MuZHJhd1JlY3QoNTAsIDI1MCwgMTAwLCAxMDApO1xuICAgICAgICAgKiBncmFwaGljcy5lbmRGaWxsKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgICAgICogc3ByaXRlLm1hc2sgPSBncmFwaGljcztcbiAgICAgICAgICogQHRvZG8gQXQgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ8UElYSS5NYXNrRGF0YXxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSAodGhpcy5fbWFzay5tYXNrT2JqZWN0IHx8IHRoaXMuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSAodGhpcy5fbWFzay5tYXNrT2JqZWN0IHx8IHRoaXMuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEaXNwbGF5T2JqZWN0O1xufShFdmVudEVtaXR0ZXIpKTtcbnZhciBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZW1wb3JhcnlEaXNwbGF5T2JqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3J0RGlydHkgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0O1xufShEaXNwbGF5T2JqZWN0KSk7XG4vKipcbiAqIERpc3BsYXlPYmplY3QgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgbm90IHVwZGF0ZSBjaGlsZHJlbiBvZiBjb250YWluZXIuXG4gKiBXaWxsIGNyYXNoIGlmIHRoZXJlJ3Mgbm8gcGFyZW50IGVsZW1lbnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBmdW5jdGlvbiBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmZ1bmN0aW9uIHNvcnRDaGlsZHJlbihhLCBiKSB7XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleCkge1xuICAgICAgICByZXR1cm4gYS5fbGFzdFNvcnRlZEluZGV4IC0gYi5fbGFzdFNvcnRlZEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cbi8qKlxuICogQSBDb250YWluZXIgcmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgZGlzcGxheSBvYmplY3RzLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMgKGxpa2UgU3ByaXRlcykuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gICAgICAgICAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICAgICAgICAgKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICAgICAgICAgKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICAgICAgICAgKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBjaGlsZHJlbiBiZSBzb3J0ZWQgYnkgekluZGV4IGF0IHRoZSBuZXh0IHVwZGF0ZVRyYW5zZm9ybSBjYWxsLlxuICAgICAgICAgKiBXaWxsIGdldCBhdXRvbWF0aWNhbGx5IHNldCB0byB0cnVlIGlmIGEgbmV3IGNoaWxkIGlzIGFkZGVkLCBvciBpZiBhIGNoaWxkJ3MgekluZGV4IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNvbnRhaW5lciNjaGlsZEFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBhZGRlZCB0byB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgYWRkZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgYWRkZWQgY2hpbGQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKF9sZW5ndGgpIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZHJlbiAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIGFkZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2hpbGRyZW5bX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFycmF5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaGFzIGEgcGFyZW50IHRoZW4gbGV0cyByZW1vdmUgaXQgYXMgUGl4aUpTIG9iamVjdHMgY2FuIG9ubHkgZXhpc3QgaW4gb25lIHBsYWNlXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnN3YXBDaGlsZHJlbiA9IGZ1bmN0aW9uIChjaGlsZCwgY2hpbGQyKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gY2hpbGQyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBwb3NpdGlvbiBvZiBhIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIHRvIGlkZW50aWZ5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggcG9zaXRpb24gb2YgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0IHRvIGlkZW50aWZ5XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGlsZEF0OiBJbmRleCAoXCIgKyBpbmRleCArIFwiKSBkb2VzIG5vdCBleGlzdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIHJlbW92ZSBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gKGJlZ2luSW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChiZWdpbkluZGV4ID09PSB2b2lkIDApIHsgYmVnaW5JbmRleCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZEluZGV4ID09PSB2b2lkIDApIHsgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgfVxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gZW5kSW5kZXg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNvcnRzIGNoaWxkcmVuIGJ5IHpJbmRleC4gUHJldmlvdXMgb3JkZXIgaXMgbWFudGFpbmVkIGZvciAyIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUgekluZGV4LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc29ydENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc29ydFJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBjaGlsZC5fbGFzdFNvcnRlZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGlmICghc29ydFJlcXVpcmVkICYmIGNoaWxkLnpJbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHNvcnRSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmdcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc29ydGFibGVDaGlsZHJlbiAmJiB0aGlzLnNvcnREaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5zb3J0Q2hpbGRyZW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcmVuZGVyIGZsYWdzLCBob3cgdG8gcHJvY2VzcyBzdHVmZiBoZXJlXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSB8fCAhY2hpbGQucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSAoY2hpbGQuX21hc2subWFza09iamVjdCB8fCBjaGlsZC5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBtYXNrT2JqZWN0Ll9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcENoaWxkcmVuVXBkYXRlPWZhbHNlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCByZS1jYWxjdWxhdGlvbiBvZiBjaGlsZHJlbiB0cmFuc2Zvcm1zLFxuICAgICAqICBpdCB3YXMgZGVmYXVsdCBiZWhhdmlvdXIgb2YgcGl4aSA0LjAtNS4yIGFuZCBjYXVzZWQgbWFueSBwcm9ibGVtcyB0byB1c2Vycy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0LCBza2lwQ2hpbGRyZW5VcGRhdGUpIHtcbiAgICAgICAgaWYgKHNraXBDaGlsZHJlblVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBDaGlsZHJlblVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciByZXN1bHQgPSBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgICAgIGlmICghc2tpcENoaWxkcmVuVXBkYXRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIE92ZXJyaWRlIHRoaXMgdG9cbiAgICAgKiBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEZJTEwgSU4vL1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCAodGhpcy5maWx0ZXJzICYmIHRoaXMuZmlsdGVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuZmlsdGVycztcbiAgICAgICAgdmFyIG1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMucHVzaChmaWx0ZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChfcmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgICAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnkgKiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShEaXNwbGF5T2JqZWN0KSk7XG4vKipcbiAqIENvbnRhaW5lciBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBmdW5jdGlvbiBjb250YWluZXJVcGRhdGVUcmFuc2Zvcm1cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0gPSBDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuZXhwb3J0IHsgQm91bmRzLCBDb250YWluZXIsIERpc3BsYXlPYmplY3QsIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BsYXkuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvYWNjZXNzaWJpbGl0eSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGlzTW9iaWxlLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBhY2Nlc3NpYmxlIG9iamVjdHNcbiAqIHVzZWQgYnkge0BsaW5rIFBJWEkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgTXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBhY2Nlc3NpYmxlVGFyZ2V0ID0ge1xuICAgIC8qKlxuICAgICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICAgKiAgIHNoYWRvdyBkaXYgd2l0aCBhdHRyaWJ1dGVzIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGU6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRpdGxlIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqIElmIGFjY2Vzc2libGVUaXRsZSBBTkQgYWNjZXNzaWJsZUhpbnQgaGFzIG5vdCBiZWVuIHRoaXMgd2lsbCBkZWZhdWx0IHRvICdkaXNwbGF5T2JqZWN0IFt0YWJJbmRleF0nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHs/c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlSGludDogbnVsbCxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgdGFiSW5kZXg6IDAsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlRGl2OiBudWxsLFxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHR5cGUgb2YgZGl2IHRoZSBhY2Nlc3NpYmxlIGxheWVyIGlzLiBTY3JlZW4gcmVhZGVycyB0cmVhdCB0aGUgZWxlbWVudCBkaWZmZXJlbnRseVxuICAgICAqIGRlcGVuZGluZyBvbiB0aGlzIHR5cGUuIERlZmF1bHRzIHRvIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0ICdidXR0b24nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVR5cGU6ICdidXR0b24nLFxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHBvaW50ZXItZXZlbnRzIHRoZSBhY2Nlc3NpYmxlIGRpdiB3aWxsIHVzZVxuICAgICAqIERlZmF1bHRzIHRvIGF1dG8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYXV0bydcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlUG9pbnRlckV2ZW50czogJ2F1dG8nLFxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgdG8gZmFsc2Ugd2lsbCBwcmV2ZW50IGFueSBjaGlsZHJlbiBpbnNpZGUgdGhpcyBjb250YWluZXIgdG9cbiAgICAgKiBiZSBhY2Nlc3NpYmxlLiBEZWZhdWx0cyB0byB0cnVlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlQ2hpbGRyZW46IHRydWUsXG4gICAgcmVuZGVySWQ6IC0xLFxufTtcblxuLy8gYWRkIHNvbWUgZXh0cmEgdmFyaWFibGVzIHRvIHRoZSBjb250YWluZXIuLlxuRGlzcGxheU9iamVjdC5taXhpbihhY2Nlc3NpYmxlVGFyZ2V0KTtcbnZhciBLRVlfQ09ERV9UQUIgPSA5O1xudmFyIERJVl9UT1VDSF9TSVpFID0gMTAwO1xudmFyIERJVl9UT1VDSF9QT1NfWCA9IDA7XG52YXIgRElWX1RPVUNIX1BPU19ZID0gMDtcbnZhciBESVZfVE9VQ0hfWklOREVYID0gMjtcbnZhciBESVZfSE9PS19TSVpFID0gMTtcbnZhciBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xudmFyIERJVl9IT09LX1BPU19ZID0gLTEwMDA7XG52YXIgRElWX0hPT0tfWklOREVYID0gMjtcbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW4gcmVhZGVycy5cbiAqIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBQaXhpSlMgY29udGVudC5cbiAqXG4gKiBBIERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZSBqdXN0IGxpa2UgaXQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFjY2Vzc2liaWxpdHlNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWNjZXNzaWJpbGl0eU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICAgICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaXJzdCB3ZSBjcmVhdGUgYSBkaXYgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IERJVl9UT1VDSF9QT1NfWCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBESVZfVE9VQ0hfUE9TX1kgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcklkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBhY2Nlc3NpYmlsaXR5IG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb3VudCB0byB0aHJvdHRsZSBkaXYgdXBkYXRlcyBvbiBhbmRyb2lkIGRldmljZXNcbiAgICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgZnJlcXVlbmN5IHRvIHVwZGF0ZSB0aGUgZGl2IGVsZW1lbnRzICgpXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3kgPSA1MDA7IC8vIDJmcHNcbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUsIFwiaXNBY3RpdmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzTW9iaWxlQWNjZXNzaWJpbGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWdcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gRElWX0hPT0tfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdzZWxlY3QgdG8gZW5hYmxlIGFjY2Vzc2FiaWxpdHkgZm9yIHRoaXMgY29udGVudCc7XG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3lUb3VjaEhvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9va0Rpdikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgaGlkZGVuLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG1vdmVzIHRoZSBtb3VzZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNBY3RpdmUgfHwgdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLmRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnZpc2libGUgfHwgIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZm9yZSBlYWNoIHJlbmRlciB0aGlzIGZ1bmN0aW9uIHdpbGwgZW5zdXJlIHRoYXQgYWxsIGRpdnMgYXJlIG1hcHBlZCBjb3JyZWN0bHkgdG8gdGhlaXIgRGlzcGxheU9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qIE9uIEFuZHJvaWQgZGVmYXVsdCB3ZWIgYnJvd3NlciwgdGFiIG9yZGVyIHNlZW1zIHRvIGJlIGNhbGN1bGF0ZWQgYnkgcG9zaXRpb24gcmF0aGVyIHRoYW4gdGFiSW5kZXgsXG4gICAgICAgICogIG1vdmluZyBidXR0b25zIGNhbiBjYXVzZSBmb2N1cyB0byBmbGlja2VyIGJldHdlZW4gdHdvIGJ1dHRvbnMgbWFraW5nIGl0IGhhcmQvaW1wb3NzaWJsZSB0byBuYXZpZ2F0ZSxcbiAgICAgICAgKiAgc28gSSBhbSBqdXN0IHJ1bm5pbmcgdXBkYXRlIGV2ZXJ5IGhhbGYgYSBzZWNvbmQsIHNlZW1zIHRvIGZpeCBpdC5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UgJiYgbm93IDwgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCA9IG5vdyArIHRoaXMuYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeTtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHZhciBzeCA9IChyZWN0LndpZHRoIC8gdGhpcy5yZW5kZXJlci53aWR0aCkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3kgPSAocmVjdC5oZWlnaHQgLyB0aGlzLnJlbmRlcmVyLmhlaWdodCkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gcmVjdC50b3AgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgICAgIHZhciBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICh3dC50eCArIChoaXRBcmVhLnggKiB3dC5hKSkgKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gaGl0QXJlYS54ICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSB0aXRsZSBvciBpbmRleCBtYXkgaGF2ZSBjaGFuZ2VkLCBpZiBzbyBsZXRzIHVwZGF0ZSBpdCFcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBkaXYudGl0bGUgfHwgY2hpbGQudGFiSW5kZXggIT09IGRpdi50YWJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50YWJJbmRleCA9IGNoaWxkLnRhYkluZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgICAgIHRoaXMucmVuZGVySWQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHByaXZhdGUgZnVuY3Rpb24gdGhhdCB3aWxsIHZpc3VhbGx5IGFkZCB0aGUgaW5mb3JtYXRpb24gdG8gdGhlXG4gICAgICogYWNjZXNzYWJpbGl0eSBkaXZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRpdlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVEZWJ1Z0hUTUwgPSBmdW5jdGlvbiAoZGl2KSB7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBcInR5cGU6IFwiICsgZGl2LnR5cGUgKyBcIjwvYnI+IHRpdGxlIDogXCIgKyBkaXYudGl0bGUgKyBcIjwvYnI+IHRhYkluZGV4OiBcIiArIGRpdi50YWJJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdCB0aGUgaGl0IGFyZWEgYmFzZWQgb24gdGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gKGhpdEFyZWEpIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHRoaXMucmVuZGVyZXIud2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KSB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICAvLyAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG4gICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdub25lJztcbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlRm94IG5lZWRzIHRoaXMgdG8gYW5ub3VuY2Ugb25seSB0aGUgbmV3IGJ1dHRvbiBuYW1lXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcG9pbnRlciBldmVudHNcbiAgICAgICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVQb2ludGVyRXZlbnRzO1xuICAgICAgICAvLyBzZXQgdGhlIHR5cGUsIHRoaXMgZGVmYXVsdHMgdG8gYnV0dG9uIVxuICAgICAgICBkaXYudHlwZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVR5cGU7XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgIHx8IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IFwiZGlzcGxheU9iamVjdCBcIiArIGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBidXR0b24gcHJlc3MgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAoY2xpY2spXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gYSBrZXkgaXMgcHJlc3NlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBUaGUga2V5ZG93biBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIG1vdXNlIGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG4gICAgICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBhY2Nlc3NpYmxlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90aWNrZXIgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvdGlja2VyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUX0ZQTVNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IDAuMDY7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS5UaWNrZXJ9IG9iamVjdC4gSGlnaGVyIHByaW9yaXR5IGl0ZW1zIGFyZSB1cGRhdGVkIGZpcnN0IGFuZCBsb3dlclxuICogcHJpb3JpdHkgaXRlbXMsIHN1Y2ggYXMgcmVuZGVyLCBzaG91bGQgZ28gbGF0ZXIuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVEVSQUNUSU9OPTUwIEhpZ2hlc3QgcHJpb3JpdHksIHVzZWQgZm9yIHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIPTI1IEhpZ2ggcHJpb3JpdHkgdXBkYXRpbmcsIHtAbGluayBQSVhJLlZpZGVvQmFzZVRleHR1cmV9IGFuZCB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbnZhciBVUERBVEVfUFJJT1JJVFk7XG4oZnVuY3Rpb24gKFVQREFURV9QUklPUklUWSkge1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJJTlRFUkFDVElPTlwiXSA9IDUwXSA9IFwiSU5URVJBQ1RJT05cIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSElHSFwiXSA9IDI1XSA9IFwiSElHSFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkxPV1wiXSA9IC0yNV0gPSBcIkxPV1wiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJVVElMSVRZXCJdID0gLTUwXSA9IFwiVVRJTElUWVwiO1xufSkoVVBEQVRFX1BSSU9SSVRZIHx8IChVUERBVEVfUFJJT1JJVFkgPSB7fSkpO1xuXG4vKipcbiAqIEludGVybmFsIGNsYXNzIGZvciBoYW5kbGluZyB0aGUgcHJpb3JpdHkgc29ydGluZyBvZiB0aWNrZXIgaGFuZGxlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlckxpc3RlbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9bnVsbF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb25jZT1mYWxzZV0gLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCBvbmNlKSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSAwOyB9XG4gICAgICAgIGlmIChvbmNlID09PSB2b2lkIDApIHsgb25jZSA9IGZhbHNlOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsaW5nIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIgeyp9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXh0IGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2ltcGxlIGNvbXBhcmUgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBpZiBhIGZ1bmN0aW9uIGFuZCBjb250ZXh0IG1hdGNoLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbiA9PT0gZm4gJiYgdGhpcy5jb250ZXh0ID09PSBjb250ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZm4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgaWYgKHRoaXMub25jZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIGxpc3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAocHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhcmQgPSBmYWxzZV0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICAgICAqICAgICAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gVGhlIGxpc3RlbmVyIHRvIHJlZGlyZWN0IHdoaWxlIGVtaXR0aW5nIG9yIHJlbW92aW5nLlxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGhhcmQpIHtcbiAgICAgICAgaWYgKGhhcmQgPT09IHZvaWQgMCkgeyBoYXJkID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QsIGhvb2sgdXAgbmV4dCBhbmQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMubmV4dCA9IHRoaXMubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHQucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG4gICAgcmV0dXJuIFRpY2tlckxpc3RlbmVyO1xufSgpKTtcblxuLyoqXG4gKiBBIFRpY2tlciBjbGFzcyB0aGF0IHJ1bnMgYW4gdXBkYXRlIGxvb3AgdGhhdCBvdGhlciBvYmplY3RzIGxpc3RlbiB0by5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGNvbXBvc2VkIGFyb3VuZCBsaXN0ZW5lcnMgbWVhbnQgZm9yIGV4ZWN1dGlvbiBvbiB0aGUgbmV4dCByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lLlxuICogQW5pbWF0aW9uIGZyYW1lcyBhcmUgcmVxdWVzdGVkIG9ubHkgd2hlbiBuZWNlc3NhcnksIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjdXJyZW50IGZyYW1lIHJlcXVlc3QgSURcbiAgICAgICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtYXhGUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1pbmltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIHNob3VsZCBpbnZva2UgdGhlIG1ldGhvZFxuICAgICAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogd2hlbiBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxhciB0aW1lIHZhbHVlIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZXIgdGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogT3Bwb3NlZCB0byB3aGF0IHRoZSBzY2FsYXIge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX1cbiAgICAgICAgICogaXMgYmFzZWQsIHRoaXMgdmFsdWUgaXMgbmVpdGhlciBjYXBwZWQgbm9yIHNjYWxlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAgICAgKiBgdHJ1ZWAgaWYge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkuVGlja2VyI3N0b3B9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogV2hpbGUgYGZhbHNlYCwgdGhpcyB2YWx1ZSBtYXkgY2hhbmdlIHRvIGB0cnVlYCBpbiB0aGVcbiAgICAgICAgICogZXZlbnQgb2Yge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gYmVpbmcgYHRydWVgXG4gICAgICAgICAqIGFuZCBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBkZWxldGluZyBpcyBkaXNhYmxlZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSBrZXlmcmFtZSB3YXMgZXhlY3V0ZWQuXG4gICAgICAgICAqIE1haW50YWlucyBhIHJlbGF0aXZlbHkgZml4ZWQgaW50ZXJ2YWwgd2l0aCB0aGUgcHJldmlvdXMgdmFsdWUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgc2lkZSBlZmZlY3RzIG1heSBoYXZlIG1vZGlmaWVkIHRpY2tlciBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCAmJiBfdGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIF90aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5fdGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbFxuICAgICAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RJZCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gICAgICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICAgICAqIGNvbmRpdGlvbnMgYXJlIG1ldCwgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLiBJZiB0aGUgdGlja2VyIGhhcyBub3RcbiAgICAgKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAgICAgKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fc3RhcnRJZlBvc3NpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRpY2sgZXZlbnRzLiBDYWxscyBjb250aW51b3VzbHkgdW5sZXNzXG4gICAgICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgaGFuZGxlciBmb3IgdGhlIHRpY2sgZXZlbnQgd2hpY2ggaXMgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGRPbmNlID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIEZvciBhdHRhY2hpbmcgdG8gaGVhZFxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5faGVhZDtcbiAgICAgICAgLy8gQWRkIHRoZSBmaXJzdCBpdGVtXG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBHbyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0IHByaW9yaXR5XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHQgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcImNvdW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIG9uIHRoaXMgdGlja2VyLCBjYWxjdWxhdGVkIGJ5IHdhbGtpbmcgdGhyb3VnaCBsaW5rZWQgbGlzdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQpKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAgICAgKiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZS4gQW4gdXBkYXRlIGVudGFpbHMgc2V0dGluZyB0aGVcbiAgICAgKiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAqIGludm9raW5nIGFsbCBsaXN0ZW5lcnMgd2l0aCBjdXJyZW50IGRlbHRhVGltZSxcbiAgICAgKiBhbmQgdGhlbiBmaW5hbGx5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI2xhc3RUaW1lfVxuICAgICAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgYW5pbWF0aW9uXG4gICAgICogZnJhbWUgY2FsbGJhY2tzIGlmIHRoZSB0aWNrZXIgaW5zdGFuY2UgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gdm9pZCAwKSB7IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7IH1cbiAgICAgICAgdmFyIGVsYXBzZWRNUztcbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgLy8gY2FwIHRoZSBtaWxsaXNlY29uZHMgZWxhcHNlZCB1c2VkIGZvciBkZWx0YVRpbWVcbiAgICAgICAgICAgIGlmIChlbGFwc2VkTVMgPiB0aGlzLl9tYXhFbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vIElmIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBleGl0IHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIEdldCByZWFkeSBmb3IgbmV4dCBmcmFtZSBieSBzZXR0aW5nIF9sYXN0RnJhbWUsIGJ1dCBiYXNlZCBvbiBfbWluRWxhcHNlZE1TXG4gICAgICAgICAgICAvLyBhZGp1c3RtZW50IHRvIGVuc3VyZSBhIHJlbGF0aXZlbHkgc3RhYmxlIGludGVydmFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEZyYW1lIHwgMDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIChkZWx0YSAlIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwiRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICAgICAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5lbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtaW5GUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAgICAgICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgdXNlZCB0byBjYXAge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAgICAgKiBgMGAgYW5kIGBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TICogMTAwMGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZwcykge1xuICAgICAgICAgICAgLy8gTWluaW11bSBtdXN0IGJlIGJlbG93IHRoZSBtYXhGUFNcbiAgICAgICAgICAgIHZhciBtaW5GUFMgPSBNYXRoLm1pbih0aGlzLm1heEZQUywgZnBzKTtcbiAgICAgICAgICAgIC8vIE11c3QgYmUgYXQgbGVhc3QgMCwgYnV0IGJlbG93IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMTAwMCwgc2V0dGluZ3MuVEFSR0VUX0ZQTVMpO1xuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtYXhGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHJlcXVpcmVkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogSWYgaXQgaXMgc2V0IHRvIGAwYCwgdGhlbiB0aGVyZSBpcyBubyBsaW1pdDsgUGl4aUpTIHdpbGwgcmVuZGVyIGFzIG1hbnkgZnJhbWVzIGFzIGl0IGNhbi5cbiAgICAgICAgICogT3RoZXJ3aXNlIGl0IHdpbGwgYmUgYXQgbGVhc3QgYG1pbkZQU2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIGlmIChmcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTWF4IG11c3QgYmUgYXQgbGVhc3QgdGhlIG1pbkZQU1xuICAgICAgICAgICAgICAgIHZhciBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9IHRvIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVzIC8gdmlkZW8gdGV4dHVyZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICAgICAqIC8vIEJ5IGRlZmF1bHQgdGhpcyBpcyB0cnVlIG9ubHkgZm9yIHRoZSBQSVhJLlRpY2tlci5zaGFyZWQgaW5zdGFuY2UuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAgICAgICAgICogLy8gaWYgeW91IGhhdmUgbm90IGF0dGVtcHRlZCB0byByZW5kZXIgYW55dGhpbmcgeWV0LlxuICAgICAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICogdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFlvdSBtYXkgdXNlIHRoZSBzaGFyZWQgdGlja2VyIHRvIHJlbmRlci4uLlxuICAgICAgICAgKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICAgICAgICAgKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcbiAgICAgICAgICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIE9yIHlvdSBjYW4ganVzdCB1cGRhdGUgaXQgbWFudWFsbHkuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogZnVuY3Rpb24gYW5pbWF0ZSh0aW1lKSB7XG4gICAgICAgICAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZWQgPSBUaWNrZXIuX3NoYXJlZCA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLCBcInN5c3RlbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSBmb3IgY29yZSB0aW1pbmcgZnVuY3Rpb25hbGl0eSB0aGF0IHNob3VsZG4ndCB1c3VhbGx5IG5lZWQgdG8gYmUgcGF1c2VkLFxuICAgICAgICAgKiB1bmxpa2UgdGhlIGBzaGFyZWRgIHRpY2tlciB3aGljaCBkcml2ZXMgdmlzdWFsIGFuaW1hdGlvbnMgYW5kIHJlbmRlcmluZyB3aGljaCBtYXkgd2FudCB0byBiZSBwYXVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRpY2tlci5fc3lzdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IFRpY2tlci5fc3lzdGVtID0gbmV3IFRpY2tlcigpO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUaWNrZXIuX3N5c3RlbTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUaWNrZXI7XG59KCkpO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbiBUaWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7VGlja2VyUGx1Z2lufSBmcm9tICdAcGl4aS90aWNrZXInO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpY2tlclBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFRpY2tlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndGlja2VyJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0b3BcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jc3RhcnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSBfdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpY2tlciBmb3IgZG9pbmcgcmVuZGVyIHVwZGF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuICAgICAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJQbHVnaW47XG59KCkpO1xuXG5leHBvcnQgeyBUaWNrZXIsIFRpY2tlclBsdWdpbiwgVVBEQVRFX1BSSU9SSVRZIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWNrZXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ludGVyYWN0aW9uIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL2ludGVyYWN0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKSB7XG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwb2ludCBzdG9yZXMgdGhlIGdsb2JhbCBjb29yZHMgb2Ygd2hlcmUgdGhlIHRvdWNoL21vdXNlIGV2ZW50IGhhcHBlbmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbCA9IG5ldyBQb2ludCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCBTcHJpdGUgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uc1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idXR0b25zID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogcmFkaXVzWCBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbHRYID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXNzdXJlIGFwcGxpZWQgYnkgdGhlIHBvaW50aW5nIGRldmljZSBkdXJpbmcgdGhlIGV2ZW50LiBBIFRvdWNoJ3MgZm9yY2UgcHJvcGVydHlcbiAgICAgICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcHJlc3N1cmVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLCBcInBvaW50ZXJJZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gICAgICogIGNvb3JkcyBvZmZcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICAgKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbZ2xvYmFsUG9zXSAtIEEgUG9pbnQgb2JqZWN0IGNvbnRhaW5pbmcgeW91ciBjdXN0b20gZ2xvYmFsIGNvb3Jkcywgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICAgICAqICB0byB0aGUgRGlzcGxheU9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKSB7XG4gICAgICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgICAgICAvLyBpdCB3aXRoIFwiZmFsc2VcIiBvbiBsYXRlciBldmVudHMgd2hlbiBvdXIgc2hpbSBmb3IgaXQgb24gdG91Y2ggZXZlbnRzIG1pZ2h0IG5vdCBiZVxuICAgICAgICAvLyBhY2N1cmF0ZVxuICAgICAgICBpZiAoJ2lzUHJpbWFyeScgaW4gZXZlbnQgJiYgZXZlbnQuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idXR0b24gPSAnYnV0dG9uJyBpbiBldmVudCAmJiBldmVudC5idXR0b247XG4gICAgICAgIC8vIGV2ZW50LmJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgKGllLiBTYWZhcmkpLCBidXQgaXQgZG9lcyBoYXZlIGEgbm9uLXN0YW5kYXJkXG4gICAgICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgICAgIHZhciBidXR0b25zID0gJ2J1dHRvbnMnIGluIGV2ZW50ICYmIGV2ZW50LmJ1dHRvbnM7XG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoYnV0dG9ucykgPyBidXR0b25zIDogJ3doaWNoJyBpbiBldmVudCAmJiBldmVudC53aGljaDtcbiAgICAgICAgdGhpcy53aWR0aCA9ICd3aWR0aCcgaW4gZXZlbnQgJiYgZXZlbnQud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gJ2hlaWdodCcgaW4gZXZlbnQgJiYgZXZlbnQuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRpbHRYID0gJ3RpbHRYJyBpbiBldmVudCAmJiBldmVudC50aWx0WDtcbiAgICAgICAgdGhpcy50aWx0WSA9ICd0aWx0WScgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFk7XG4gICAgICAgIHRoaXMucG9pbnRlclR5cGUgPSAncG9pbnRlclR5cGUnIGluIGV2ZW50ICYmIGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gJ3ByZXNzdXJlJyBpbiBldmVudCAmJiBldmVudC5wcmVzc3VyZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gJ3JvdGF0aW9uQW5nbGUnIGluIGV2ZW50ICYmIGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgICAgIHRoaXMudHdpc3QgPSAoJ3R3aXN0JyBpbiBldmVudCAmJiBldmVudC50d2lzdCkgfHwgMDtcbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAoJ3RhbmdlbnRpYWxQcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlKSB8fCAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcmFjdGlvbkRhdGE7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbkV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uRXZlbnQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgZXZlbnQgd2lsbCBjb250aW51ZSBwcm9wYWdhdGluZyBpbiB0aGUgdHJlZS5cbiAgICAgICAgICpcbiAgICAgICAgICogUmVtYWluaW5nIGV2ZW50cyBmb3IgdGhlIHtAbGluayBzdG9wc1Byb3BhZ2F0aW5nQXR9IG9iamVjdFxuICAgICAgICAgKiB3aWxsIHN0aWxsIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0IHdoaWNoIG9iamVjdCB0aGlzIGV2ZW50IHN0b3BzIHByb3BhZ2F0aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHdlIGFscmVhZHkgcmVhY2hlZCB0aGUgZWxlbWVudCB3ZSB3YW50IHRvXG4gICAgICAgICAqIHN0b3AgcHJvcGFnYXRpbmcgYXQuIFRoaXMgaXMgaW1wb3J0YW50IGZvciBkZWxheWVkIGV2ZW50cyxcbiAgICAgICAgICogd2hlcmUgd2Ugc3RhcnQgb3ZlciBkZWVwZXIgaW4gdGhlIHRyZWUgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3Qgd2hpY2ggY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICAgICAgICogRm9yIGxpc3RlbmVyIGNhbGxiYWNrIHNlZSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbkV2ZW50LmN1cnJlbnRUYXJnZXR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgb2YgdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcmFjdGlvbkRhdGEgcmVsYXRlZCB0byB0aGlzIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSB0aGlzLmN1cnJlbnRUYXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uRXZlbnQ7XG59KCkpO1xuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEocG9pbnRlcklkKSB7XG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgaW50ZXJhY3Rpb24gZmxhZyB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gU2hvdWxkIHRoZSBmbGFnIGJlIHNldCBvciB1bnNldFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiAoZmxhZywgeW4pIHtcbiAgICAgICAgaWYgKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiAofmZsYWcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcInBvaW50ZXJJZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwiZmxhZ3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZsYWdzKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IGZsYWdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJub25lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IGluYWN0aXZlIChub3Qgb3ZlciBvciBkb3duKT9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcIm92ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk9WRVIpICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuT1ZFUiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJyaWdodERvd25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSByaWdodCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuUklHSFRfRE9XTikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5SSUdIVF9ET1dOLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcImxlZnREb3duXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTEVGVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgTk9ORTogMCxcbiAgICAgICAgT1ZFUjogMSA8PCAwLFxuICAgICAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICAgICAgUklHSFRfRE9XTjogMSA8PCAyLFxuICAgIH0pO1xuICAgIHJldHVybiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcbn0oKSk7XG5cbi8qKlxuICogU3RyYXRlZ3kgaG93IHRvIHNlYXJjaCB0aHJvdWdoIHN0YWdlIHRyZWUgZm9yIGludGVyYWN0aXZlIG9iamVjdHNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJlZVNlYXJjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmVlU2VhcmNoKCkge1xuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIGZvciBmaW5kSGl0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJhY3RpdmVdIC0gV2hldGhlciB0aGUgZGlzcGxheU9iamVjdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgVHJlZVNlYXJjaC5wcm90b3R5cGUucmVjdXJzaXZlRmluZEhpdCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2ludCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5nbG9iYWw7XG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuICAgICAgICB2YXIgaGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnRlcmFjdGl2ZVBhcmVudCA9IGludGVyYWN0aXZlO1xuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIG1hc2ssIG5vIG5lZWQgdG8gaGl0VGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgbWFzay5cbiAgICAgICAgLy8gV2Ugc3RpbGwgd2FudCB0byBoaXRUZXN0Q2hpbGRyZW4sIGhvd2V2ZXIsIHRvIGVuc3VyZSBhIG1vdXNlb3V0IGNhbiBzdGlsbCBiZSBnZW5lcmF0ZWQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTEzNVxuICAgICAgICBlbHNlIGlmIChkaXNwbGF5T2JqZWN0Ll9tYXNrKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGlmICghKGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludCAmJiBkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBjaGlsZCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmVQYXJlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgYSBnb29kIGlkZWEgdG8gY2hlY2sgaWYgYSBjaGlsZCBoYXMgbG9zdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC50YXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBUcmVlU2VhcmNoLnByb3RvdHlwZS5maW5kSGl0ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpIHtcbiAgICAgICAgdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmVlU2VhcmNoO1xufSgpKTtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGNsYXNzZXMgdGhhdCByZXByZXNlbnQgYSBoaXQgYXJlYS5cbiAqXG4gKiBJdCBpcyBpbXBsZW1lbnRlZCBieSB0aGUgZm9sbG93aW5nIGNsYXNzZXM6XG4gKiAtIHtAbGluayBQSVhJLkNpcmNsZX1cbiAqIC0ge0BsaW5rIFBJWEkuRWxsaXBzZX1cbiAqIC0ge0BsaW5rIFBJWEkuUG9seWdvbn1cbiAqIC0ge0BsaW5rIFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAqXG4gKiBAaW50ZXJmYWNlIElIaXRBcmVhXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgYXJlYVxuICpcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIGFyZWFcbiAqL1xuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKiBVc2VkIGJ5IHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gdG8gYXV0b21hdGljYWxseSBnaXZlIGFsbCBEaXNwbGF5T2JqZWN0cyB0aGVzZSBwcm9wZXJ0aWVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGludGVyYWN0aXZlVGFyZ2V0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuaW50ZXJhY3RpdmVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGludGVyYWN0aXZlVGFyZ2V0ID0ge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICogfSk7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjaGlsZHJlbiB0byB0aGUgZGlzcGxheU9iamVjdCBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAgICogU2V0dGluZyB0aGlzIHRvIGZhbHNlIGFsbG93cyBQaXhpSlMgdG8gYnlwYXNzIGEgcmVjdXJzaXZlIGBoaXRUZXN0YCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbiBzaGFwZS4gQ2hpbGRyZW4gd2lsbCBiZSBoaXQgZmlyc3QsIHRoZW4gdGhpcyBzaGFwZSB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmhpdEFyZWEgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApO1xuICAgICAqIEBtZW1iZXIge1BJWEkuSUhpdEFyZWF9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBoaXRBcmVhOiBudWxsLFxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIHRoZSBtb3VzZSBjdXJzb3IgdXNlIHRoZSBwb2ludGVyIGJlaGF2aW9yIHdoZW4gaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0IGlmIGl0IGlzIGludGVyYWN0aXZlXG4gICAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGdldCBidXR0b25Nb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJykge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgICAqIGlzIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0NTUy9jdXJzb3JcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGN1cnNvcjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgYWxsIHRyYWNrZWQgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXIuIFVzZSB0cmFja2VkUG9pbnRlcnMgdG8gYWNjZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqL1xuICAgIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZCxcbn07XG5cbi8vIE1peCBpbnRlcmFjdGl2ZVRhcmdldCBpbnRvIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuLy8gYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuRGlzcGxheU9iamVjdC5taXhpbihpbnRlcmFjdGl2ZVRhcmdldCk7XG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG4vLyBoZWxwZXJzIGZvciBoaXRUZXN0KCkgLSBvbmx5IHVzZWQgaW5zaWRlIGhpdFRlc3QoKVxudmFyIGhpdFRlc3RFdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbk1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludGVyYWN0aW9uTWFuYWdlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQ9dHJ1ZV0gLSBTaG91bGQgdGhlIG1hbmFnZXIgYXV0b21hdGljYWxseSBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeT0xMF0gLSBNYXhpbXVtIHJlcXVlbmN5IChtcykgYXQgcG9pbnRlciBvdmVyL291dCBzdGF0ZXMgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXI9dHJ1ZV0gLSBXaGV0aGVyIHRvIGFkZCB7QGxpbmsgdGlja2VyVXBkYXRlfSB0byB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbk1hbmFnZXIocmVuZGVyZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucyBhdXRvbWF0aWNhbGx5IGJlIHByZXZlbnRlZC5cbiAgICAgICAgICogRG9lcyBub3QgYXBwbHkgdG8gcG9pbnRlciBldmVudHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAqIHByZXZlbnREZWZhdWx0IG9uIHBvaW50ZXIgZXZlbnRzIHN0b3BzIG1vdXNlIGV2ZW50cyBmcm9tIGZpcmluZ1xuICAgICAgICAgKiBUaHVzLCBmb3IgZXZlcnkgcG9pbnRlciBldmVudCwgdGhlcmUgd2lsbCBhbHdheXMgYmUgZWl0aGVyIGEgbW91c2Ugb2YgdG91Y2ggZXZlbnQgYWxvbmdzaWRlIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSByZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgYXQgd2hpY2ggcG9pbnRlciBvdmVyL291dCBzdGF0ZXMgd2lsbCBiZSBjaGVja2VkIGJ5IHtAbGluayB0aWNrZXJVcGRhdGV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IG9wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgfHwgMTA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW91c2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlID0gbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICBfdGhpcy5tb3VzZS5pZGVudGlmaWVyID0gTU9VU0VfUE9JTlRFUl9JRDtcbiAgICAgICAgLy8gc2V0dGluZyB0aGUgbW91c2UgdG8gc3RhcnQgb2ZmIGZhciBvZmYgc2NyZWVuIHdpbGwgbWVhbiB0aGF0IG1vdXNlIG92ZXIgZG9lc1xuICAgICAgICAvLyAgbm90IGdldCBjYWxsZWQgYmVmb3JlIHdlIGV2ZW4gbW92ZSB0aGUgbW91c2UuXG4gICAgICAgIF90aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLkludGVyYWN0aW9uRGF0YT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEgPSB7fTtcbiAgICAgICAgX3RoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW01PVVNFX1BPSU5URVJfSURdID0gX3RoaXMubW91c2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVudXNlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGV2ZW50IGRhdGEgb2JqZWN0IHRvIGhhbmRsZSBhbGwgdGhlIGV2ZW50IHRyYWNraW5nL2Rpc3BhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50RGF0YSA9IG5ldyBJbnRlcmFjdGlvbkV2ZW50KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHByb3BlcnR5IGRldGVybWluZXMgaWYgbW91c2Vtb3ZlIGFuZCB0b3VjaG1vdmUgZXZlbnRzIGFyZSBmaXJlZCBvbmx5IHdoZW4gdGhlIGN1cnNvclxuICAgICAgICAgKiBpcyBvdmVyIHRoZSBvYmplY3QuXG4gICAgICAgICAqIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIG1ha2UgdGhpbmdzIHdvcmsgbW9yZSBpbiBsaW5lIHdpdGggaG93IHRoZSBET00gdmVyc2lvbiB3b3Jrcy5cbiAgICAgICAgICogU2V0dGluZyB0byBmYWxzZSBjYW4gbWFrZSB0aGluZ3MgZWFzaWVyIGZvciB0aGluZ3MgbGlrZSBkcmFnZ2luZ1xuICAgICAgICAgKiBJdCBpcyBjdXJyZW50bHkgc2V0IHRvIGZhbHNlIGFzIHRoaXMgaXMgaG93IFBpeGlKUyB1c2VkIHRvIHdvcmsuIFRoaXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSBpblxuICAgICAgICAgKiBmdXR1cmUgdmVyc2lvbnMgb2YgcGl4aS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdmVXaGVuSW5zaWRlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhcyB0aGUgc3lzdGVtIHRpY2tlciBiZWVuIGFkZGVkP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIG1vdXNlIGhvdmVyaW5nIG92ZXIgdGhlIHJlbmRlcmVyP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgdG91Y2ggZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlclVwID0gX3RoaXMub25Qb2ludGVyVXAuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBfdGhpcy5wcm9jZXNzUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBfdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck1vdmUgPSBfdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBfdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck91dCA9IF90aGlzLm9uUG9pbnRlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpY3Rpb25hcnkgb2YgaG93IGRpZmZlcmVudCBjdXJzb3IgbW9kZXMgYXJlIGhhbmRsZWQuIFN0cmluZ3MgYXJlIGhhbmRsZWQgYXMgQ1NTIGN1cnNvclxuICAgICAgICAgKiB2YWx1ZXMsIG9iamVjdHMgYXJlIGhhbmRsZWQgYXMgZGljdGlvbmFyaWVzIG9mIENTUyB2YWx1ZXMgZm9yIGludGVyYWN0aW9uRE9NRWxlbWVudCxcbiAgICAgICAgICogYW5kIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluc3RlYWQgb2YgY2hhbmdpbmcgdGhlIENTUy5cbiAgICAgICAgICogRGVmYXVsdCBDU1MgY3Vyc29yIHZhbHVlcyBhcmUgcHJvdmlkZWQgZm9yICdkZWZhdWx0JyBhbmQgJ3BvaW50ZXInIG1vZGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgT2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJyxcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb2RlIG9mIHRoZSBjdXJzb3IgdGhhdCBpcyBiZWluZyB1c2VkLlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhpcyBpcyBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudEN1cnNvck1vZGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheWVkIHBvaW50ZXIgZXZlbnRzLiBVc2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0IG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmVlU2VhcmNoIGNvbXBvbmVudCB0aGF0IGlzIHVzZWQgdG8gaGl0VGVzdCBzdGFnZSB0cmVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJlZVNlYXJjaH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNlYXJjaCA9IG5ldyBUcmVlU2VhcmNoKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGFzIGEgbGFzdCByZW5kZXJlZCBvYmplY3QgaW4gY2FzZSByZW5kZXJlciBkb2VzbnQgaGF2ZSBfbGFzdE9iamVjdFJlbmRlcmVkXG4gICAgICAgICAqIEBtZW1iZXIge0Rpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3QgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnQuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91c2VTeXN0ZW1UaWNrZXIgPSBvcHRpb25zLnVzZVN5c3RlbVRpY2tlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXIgOiB0cnVlO1xuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLCBcInVzZVN5c3RlbVRpY2tlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgdGhlIEludGVyYWN0aW9uTWFuYWdlciBhdXRvbWF0aWNhbGx5IGFkZCB7QGxpbmsgdGlja2VyVXBkYXRlfSB0byB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlU3lzdGVtVGlja2VyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VTeXN0ZW1UaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZVN5c3RlbVRpY2tlciA9IHVzZVN5c3RlbVRpY2tlcjtcbiAgICAgICAgICAgIGlmICh1c2VTeXN0ZW1UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSwgXCJsYXN0T2JqZWN0UmVuZGVyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTGFzdCByZW5kZXJlZCBvYmplY3Qgb3IgdGVtcCBvYmplY3RcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkIHx8IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gKGdsb2JhbFBvaW50LCByb290KSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuICAgICAgICByZXR1cm4gaGl0VGVzdEV2ZW50LnRhcmdldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgdGlja2VyIGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tlckFkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCB8fCAhdGhpcy5fdXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSB0aWNrZXIgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpY2tlckFkZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZTtcbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9ICdub25lJztcbiAgICAgICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBsb29rIGRpcmVjdGx5IGZvciB0b3VjaCBldmVudHMgc28gdGhhdCB3ZSBjYW4gcHJvdmlkZSBvcmlnaW5hbCBkYXRhXG4gICAgICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGNoYW5nZSB0aGlzIHRvIGJlaW5nIGp1c3QgYSBmYWxsYmFjayBhbmQgcmVseSBzb2xlbHkgb25cbiAgICAgICAgLy8gUG9pbnRlckV2ZW50cyB3aGVuZXZlciBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50c0FkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlO1xuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gJyc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMgaWYgYXQgbGVhc3Qge0BsaW5rIGludGVyYWN0aW9uRnJlcXVlbmN5fVxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogSW52b2tlZCBieSBhIHRocm90dGxlZCB0aWNrZXIgdXBkYXRlIGZyb20ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBkZWx0YSBzaW5jZSB0aGUgbGFzdCBjYWxsXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS50aWNrZXJVcGRhdGUgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgdXNlciBtb3ZlIHRoZSBtb3VzZSB0aGlzIGNoZWNrIGhhcyBhbHJlYWR5IGJlZW4gZG9uZSB1c2luZyB0aGUgbW91c2UgbW92ZSFcbiAgICAgICAgaWYgKHRoaXMuX2RpZE1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuICAgICAgICAvLyBvbmx5IGRvIHRoaW5ncyBpZiB0aGVyZSBpcyBhIGN1cnNvciBzdHlsZSBmb3IgaXRcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgLy8gRXZlbiBpZiB0aGUgZXZlbnQgd2FzIHN0b3BwZWQsIGF0IGxlYXN0IGRpc3BhdGNoIGFueSByZW1haW5pbmcgZXZlbnRzXG4gICAgICAgIC8vIGZvciB0aGUgc2FtZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcFByb3BhZ2F0aW9uSGludCB8fCBkaXNwbGF5T2JqZWN0ID09PSBldmVudERhdGEuc3RvcHNQcm9wYWdhdGluZ0F0KSB7XG4gICAgICAgICAgICBldmVudERhdGEuY3VycmVudFRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICBldmVudERhdGEudHlwZSA9IGV2ZW50U3RyaW5nO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHV0cyBhIGV2ZW50IG9uIGEgcXVldWUgdG8gYmUgZGlzcGF0Y2hlZCBsYXRlci4gVGhpcyBpcyB1c2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0XG4gICAgICogb3JkZXJpbmcgb2Ygb3Zlci9vdXQgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZWxheURpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMucHVzaCh7IGRpc3BsYXlPYmplY3Q6IGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nOiBldmVudFN0cmluZywgZXZlbnREYXRhOiBldmVudERhdGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5tYXBQb3NpdGlvblRvUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIHgsIHkpIHtcbiAgICAgICAgdmFyIHJlY3Q7XG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxLjAgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHBvaW50LnggPSAoKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gaW5kaWNhdGVzIHdoZXRoZXIgd2Ugd2FudCB0byBjYWxjdWxhdGUgaGl0c1xuICAgICAqICBvciBqdXN0IGl0ZXJhdGUgdGhyb3VnaCBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpIHtcbiAgICAgICAgdmFyIGhpdCA9IHRoaXMuc2VhcmNoLmZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCk7XG4gICAgICAgIHZhciBkZWxheWVkRXZlbnRzID0gdGhpcy5kZWxheWVkRXZlbnRzO1xuICAgICAgICBpZiAoIWRlbGF5ZWRFdmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gaGl0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LCBiZWNhdXNlIHdlIHN0YXJ0IGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWxheWVkTGVuID0gZGVsYXllZEV2ZW50cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gZGVsYXllZEV2ZW50c1tpXSwgZGlzcGxheU9iamVjdF8xID0gX2EuZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcgPSBfYS5ldmVudFN0cmluZywgZXZlbnREYXRhID0gX2EuZXZlbnREYXRhO1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSByZWFjaCB0aGUgb2JqZWN0IHdlIHdhbnRlZCB0byBzdG9wIHByb3BhZ2F0aW5nIGF0LFxuICAgICAgICAgICAgLy8gc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LlxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQgPT09IGRpc3BsYXlPYmplY3RfMSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0XzEsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHByZXNzZWQgZG93blxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyRG93biA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvLyBHdWFyYW50ZWVkIHRoYXQgdGhlcmUgd2lsbCBiZSBhdCBsZWFzdCBvbmUgZXZlbnQgaW4gZXZlbnRzLCBhbmQgYWxsIGV2ZW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgcG9pbnRlciB0eXBlXG4gICAgICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKSB7XG4gICAgICAgICAgICB2YXIgY2FuY2VsYWJsZSA9IG9yaWdpbmFsRXZlbnQuY2FuY2VsYWJsZSB8fCAhKCdjYW5jZWxhYmxlJyBpbiBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIGlmIChjYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1pdCBhIG1vdXNlIGV2ZW50IGZvciBcInBlblwiIHBvaW50ZXJzLCB0aGUgd2F5IGEgYnJvd3NlciB3b3VsZCBlbWl0IGEgZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBkb3duIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckRvd24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjYW5jZWxsZWQgLSB0cnVlIGlmIHRoZSBwb2ludGVyIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiBwYXNzZWQgdG8ge0BsaW5rIHByb2Nlc3NJbnRlcmFjdGl2ZX1cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNvbXBsZXRlID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQsIGNhbmNlbGxlZCwgZnVuYykge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgd2Fzbid0IHRhcmdldGluZyBvdXIgY2FudmFzLCB0aGVuIGNvbnNpZGVyIGl0IHRvIGJlIHBvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgLy8gaW4gYWxsIGNhc2VzICh1bmxlc3MgaXQgd2FzIGEgcG9pbnRlcmNhbmNlbClcbiAgICAgICAgdmFyIGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgLy8gcGVyZm9ybSBoaXQgdGVzdGluZyBmb3IgZXZlbnRzIHRhcmdldGluZyBvdXIgY2FudmFzIG9yIGNhbmNlbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCBmdW5jLCBjYW5jZWxsZWQgfHwgIWV2ZW50QXBwZW5kKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiBcInBvaW50ZXJ1cFwiICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gXCJyaWdodHVwXCIgKyBldmVudEFwcGVuZCA6IFwibW91c2V1cFwiICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6IFwidG91Y2hlbmRcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIGNhbmNlbGxlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgY2FuY2VsIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlclVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgZmFsc2UsIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciB1cCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIG1vdXNlIGRvd24gc3RhdHVzIGluIHRoZSBtb3VzZSBibG9jayBzbyB0aGF0IHdlIGNhbiBlbWl0XG4gICAgICAgIC8vIGV2ZW50IGluIGEgbGF0ZXIgYmxvY2tcbiAgICAgICAgdmFyIGlzTW91c2VUYXAgPSBmYWxzZTtcbiAgICAgICAgLy8gTW91c2Ugb25seVxuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgIHZhciBmbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTO1xuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSB0cmFja2luZ0RhdGEgIT09IHVuZGVmaW5lZCAmJiAodHJhY2tpbmdEYXRhLmZsYWdzICYgdGVzdCk7XG4gICAgICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgOiAnbW91c2V1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRjbGljaycgOiAnY2xpY2snLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4gY29uZmlybSB0aGF0IHRoZSBtb3VzZWRvd24gaGFwcGVuZWQgb24gdGhpcyBvYmplY3QsIGZsYWcgZm9yIGxhdGVyIGVtaXQgb2YgcG9pbnRlcnRhcFxuICAgICAgICAgICAgICAgICAgICBpc01vdXNlVGFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5sZWZ0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmQnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIGVtaXQgcG9pbnRlcnRhcCBpZiBub3QgYSBtb3VzZSwgb3IgaWYgdGhlIG1vdXNlIGJsb2NrIGRlY2lkZWQgaXQgd2FzIGEgdGFwXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdXNlIHx8IGlzTW91c2VUYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIHRyYWNraW5nIGRhdGEgaWYgdGhlcmUgaXMgbm8gb3Zlci9kb3duIHN0YXRlIHN0aWxsIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhICYmIHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBtb3ZpbmdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck1vdmUgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWRNb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5lbWl0KCdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgbW92ZSBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1vdmVXaGVuSW5zaWRlIHx8IGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdXQgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcikge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgaWYgKHBvaW50ZXJJZCA9PT0gTU9VU0VfUE9JTlRFUl9JRCB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5tb3VzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnBvcCgpIHx8IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyID0gcG9pbnRlcklkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSB0aGUgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIG1ha2Ugc3VyZSB0aGF0IHRvdWNoL3BvaW50ZXIgc3BlY2lmaWNcbiAgICAgICAgLy8gZGF0YSBpcyBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmNvcHlFdmVudChldmVudCk7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkRhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdW51c2VkIEludGVyYWN0aW9uRGF0YSB0byB0aGUgcG9vbCwgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBJZGVudGlmaWVyIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gKHBvaW50ZXJJZCkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBhbiBJbnRlcmFjdGlvbkV2ZW50IHRvIHdyYXAgYSBET00gUG9pbnRlckV2ZW50IGFuZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgLSBUaGUgRE9NIGV2ZW50IHRoYXQgd2lsbCBiZSBwYWlyZWQgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkRhdGF9IGludGVyYWN0aW9uRGF0YSAtIFRoZSBJbnRlcmFjdGlvbkRhdGEgdGhhdCB3aWxsIGJlIHBhaXJlZFxuICAgICAqICAgICAgICB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHJldHVybiB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSB0aGUgaW50ZXJhY3Rpb24gZXZlbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgcG9pbnRlckV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLCBwb2ludGVyRXZlbnQuY2xpZW50WCwgcG9pbnRlckV2ZW50LmNsaWVudFkpO1xuICAgICAgICAvLyBOb3QgcmVhbGx5IHN1cmUgd2h5IHRoaXMgaXMgaGFwcGVuaW5nLCBidXQgaXQncyBob3cgYSBwcmV2aW91cyB2ZXJzaW9uIGhhbmRsZWQgdGhpbmdzXG4gICAgICAgIGlmIChwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxYID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54O1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFkgPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnk7XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRXZlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm4ge1BvaW50ZXJFdmVudFtdfSBBbiBhcnJheSBjb250YWluaW5nIGEgc2luZ2xlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgaW4gdGhlIGNhc2Ugb2YgYSBwb2ludGVyXG4gICAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplVG9Qb2ludGVyRGF0YSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50cyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9uID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5idXR0b24gPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5idXR0b25zID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJzsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudHdpc3QgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlLCBhcyBsYXllclgvWSBpcyBub3QgYSBzdGFuZGFyZCwgaXMgZGVwcmVjYXRlZCwgaGFzIHVuZXZlblxuICAgICAgICAgICAgICAgIC8vIHN1cHBvcnQsIGFuZCB0aGUgZmlsbCBpbnMgYXJlIG5vdCBxdWl0ZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIG9mZnNldFgvWSBtaWdodCBiZSBva2F5LCBidXQgaXMgbm90IHRoZSBzYW1lIGFzIGNsaWVudFgvWSB3aGVuIHRoZSBjYW52YXMncyB0b3BcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGlzIG5vdCAwLDAgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gubGF5ZXJYID0gdG91Y2gub2Zmc2V0WCA9IHRvdWNoLmNsaWVudFg7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7IH1cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwYXJlbnRseSBQb2ludGVyRXZlbnQgc3ViY2xhc3NlcyBNb3VzZUV2ZW50LCBzbyB5YXlcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmICghdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgfHwgIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQpKSkge1xuICAgICAgICAgICAgdmFyIHRlbXBFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQuaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5pc1ByaW1hcnkgPSB0cnVlOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQud2lkdGggPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LmhlaWdodCA9IDE7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRpbHRYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wb2ludGVyVHlwZSA9ICdtb3VzZSc7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucG9pbnRlcklkID0gTU9VU0VfUE9JTlRFUl9JRDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnByZXNzdXJlID0gMC41OyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudHdpc3QgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7IH1cbiAgICAgICAgICAgIC8vIG1hcmsgdGhlIG1vdXNlIGV2ZW50IGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgdGVtcEV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godGVtcEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlclxuICAgICAqXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuICAgICAgICB0aGlzLnJlbW92ZVRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcmFjdGlvbk1hbmFnZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG5leHBvcnQgeyBJbnRlcmFjdGlvbkRhdGEsIEludGVyYWN0aW9uRXZlbnQsIEludGVyYWN0aW9uTWFuYWdlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEsIGludGVyYWN0aXZlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmFjdGlvbi5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcnVubmVyIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3J1bm5lciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogQSBSdW5uZXIgaXMgYSBoaWdobHkgcGVyZm9ybWFudCBhbmQgc2ltcGxlIGFsdGVybmF0aXZlIHRvIHNpZ25hbHMuIEJlc3QgdXNlZCBpbiBzaXR1YXRpb25zXG4gKiB3aGVyZSBldmVudHMgYXJlIGRpc3BhdGNoZWQgdG8gbWFueSBvYmplY3RzIGF0IGhpZ2ggZnJlcXVlbmN5IChzYXkgZXZlcnkgZnJhbWUhKVxuICpcbiAqXG4gKiBsaWtlIGEgc2lnbmFsLi5cbiAqIGBgYFxuICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAqXG4gKiBjb25zdCBteU9iamVjdCA9IHtcbiAqICAgICBsb2FkZWQ6IG5ldyBSdW5uZXIoJ2xvYWRlZCcpXG4gKiB9XG4gKlxuICogY29uc3QgbGlzdGVuZXIgPSB7XG4gKiAgICAgbG9hZGVkOiBmdW5jdGlvbigpe1xuICogICAgICAgICAvLyB0aGluXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15T2JqZWN0LnVwZGF0ZS5hZGQobGlzdGVuZXIpO1xuICpcbiAqIG15T2JqZWN0LmxvYWRlZC5lbWl0KCk7XG4gKiBgYGBcbiAqXG4gKiBPciBmb3IgaGFuZGxpbmcgY2FsbGluZyB0aGUgc2FtZSBmdW5jdGlvbiBvbiBtYW55IGl0ZW1zXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlHYW1lID0ge1xuICogICAgIHVwZGF0ZTogbmV3IFJ1bm5lcigndXBkYXRlJylcbiAqIH1cbiAqXG4gKiBjb25zdCBnYW1lT2JqZWN0ID0ge1xuICogICAgIHVwZGF0ZTogZnVuY3Rpb24odGltZSl7XG4gKiAgICAgICAgIC8vIHVwZGF0ZSBteSBnYW1leSBzdGF0ZVxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteUdhbWUudXBkYXRlLmFkZChnYW1lT2JqZWN0MSk7XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5lbWl0KHRpbWUpO1xuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSdW5uZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIGZ1bmN0aW9uIG5hbWUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBSdW5uZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUnVubmVyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoL0Jyb2FkY2FzdCBSdW5uZXIgdG8gYWxsIGxpc3RlbmVycyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIHsuLi5hbnl9IHBhcmFtcyAtIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBlYWNoIGxpc3RlbmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IGFyZ3VtZW50cyByZWFjaGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgbmFtZSA9IF9hLm5hbWUsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQrKztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcykge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUnVubmVyLnByb3RvdHlwZS5lbnN1cmVOb25BbGlhc2VkSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICAgICAqXG4gICAgICogY29uc3QgY29tcGxldGUgPSBuZXcgUnVubmVyKCdjb21wbGV0ZScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHNjb3BlIHVzZWQgd2lsbCBiZSB0aGUgb2JqZWN0IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgbGlzdGVuaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW1bdGhpcy5fbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBkaXNwYXRjaCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5yIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBpcyBhbHJlYWR5IGluIHRoZSBSdW5uZXJcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZyb20gdGhlIFJ1bm5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCByZWZlcmVuY2VzLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9uYW1lID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdW5uZXIucHJvdG90eXBlLCBcImVtcHR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGVyZSBhcmUgbm8gdGhpcyBSdW5uZXIgY29udGFpbnMgbm8gbGlzdGVuZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUnVubmVyLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBydW5uZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJ1bm5lcjtcbn0oKSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSdW5uZXIucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIGRpc3BhdGNoXG4gICAgICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gICAgICovXG4gICAgZGlzcGF0Y2g6IHsgdmFsdWU6IFJ1bm5lci5wcm90b3R5cGUuZW1pdCB9LFxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgZW1pdGBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBydW46IHsgdmFsdWU6IFJ1bm5lci5wcm90b3R5cGUuZW1pdCB9LFxufSk7XG5cbmV4cG9ydCB7IFJ1bm5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVubmVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb3JlIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL2NvcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEVOViwgQUxQSEFfTU9ERVMsIFNDQUxFX01PREVTLCBGT1JNQVRTLCBUWVBFUywgVEFSR0VUUywgTUlQTUFQX01PREVTLCBNU0FBX1FVQUxJVFksIENMRUFSX01PREVTLCBEUkFXX01PREVTLCBCVUZGRVJfQklUUywgTUFTS19UWVBFUywgUFJFQ0lTSU9OLCBCTEVORF9NT0RFUywgR0NfTU9ERVMsIFdSQVBfTU9ERVMsIFJFTkRFUkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNNb2JpbGUsIHVpZCwgaXNQb3cyLCBCYXNlVGV4dHVyZUNhY2hlLCBUZXh0dXJlQ2FjaGUsIEV2ZW50RW1pdHRlciwgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGdldFJlc29sdXRpb25PZlVybCwgbmV4dFBvdzIsIGRlcHJlY2F0aW9uLCBQcm9ncmFtQ2FjaGUsIHJlbW92ZUl0ZW1zLCBoZXgyc3RyaW5nLCBoZXgycmdiLCBzYXlIZWxsbywgaXNXZWJHTFN1cHBvcnRlZCwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIGxvZzIsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgZ3JvdXBEOCwgUmVjdGFuZ2xlLCBQb2ludCwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogVGhlIG1heGltdW0gc3VwcG9ydCBmb3IgdXNpbmcgV2ViR0wuIElmIGEgZGV2aWNlIGRvZXMgbm90XG4gKiBzdXBwb3J0IFdlYkdMIHZlcnNpb24sIGZvciBpbnN0YW5jZSBXZWJHTCAyLCBpdCB3aWxsIHN0aWxsXG4gKiBhdHRlbXB0IHRvIGZhbGxiYWNrIHN1cHBvcnQgdG8gV2ViR0wgMS4gSWYgeW91IHdhbnQgdG9cbiAqIGV4cGxpY2l0bHkgcmVtb3ZlIGZlYXR1cmUgc3VwcG9ydCB0byB0YXJnZXQgYSBtb3JlIHN0YWJsZVxuICogYmFzZWxpbmUsIHByZWZlciBhIGxvd2VyIGVudmlyb25tZW50LlxuICpcbiAqIER1ZSB0byB7QGxpbmsgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM0ODIzfGJ1ZyBpbiBjaHJvbWl1bX1cbiAqIHdlIGRpc2FibGUgd2ViZ2wyIGJ5IGRlZmF1bHQgZm9yIGFsbCBub24tYXBwbGUgbW9iaWxlIGRldmljZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MuUFJFRkVSX0VOViA9IGlzTW9iaWxlLmFueSA/IEVOVi5XRUJHTCA6IEVOVi5XRUJHTDI7XG4vKipcbiAqIElmIHNldCB0byBgdHJ1ZWAsICpvbmx5KiBUZXh0dXJlcyBhbmQgQmFzZVRleHR1cmUgb2JqZWN0cyBzdG9yZWRcbiAqIGluIHRoZSBjYWNoZXMgKHtAbGluayBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZSBUZXh0dXJlQ2FjaGV9IGFuZFxuICoge0BsaW5rIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZSBCYXNlVGV4dHVyZUNhY2hlfSkgY2FuIGJlXG4gKiB1c2VkIHdoZW4gY2FsbGluZyB7QGxpbmsgUElYSS5UZXh0dXJlLmZyb20gVGV4dHVyZS5mcm9tfSBvclxuICoge0BsaW5rIFBJWEkuQmFzZVRleHR1cmUuZnJvbSBCYXNlVGV4dHVyZS5mcm9tfS5cbiAqIE90aGVyd2lzZSwgdGhlc2UgYGZyb21gIGNhbGxzIHRocm93IGFuIGV4Y2VwdGlvbi4gVXNpbmcgdGhpcyBwcm9wZXJ0eVxuICogY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBlbmZvcmNlIHByZWxvYWRpbmcgYWxsIGFzc2V0cyB3aXRoXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTVFJJQ1RfVEVYVFVSRV9DQUNIRVxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEUgPSBmYWxzZTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCByZXNvdXJjZSB0eXBlcywgY2xhc3MgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkucmVzb3VyY2VzLlJlc291cmNlfS5cbiAqIEBleGFtcGxlXG4gKiBjbGFzcyBDdXN0b21SZXNvdXJjZSBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlIHtcbiAqICAgLy8gTVVTVCBoYXZlIHNvdXJjZSwgb3B0aW9ucyBjb25zdHJ1Y3RvciBzaWduYXR1cmVcbiAqICAgLy8gZm9yIGF1dG8tZGV0ZWN0ZWQgcmVzb3VyY2VzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucykge1xuICogICAgIHN1cGVyKCk7XG4gKiAgIH1cbiAqICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gKiAgICAgLy8gdXBsb2FkIHdpdGggR0xcbiAqICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgfVxuICogICAvLyB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlXG4gKiAgIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gKiAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3h5eid8fCBzb3VyY2UgaW5zdGFuY2VvZiBTb21lQ2xhc3M7XG4gKiAgIH1cbiAqIH1cbiAqIC8vIEluc3RhbGwgdGhlIG5ldyByZXNvdXJjZSB0eXBlXG4gKiBQSVhJLnJlc291cmNlcy5JTlNUQUxMRUQucHVzaChDdXN0b21SZXNvdXJjZSk7XG4gKlxuICogQG5hbWUgUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVEXG4gKiBAdHlwZSB7QXJyYXk8Kj59XG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqL1xudmFyIElOU1RBTExFRCA9IFtdO1xuLyoqXG4gKiBDcmVhdGUgYSByZXNvdXJjZSBlbGVtZW50IGZyb20gYSBzaW5nbGUgc291cmNlIGVsZW1lbnQuIFRoaXNcbiAqIGF1dG8tZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHJlc291cmNlIHRvIGNyZWF0ZS4gQWxsIHJlc291cmNlcyB0aGF0XG4gKiBhcmUgYXV0by1kZXRlY3RhYmxlIG11c3QgaGF2ZSBhIHN0YXRpYyBgdGVzdGAgbWV0aG9kIGFuZCBhIGNvbnN0cnVjdG9yXG4gKiB3aXRoIHRoZSBhcmd1bWVudHMgYChzb3VyY2UsIG9wdGlvbnM/KWAuIEN1cnJlbnRseSwgdGhlIHN1cHBvcnRlZFxuICogcmVzb3VyY2VzIGZvciBhdXRvLWRldGVjdGlvbiBpbmNsdWRlOlxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQ2FudmFzUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuVmlkZW9SZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZX1cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSBUaGUgY3JlYXRlZCByZXNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZXh0ZW5zaW9uID0gJyc7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIHZhciByZXN1bHQgPSAoL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pKS5leGVjKHNvdXJjZSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBJTlNUQUxMRUQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIHNvdXJjZSB0eXBlIHRvIGF1dG8tZGV0ZWN0IFJlc291cmNlJyk7XG59XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJhc2UgcmVzb3VyY2UgY2xhc3MgZm9yIHRleHR1cmVzIHRoYXQgbWFuYWdlcyB2YWxpZGF0aW9uIGFuZCB1cGxvYWRpbmcsIGRlcGVuZGluZyBvbiBpdHMgdHlwZS5cbiAqXG4gKiBVcGxvYWRpbmcgb2YgYSBiYXNlIHRleHR1cmUgdG8gdGhlIEdQVSBpcyByZXF1aXJlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc291cmNlKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB3aWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHJlc291cmNlIGhhcyBiZWVuIGRlc3Ryb3llZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgcmVzb3VyY2UgaXMgY3JlYXRlZCBieSBCYXNlVGV4dHVyZVxuICAgICAgICAgKiB1c2VmdWwgZm9yIGRvaW5nIGNsZWFudXAgd2l0aCBCYXNlVGV4dHVyZSBkZXN0cm95XG4gICAgICAgICAqIGFuZCBub3QgY2xlYW5pbmcgdXAgcmVzb3VyY2VzIHRoYXQgd2VyZSBjcmVhdGVkXG4gICAgICAgICAqIGV4dGVybmFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWwgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyByZXNpemUgZXZlbnRzXG4gICAgICAgICAqIGFjY2VwdHMgMiBwYXJhbWV0ZXJzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHVwZGF0ZSBldmVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoJ3VwZGF0ZScpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIGludGVybmFsIGVycm9ycywgc3VjaCBhcyBsb2FkaW5nIGVycm9yc1xuICAgICAgICAgKiBhY2NlcHRzIDEgcGFyYW06IGVycm9yXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBSdW5uZXIoJ29uRXJyb3InKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICAvLyBDYWxsIGEgcmVzaXplIGltbWVkaWF0ZSBpZiB3ZSBhbHJlYWR5XG4gICAgICAgIC8vIGhhdmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCB8fCB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSByZXNpemUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBYIGRpbWVuc2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBZIGRpbWVuc2lvblxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggIT09IHRoaXMuX3dpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5lbWl0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcInZhbGlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fd2lkdGggJiYgISF0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIYXMgYmVlbiB1cGRhdGVkIHRyaWdnZXIgZXZlbnRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLmVtaXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAgICAgKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNvdXJjZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSwgb3B0aW9uYWwgdG8gb3ZlcnJpZGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB5ZWFoLCByZW5kZXJlciFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiAoX3JlbmRlcmVyLCBfYmFzZVRleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgYW55dGhpbmcsIHRoaXMgaGFwcGVucyB3aGVuIGRlc3Ryb3lpbmcgaXMgcmVhZHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG92ZXJyaWRlXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsIHdoZW4gZGVzdHJveWluZyByZXNvdXJjZSwgdW5iaW5kIGFueSBCYXNlVGV4dHVyZSBvYmplY3RcbiAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCwgYXMgcmVmZXJlbmNlIGNvdW50cyBhcmUgbWFpbnRhaW5lZFxuICAgICAqIGludGVybmFsbHkuXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QsIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2UgdHlwZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIFJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoX3NvdXJjZSwgX2V4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzb3VyY2U7XG59KCkpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgU2hhcmVkQXJyYXlCdWZmZXJcbiAqL1xuLyoqXG4gKiBCdWZmZXIgcmVzb3VyY2Ugd2l0aCBkYXRhIG9mIHR5cGVkIGFycmF5LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBCdWZmZXJSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnVmZmVyUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX0gc291cmNlIC0gU291cmNlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdWZmZXJSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgYXJyYXlcbiAgICAgICAgICogQ2Fubm90IGJlIENsYW1wZWRVaW50OEFycmF5IGJlY2F1c2UgaXQgY2FudCBiZSB1cGxvYWRlZCB0byBXZWJHTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRhdGEgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCAwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiA8Y2FudmFzPlxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5O1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlclJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG52YXIgZGVmYXVsdEJ1ZmZlck9wdGlvbnMgPSB7XG4gICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgIGZvcm1hdDogRk9STUFUUy5SR0JBLFxuICAgIGFscGhhTW9kZTogQUxQSEFfTU9ERVMuTlBNLFxufTtcbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVRleHR1cmUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZVRleHR1cmUocmVzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHJlc291cmNlID09PSB2b2lkIDApIHsgcmVzb3VyY2UgPSBudWxsOyB9XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IG51bGw7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBhbHBoYU1vZGUgPSBvcHRpb25zLmFscGhhTW9kZSwgbWlwbWFwID0gb3B0aW9ucy5taXBtYXAsIGFuaXNvdHJvcGljTGV2ZWwgPSBvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWwsIHNjYWxlTW9kZSA9IG9wdGlvbnMuc2NhbGVNb2RlLCB3aWR0aCA9IG9wdGlvbnMud2lkdGgsIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LCB3cmFwTW9kZSA9IG9wdGlvbnMud3JhcE1vZGUsIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0LCB0eXBlID0gb3B0aW9ucy50eXBlLCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCwgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiwgcmVzb3VyY2VPcHRpb25zID0gb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHJlc291cmNlIHRvIGEgUmVzb3VyY2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZSAmJiAhKHJlc291cmNlIGluc3RhbmNlb2YgUmVzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZSwgcmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gd2lkdGggfHwgMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWlwbWFwID0gbWlwbWFwICE9PSB1bmRlZmluZWQgPyBtaXBtYXAgOiBzZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaXNvdHJvcGljTGV2ZWwgPSBhbmlzb3Ryb3BpY0xldmVsICE9PSB1bmRlZmluZWQgPyBhbmlzb3Ryb3BpY0xldmVsIDogc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdGhlIHRleHR1cmUgd3JhcHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBzZXR0aW5ncy5TQ0FMRV9NT0RFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgRk9STUFUUy5SR0JBO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcmVzb3VyY2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRZUEVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UQVJHRVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRBUkdFVFMuVEVYVFVSRV8yRFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFRBUkdFVFMuVEVYVFVSRV8yRDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0byB0cmVhdCBwcmVtdWx0aXBsaWVkIGFscGhhLCBzZWUge0BsaW5rIFBJWEkuQUxQSEFfTU9ERVN9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFMUEhBX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkFMUEhBX01PREVTLlVOUEFDS1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNb2RlID0gYWxwaGFNb2RlICE9PSB1bmRlZmluZWQgPyBhbHBoYU1vZGUgOiBBTFBIQV9NT0RFUy5VTlBBQ0s7XG4gICAgICAgIGlmIChvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gdHJpZ2dlcnMgZGVwcmVjYXRpb25cbiAgICAgICAgICAgIF90aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVpZCA9IHVpZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBhdXRvbWF0aWMgdGV4dHVyZSBHYXJiYWdlIENvbGxlY3Rpb24sIHN0b3JlcyBsYXN0IEdDIHRpY2sgd2hlbiBpdCB3YXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b3VjaGVkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgcmVuZGVyIGNvbnRleHQgdGV4dHVyZXMgd2hlcmUgdGhpcyBpcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgdG8gdGhlIEdQVSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZSgpYCB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5U3R5bGVJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZGVmYXVsdCBjYWNoZSBJRC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZW5lcmFsbHkgc3BlYWtpbmcgbWVhbnMgd2hlbiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGFsdGVybmF0aXZlIGNhY2hlIGlkcywgc2luY2Ugc29tZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICogY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBJRCwgc2hvcnQgbmFtZSBhbmQgbG9uZ2VyIGZ1bGwgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIEJhc2VUZXh0dXJlIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB1c2VkIGJ5IHRoaXMgQmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5XG4gICAgICAgICAqIGJlIG9uZSByZXNvdXJjZSBwZXIgQmFzZVRleHR1cmUsIGJ1dCB0ZXh0dXJlcyBjYW4gc2hhcmVcbiAgICAgICAgICogcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhdGlvbiBpbnNpZGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0cyBhIHBhcnQgb2YgYW5vdGhlciB0ZXh0dXJlLCBoYW5kbGVkIGJ5IEFycmF5UmVzb3VyY2Ugb3IgQ3ViZVJlc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBMb2FkIGVycm9yIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvLyBTZXQgdGhlIHJlc291cmNlXG4gICAgICAgIF90aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcInJlYWxXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJyZWFsSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBpeGVsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbc2NhbGVNb2RlXSAtIFBpeGkgc2NhbGVtb2RlXG4gICAgICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW21pcG1hcF0gLSBlbmFibGUgbWlwbWFwc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKHNjYWxlTW9kZSwgbWlwbWFwKSB7XG4gICAgICAgIHZhciBkaXJ0eTtcbiAgICAgICAgaWYgKHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkICYmIHNjYWxlTW9kZSAhPT0gdGhpcy5zY2FsZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVmlzdWFsIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyByZWFsIHNpemUgb2YgYmFzZVRleHR1cmUsIHByZXNlcnZlcyBjdXJyZW50IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gRnVsbCByZW5kZXJlZCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IC0gRnVsbCByZW5kZXJlZCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlYWxTaXplID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlYWxXaWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWFsSGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBjaGVjayBmb3IgaXNQb3dlck9mVHdvIHRleHR1cmUgYmFzZWQgb24gc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3JlZnJlc2hQT1QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBpc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlc291cmNlIGlmIGl0IHdhc24ndCBzZXQuIFRocm93cyBlcnJvciBpZiByZXNvdXJjZSBhbHJlYWR5IHByZXNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlIC0gdGhhdCBpcyBtYW5hZ2luZyB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb3VyY2UgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHJlc291cmNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgb2JqZWN0LiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA+IDAgJiYgdGhpcy5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGVycm9ycyB3aXRoIHJlc291cmNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBFcnJvciBldmVudCBlbWl0dGVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzLCBldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZS5cbiAgICAgKiBUaGUgbWV0aG9kIHN0b3BzIGlmIHJlc291cmNlIGRvZXNuJ3Qgd2FudCB0aGlzIHRleHR1cmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIFJlbW92ZXMgdGV4dHVyZSBmcm9tIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgZGVzdHJveSB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudW5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgLy8gb25seSBkZXN0cm95IHJlc291cmNlZCBjcmVhdGVkIGludGVybmFsbHlcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlLmludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYWNoZUlkKSB7XG4gICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmNhc3RUb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxTVkdFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFRoZVxuICAgICAqICAgICAgICBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gXCJwaXhpaWRfXCIgKyB1aWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBCYXNlVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgICAgICAvLyBTdHJpY3QtbW9kZSByZWplY3RzIGludmFsaWQgY2FjaGVJZHNcbiAgICAgICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNhY2hlSWQgXFxcIlwiICsgY2FjaGVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiBCYXNlVGV4dHVyZUNhY2hlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQmFzZVRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIC0gVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBUWVBFUy5GTE9BVCA6IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIHJldHVybiBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIE9iamVjdC5hc3NpZ24oZGVmYXVsdEJ1ZmZlck9wdGlvbnMsIG9wdGlvbnMgfHwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCB0eXBlOiB0eXBlIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQmFzZVRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgbnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG4gICAgcmV0dXJuIEJhc2VUZXh0dXJlO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0aGF0IGNhbiBtYW5hZ2Ugc2V2ZXJhbCByZXNvdXJjZSAoaXRlbXMpIGluc2lkZS5cbiAqIEFsbCByZXNvdXJjZXMgbmVlZCB0byBoYXZlIHRoZSBzYW1lIHBpeGVsIHNpemUuXG4gKiBQYXJlbnQgY2xhc3MgZm9yIEN1YmVSZXNvdXJjZSBhbmQgQXJyYXlSZXNvdXJjZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGZvciBSZXNvdXJjZSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gKi9cbnZhciBBYnN0cmFjdE11bHRpUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11bHRpUmVzb3VyY2UobGVuZ3RoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwYXJ0aWFsIGJhc2VUZXh0dXJlcyB0aGF0IGNvcnJlc3BvbmQgdG8gcmVzb3VyY2VzXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmFzZVRleHR1cmU+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLml0ZW1zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBJRHMgZm9yIGVhY2ggcGFydFxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLml0ZW1EaXJ0eUlkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICAgICAgICAgIF90aGlzLml0ZW1zLnB1c2gocGFydFRleHR1cmUpO1xuICAgICAgICAgICAgLy8gLTIgLSBmaXJzdCBydW4gb2YgdGV4dHVyZSBhcnJheSB1cGxvYWRcbiAgICAgICAgICAgIC8vIC0xIC0gdGV4dHVyZSBpdGVtIHdhcyBhbGxvY2F0ZWRcbiAgICAgICAgICAgIC8vID49MCAtIHRleHR1cmUgaXRlbSB1cGxvYWRlZCAsIGluIHN5bmMgd2l0aCBpdGVtc1tpXS5kaXJ0eUlkXG4gICAgICAgICAgICBfdGhpcy5pdGVtRGlydHlJZHMucHVzaCgtMik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyBpbiBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgYmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5IGJlIG9uZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVzZWQgZnJvbSBBcnJheVJlc291cmNlIGFuZCBDdWJlUmVzb3VyY2UgY29uc3RydWN0b3JzXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gcmVzb3VyY2VzIC0gQ2FuIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLiAsXG4gICAgICogIGxlbmd0aCBzaG91bGQgYmUgc2FtZSBhcyBjb25zdHJ1Y3RvciBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gZGV0ZWN0IG9wdGlvbnMgZm9yIHJlc291cmNlc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmluaXRGcm9tQXJyYXkgPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFyZXNvdXJjZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbaV0uY2FzdFRvQmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJhc2VUZXh0dXJlQXQocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKCksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb3VyY2VzW2ldIGluc3RhbmNlb2YgUmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQocmVzb3VyY2VzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2VzW2ldLCBvcHRpb25zKSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVzb3VyY2UgYnkgSURcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmFkZFJlc291cmNlQXQgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZCcpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vbigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9mZigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIHRoZSByZXNvdXJjZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBXaGVuIGxvYWQgaXMgcmVzb2x2ZWRcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ucmVzb3VyY2U7IH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbTsgfSk7XG4gICAgICAgIC8vIFRPRE86IGFsc28gaW1wbGVtZW50IGxvYWQgcGFydC1ieS1wYXJ0IHN0cmF0ZWd5XG4gICAgICAgIHZhciBwcm9taXNlcyA9IHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ubG9hZCgpOyB9KTtcbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuaXRlbXNbMF0sIHJlYWxXaWR0aCA9IF9hLnJlYWxXaWR0aCwgcmVhbEhlaWdodCA9IF9hLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICBfdGhpcy5yZXNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RNdWx0aVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEEgcmVzb3VyY2UgdGhhdCBjb250YWlucyBhIG51bWJlciBvZiBzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8Kj59IHNvdXJjZSAtIE51bWJlciBvZiBpdGVtcyBpbiBhcnJheSBvciB0aGUgY29sbGVjdGlvblxuICogICAgICAgIG9mIGltYWdlIFVSTHMgdG8gdXNlLiBDYW4gYWxzbyBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xudmFyIEFycmF5UmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5UmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJyYXlSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgdXJscztcbiAgICAgICAgdmFyIGxlbmd0aDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBsZW5ndGgsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KSB8fCB0aGlzO1xuICAgICAgICBpZiAodXJscykge1xuICAgICAgICAgICAgX3RoaXMuaW5pdEZyb21BcnJheSh1cmxzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIGJhc2VUZXh0dXJlIGJ5IElELFxuICAgICAqIEFycmF5UmVzb3VyY2UganVzdCB0YWtlcyByZXNvdXJjZSBmcm9tIGl0LCBub3RoaW5nIG1vcmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmFkZEJhc2VUZXh0dXJlQXQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGluZGV4KSB7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5UmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBSZW5kZXJUZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRleHR1cmUgd2FzIHVwbG9hZGVkXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbGVuZ3RoID0gX2EubGVuZ3RoLCBpdGVtRGlydHlJZHMgPSBfYS5pdGVtRGlydHlJZHMsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIHRleHR1cmUuZm9ybWF0LCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCBsZW5ndGgsIDAsIHRleHR1cmUuZm9ybWF0LCB0ZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoaXRlbURpcnR5SWRzW2ldIDwgaXRlbS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgMCwgLy8geG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGksIC8vIHpvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS53aWR0aCwgaXRlbS5yZXNvdXJjZS5oZWlnaHQsIDEsIHRleHR1cmUuZm9ybWF0LCB0ZXh0dXJlLnR5cGUsIGl0ZW0ucmVzb3VyY2Uuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYWxsIHRoZSBpbWFnZS9jYW52YXMgcmVzb3VyY2VzXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEJhc2VJbWFnZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlSW1hZ2VSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlSW1hZ2VSZXNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNvdXJjZUFueSA9IHNvdXJjZTtcbiAgICAgICAgdmFyIHdpZHRoID0gc291cmNlQW55Lm5hdHVyYWxXaWR0aCB8fCBzb3VyY2VBbnkudmlkZW9XaWR0aCB8fCBzb3VyY2VBbnkud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzb3VyY2VBbnkubmF0dXJhbEhlaWdodCB8fCBzb3VyY2VBbnkudmlkZW9IZWlnaHQgfHwgc291cmNlQW55LmhlaWdodDtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byBgdHJ1ZWAsIHdpbGwgZm9yY2UgYHRleEltYWdlMkRgIG92ZXIgYHRleFN1YkltYWdlMkRgIGZvciB1cGxvYWRpbmcuXG4gICAgICAgICAqIENlcnRhaW4gdHlwZXMgb2YgbWVkaWEgKGUuZy4gdmlkZW8pIHVzaW5nIGB0ZXhJbWFnZTJEYCBpcyBtb3JlIHBlcmZvcm1hbnQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub1N1YkltYWdlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNyb3NzIG9yaWdpbiBiYXNlZCBkZXRlY3RpbmcgdGhlIHVybCBhbmQgdGhlIGNyb3Nzb3JpZ2luXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IGNyb3NzT3JpZ2luXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IFtjcm9zc29yaWdpbj10cnVlXSAtIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbiA9IGZ1bmN0aW9uIChlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcm9zc29yaWdpbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gW3NvdXJjZV0gKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSB8fCB0aGlzLnNvdXJjZTtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmICghdGhpcy5ub1N1YkltYWdlXG4gICAgICAgICAgICAmJiBiYXNlVGV4dHVyZS50YXJnZXQgPT09IGdsLlRFWFRVUkVfMkRcbiAgICAgICAgICAgICYmIGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGhcbiAgICAgICAgICAgICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc291cmNlIHdpZHRoL2hlaWdodCB3YXMgY2hhbmdlZCwgcmVzaXplIGNhbiBjYXVzZSBleHRyYSBiYXNlVGV4dHVyZSB1cGRhdGUuXG4gICAgICogVHJpZ2dlcnMgb25lIHVwZGF0ZSBpbiBhbnkgY2FzZS5cbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBDYW52YXMgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIENhbnZhc1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDYW52YXNSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgSFRNTENhbnZhc0VsZW1lbnQgb3IgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICovXG4gICAgQ2FudmFzUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIE9mZnNjcmVlbkNhbnZhcyA9IHdpbmRvdy5PZmZzY3JlZW5DYW52YXM7XG4gICAgICAgIC8vIENoZWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHlldCBzdXBwb3J0IE9mZnNjcmVlbkNhbnZhc1xuICAgICAgICBpZiAoT2Zmc2NyZWVuQ2FudmFzICYmIHNvdXJjZSBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkucmVzb3VyY2VzLlJlc291cmNlPn0gW3NvdXJjZV0gLSBDb2xsZWN0aW9uIG9mIFVSTHMgb3IgcmVzb3VyY2VzXG4gKiAgICAgICAgdG8gdXNlIGFzIHRoZSBzaWRlcyBvZiB0aGUgY3ViZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbWFnZVJlc291cmNlIG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFdoZXRoZXIgdG8gYXV0by1sb2FkIHJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmtCYXNlVGV4dHVyZT10cnVlXSAtIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCxcbiAqICAgd2hldGhlciB0byBjb3B5IHRoZW0gb3IgdXNlXG4gKi9cbnZhciBDdWJlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEN1YmVSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDdWJlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgYXV0b0xvYWQgPSBfYS5hdXRvTG9hZCwgbGlua0Jhc2VUZXh0dXJlID0gX2EubGlua0Jhc2VUZXh0dXJlO1xuICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sZW5ndGggIT09IEN1YmVSZXNvdXJjZS5TSURFUykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZW5ndGguIEdvdCBcIiArIHNvdXJjZS5sZW5ndGggKyBcIiwgZXhwZWN0ZWQgNlwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDYsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KSB8fCB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICAgICAgICBfdGhpcy5pdGVtc1tpXS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCwgd2hldGhlciB0byB1c2Ugc2FtZSByZXNvdXJjZSBvciBiaW5kIGJhc2VUZXh0dXJlIGl0c2VsZlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5rQmFzZVRleHR1cmUgPSBsaW5rQmFzZVRleHR1cmUgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0RnJvbUFycmF5KHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH07XG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5hZGRCYXNlVGV4dHVyZUF0ID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpbmRleCwgbGlua0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChsaW5rQmFzZVRleHR1cmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlua0Jhc2VUZXh0dXJlID0gdGhpcy5saW5rQmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxpbmtCYXNlVGV4dHVyZVxuICAgICAgICAgICAgfHwgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5XG4gICAgICAgICAgICB8fCBPYmplY3Qua2V5cyhiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gY29weSBtb2RlXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYmFzZVRleHR1cmUucmVzb3VyY2UsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1YmVSZXNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlpbmcgb2YgcmVuZGVyVGV4dHVyZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW5rIG1vZGUsIHRoZSBkaWZmaWN1bHQgb25lIVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCAmJiAhdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUucmVhbFdpZHRoLCBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzaWRlID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmIChkaXJ0eVtpXSA8IHNpZGUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGlmIChzaWRlLnZhbGlkICYmIHNpZGUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJ0eVtpXSA8IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciBpdGVtIGlzIG5vdCB2YWxpZCB5ZXQsIGVpdGhlciBpdHMgYSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG9jYXRlIHRoZSBtZW1vcnlcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2wudGV4SW1hZ2UyRChzaWRlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBfYmFzZVRleHR1cmUucmVhbFdpZHRoLCBfYmFzZVRleHR1cmUucmVhbEhlaWdodCwgMCwgX2Jhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBhcnJheSBvZiA2IGVsZW1lbnRzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHNvdXJjZSkgJiYgc291cmNlLmxlbmd0aCA9PT0gQ3ViZVJlc291cmNlLlNJREVTO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHRleHR1cmUgc2lkZXMgdG8gc3RvcmUgZm9yIEN1YmVSZXNvdXJjZXNcbiAgICAgKlxuICAgICAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkN1YmVSZXNvdXJjZS5TSURFU1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNlxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG4gICAgcmV0dXJuIEN1YmVSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTEltYWdlRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgSW1hZ2VSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8c3RyaW5nfSBzb3VyY2UgLSBpbWFnZSBzb3VyY2Ugb3IgVVJMXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBzdGFydCBsb2FkaW5nIHByb2Nlc3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gd2hldGhlciBpdHMgcmVxdWlyZWQgdG8gY3JlYXRlXG4gICAgICogICAgICAgIGEgYml0bWFwIGJlZm9yZSB1cGxvYWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQUxQSEFfTU9ERVN9IFtvcHRpb25zLmFscGhhTW9kZT1QSVhJLkFMUEhBX01PREVTLlVOUEFDS10gLSBQcmVtdWx0aXBseSBpbWFnZSBhbHBoYSBpbiBiaXRtYXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKGltYWdlRWxlbWVudCwgc291cmNlLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcbiAgICAgICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSBzb3VyY2U7XG4gICAgICAgICAgICBzb3VyY2UgPSBpbWFnZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIC8vIEZpcmVGb3ggNjgsIGFuZCBwb3NzaWJseSBvdGhlciB2ZXJzaW9ucywgc2VlbXMgbGlrZSBzZXR0aW5nIHRoZSBIVE1MSW1hZ2VFbGVtZW50I3dpZHRoIGFuZCAjaGVpZ2h0XG4gICAgICAgIC8vIHRvIG5vbi16ZXJvIHZhbHVlcyBiZWZvcmUgaXRzIGxvYWRpbmcgY29tcGxldGVzIGlmIGltYWdlcyBhcmUgaW4gYSBjYWNoZS5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzLCBuZWVkIHRvIHNldCB0aGUgYF93aWR0aGAgYW5kIHRoZSBgX2hlaWdodGAgdG8gemVybyB0byBhdm9pZCB1cGxvYWRpbmcgaW5jb21wbGV0ZSBpbWFnZXMuXG4gICAgICAgIC8vIFBsZWFzZSByZWZlciB0byB0aGUgaXNzdWUgIzU5NjggKGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk2OCkuXG4gICAgICAgIGlmICghc291cmNlLmNvbXBsZXRlICYmICEhX3RoaXMuX3dpZHRoICYmICEhX3RoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGltYWdlIHNob3VsZCBiZSBkaXNwb3NlZCBhZnRlciB1cGxvYWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jcmVhdGVCaXRtYXAgPSAob3B0aW9ucy5jcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNyZWF0ZUJpdG1hcCA6IHNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVApICYmICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBhbHBoYU1vZGUgZmllbGRcbiAgICAgICAgICogQ29waWVzIGZyb20gb3B0aW9uc1xuICAgICAgICAgKiBEZWZhdWx0IGlzIGBudWxsYCwgY29waWVzIG9wdGlvbiBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN8bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1vZGUgPSB0eXBlb2Ygb3B0aW9ucy5hbHBoYU1vZGUgPT09ICdudW1iZXInID8gb3B0aW9ucy5hbHBoYU1vZGUgOiBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVtdWx0aXBseUFscGhhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJzIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICBfdGhpcy5wcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSW1hZ2VCaXRtYXAgZWxlbWVudCBjcmVhdGVkIGZvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlQml0bWFwfVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHdoZW4gaW1hZ2Ugd2lsbCBiZSBsb2FkZWQgYW5kIHByb2Nlc3NlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3JlYXRlQml0bWFwXSAtIHdoZXRoZXIgcHJvY2VzcyBpbWFnZSBpbnRvIGJpdG1hcFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoY3JlYXRlQml0bWFwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gY3JlYXRlQml0bWFwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gX3RoaXMuc291cmNlO1xuICAgICAgICAgICAgX3RoaXMudXJsID0gc291cmNlLnNyYztcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzLnByb2Nlc3MoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gY29tcGxldGVkO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkcyBQcm9taXNlIGZyZWV6aW5nIHdoZW4gcmVzb3VyY2UgYnJva2VuXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gd2UgbmVlZCB0byBjb252ZXJ0IGltYWdlIGludG8gQml0bWFwSW1hZ2UuXG4gICAgICogQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgcmVhbCBwcm9taXNlIGlzIGNhY2hlZCBpbnNpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gY2FjaGVkIHByb21pc2UgdG8gZmlsbCB0aGF0IGJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCAhPT0gbnVsbCB8fCAhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAoc291cmNlLCAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIHtcbiAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0sgPyAncHJlbXVsdGlwbHknIDogJ25vbmUnLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpdG1hcCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmFscGhhTW9kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGJpdG1hcCBzdG9yZXMgdW5wYWNrIHByZW11bHRpcGx5IGZsYWcsIHdlIGRvbnQgaGF2ZSB0byBub3RpZnkgdGV4SW1hZ2UyRCBhYm91dCBpdFxuICAgICAgICAgICAgYmFzZVRleHR1cmUuYWxwaGFNb2RlID0gdGhpcy5hbHBoYU1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVCaXRtYXApIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGVyZSBhcmUgb3RoZXIgcmVuZGVyZXJzIHRoYXQgcG9zc2libHkgbmVlZCB0aGlzIGJpdG1hcFxuICAgICAgICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGdsVGV4dHVyZXMgPSBiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBnbFRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyVGV4ID0gZ2xUZXh0dXJlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBzdHJpbmcgb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnIHx8IHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBTVkcgZWxlbWVudHMgYW5kIGdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU2NhbGUgdG8gYXBwbHkgdG8gU1ZHLiBPdmVycmlkZGVuIGJ5Li4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gUmFzdGVyaXplIFNWRyB0aGlzIHdpZGUuIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgaGVpZ2h0IG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIFJhc3Rlcml6ZSBTVkcgdGhpcyBoaWdoLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIHdpZHRoIG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyByaWdodCBhd2F5LlxuICovXG52YXIgU1ZHUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNWR1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNWR1Jlc291cmNlKHNvdXJjZUJhc2U2NCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdmcgPSBzb3VyY2VCYXNlNjQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIHNjYWxlIHRvIGFwcGx5IHdoZW4gcmFzdGVyaXppbmcgb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHdpZHRoIG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9vdmVycmlkZVdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVpZ2h0IG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9vdmVycmlkZUhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCB3aGVuIGNvbXBsZXRlbHkgbG9hZGVkXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jcm9zc29yaWdpbiA9IG9wdGlvbnMuY3Jvc3NvcmlnaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhpcyB1bnRpbCBhZnRlciBsb2FkIGlzIGZpbmlzaGVkXG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemUoX3RoaXMuc291cmNlLndpZHRoLCBfdGhpcy5zb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBDb252ZXJ0IFNWRyBpbmxpbmUgc3RyaW5nIHRvIGRhdGEtdXJpXG4gICAgICAgICAgICBpZiAoKC9eXFw8c3ZnLykudGVzdChfdGhpcy5zdmcudHJpbSgpKSkge1xuICAgICAgICAgICAgICAgIGlmICghYnRvYSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnN2ZyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLnN2ZykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9sb2FkU3ZnKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIFNWRyBpbWFnZSBmcm9tIGBpbWFnZVVybGAgb3IgYGRhdGEgVVJMYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU3ZnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGVtcEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRlbXBJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHRlbXBJbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHJlbmRlciBzaXplXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBzdmdXaWR0aCAqIF90aGlzLnNjYWxlO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHN2Z0hlaWdodCAqIF90aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKF90aGlzLl9vdmVycmlkZVdpZHRoIHx8IF90aGlzLl9vdmVycmlkZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gX3RoaXMuX292ZXJyaWRlV2lkdGggfHwgX3RoaXMuX292ZXJyaWRlSGVpZ2h0IC8gc3ZnSGVpZ2h0ICogc3ZnV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gX3RoaXMuX292ZXJyaWRlSGVpZ2h0IHx8IF90aGlzLl9vdmVycmlkZVdpZHRoIC8gc3ZnV2lkdGggKiBzdmdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBfdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IFwiY2FudmFzX1wiICsgdWlkKCk7XG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgICAgICAuZHJhd0ltYWdlKHRlbXBJbWFnZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIHJlZ2V4cC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ZnU3RyaW5nIC0gYSBzZXJpYWxpemVkIHN2ZyBlbGVtZW50XG4gICAgICogQHJldHVybiB7UElYSS5JU2l6ZX0gaW1hZ2UgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuZ2V0U2l6ZSA9IGZ1bmN0aW9uIChzdmdTdHJpbmcpIHtcbiAgICAgICAgdmFyIHNpemVNYXRjaCA9IFNWR1Jlc291cmNlLlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICAgICAgdmFyIHNpemUgPSB7fTtcbiAgICAgICAgaWYgKHNpemVNYXRjaCkge1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIHVybCBmaWxlIGV4dGVuc2lvbiBpcyBTVkdcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3N2ZydcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgZGF0YS11cmlcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2UuaW5kZXhPZignZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCcpID09PSAwKVxuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBpbmxpbmVcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2UuaW5kZXhPZignPHN2ZycpID09PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ0V4cCBmb3IgU1ZHIHNpemUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZVxuICAgICAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgcmV0dXJuIFNWR1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxvYmplY3R8c3RyaW5nfEFycmF5PHN0cmluZ3xvYmplY3Q+fSBzb3VyY2UgLSBWaWRlbyBlbGVtZW50IHRvIHVzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgdGhlIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby5cbiAqIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICovXG52YXIgVmlkZW9SZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmlkZW9SZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWaWRlb1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTk2XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gW3NvdXJjZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZmlyc3RTcmMgPSBzb3VyY2VbMF0uc3JjIHx8IHNvdXJjZVswXTtcbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHZpZGVvRWxlbWVudCwgZmlyc3RTcmMsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gc291cmNlW2ldLCBzcmMgPSBfYS5zcmMsIG1pbWUgPSBfYS5taW1lO1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYyB8fCBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VTcmMgPSBzcmMuc3BsaXQoJz8nKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dCA9IGJhc2VTcmMuc3Vic3RyKGJhc2VTcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICAgICAgICAgIG1pbWUgPSBtaW1lIHx8IFZpZGVvUmVzb3VyY2UuTUlNRV9UWVBFU1tleHRdIHx8IFwidmlkZW8vXCIgKyBleHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC50eXBlID0gbWltZTtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vU3ViSW1hZ2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgdGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgdGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgX3RoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUGxheSA9IG9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZWQgd2l0aCBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIF90aGlzLl9vbkNhblBsYXkgPSBfdGhpcy5fb25DYW5QbGF5LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IF90aGlzLl9vbkVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdXBkYXRpbmcgb2YgdGhlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGFUaW1lPTBdIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoX2RlbHRhVGltZSkge1xuICAgICAgICBpZiAoX2RlbHRhVGltZSA9PT0gdm9pZCAwKSB7IF9kZWx0YVRpbWUgPSAwOyB9XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGlmIHZpZGVvIGhhcyBoYWQgaXRzIHBsYXliYWNrUmF0ZSBjaGFuZ2VkXG4gICAgICAgICAgICB2YXIgZWxhcHNlZE1TID0gVGlja2VyLnNoYXJlZC5lbGFwc2VkTVMgKiB0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGU7XG4gICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IE1hdGguZmxvb3IodGhpcy5fbXNUb05leHRVcGRhdGUgLSBlbGFwc2VkTVMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cGRhdGVGUFMgfHwgdGhpcy5fbXNUb05leHRVcGRhdGUgPD0gMCkge1xuICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSB0aGlzLl91cGRhdGVGUFMgPyBNYXRoLmZsb29yKDEwMDAgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgcHJlbG9hZGluZyB0aGUgdmlkZW8gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSlcbiAgICAgICAgICAgICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG4gICAgICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKSB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB2aWRlbyBlcnJvciBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiAoc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gMyB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHZhciB2YWxpZCA9IHRoaXMudmFsaWQ7XG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJhdXRvVXBkYXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJ1cGRhdGVGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZQUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgdmlkZW8gTUlNRSB0eXBlcyB0aGF0IGNhbid0IGJlIGRpcmVjdGx5IGRlcml2ZWQgZnJvbSBmaWxlIGV4dGVuc2lvbnMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVMgPSB7XG4gICAgICAgIG9ndjogJ3ZpZGVvL29nZycsXG4gICAgICAgIG1vdjogJ3ZpZGVvL3F1aWNrdGltZScsXG4gICAgICAgIG00djogJ3ZpZGVvL21wNCcsXG4gICAgfTtcbiAgICByZXR1cm4gVmlkZW9SZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBJbWFnZUJpdG1hcC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gSW1hZ2UgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIEltYWdlQml0bWFwUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlQml0bWFwUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW1hZ2VCaXRtYXBSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbklOU1RBTExFRC5wdXNoKEltYWdlUmVzb3VyY2UsIEltYWdlQml0bWFwUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBWaWRlb1Jlc291cmNlLCBTVkdSZXNvdXJjZSwgQnVmZmVyUmVzb3VyY2UsIEN1YmVSZXNvdXJjZSwgQXJyYXlSZXNvdXJjZSk7XG5cbnZhciBpbmRleCA9ICh7XG4gICAgUmVzb3VyY2U6IFJlc291cmNlLFxuICAgIEJhc2VJbWFnZVJlc291cmNlOiBCYXNlSW1hZ2VSZXNvdXJjZSxcbiAgICBJTlNUQUxMRUQ6IElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2U6IGF1dG9EZXRlY3RSZXNvdXJjZSxcbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2U6IEFic3RyYWN0TXVsdGlSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlOiBBcnJheVJlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlOiBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZTogQ2FudmFzUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlOiBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZTogSW1hZ2VSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZTogU1ZHUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZTogVmlkZW9SZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlOiBJbWFnZUJpdG1hcFJlc291cmNlXG59KTtcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICpcbiAqIEBzZWUgUElYSS5SZW5kZXJlciNhZGRTeXN0ZW1cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFN5c3RlbTtcbn0oKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgRGVwdGhUZXh0dXJlLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBEZXB0aFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZXB0aFJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlcHRoUmVzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBcbiAgICAgICAgICAgIC8vICBnbC5ERVBUSF9DT01QT05FTlQxNiBOZWVkZWQgZm9yIGRlcHRoIHRvIHJlbmRlciBwcm9wZXJseSBpbiB3ZWJnbDIuMFxuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEgPyBnbC5ERVBUSF9DT01QT05FTlQgOiBnbC5ERVBUSF9DT01QT05FTlQxNiwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIERlcHRoUmVzb3VyY2U7XG59KEJ1ZmZlclJlc291cmNlKSk7XG5cbi8qKlxuICogRnJhbWUgYnVmZmVyIHVzZWQgYnkgdGhlIEJhc2VSZW5kZXJUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRnJhbWVidWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZyYW1lYnVmZmVyKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgZnJhbWVidWZmZXIgaW4gcGl4ZWxzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCB8fCAxMDApO1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmdsRnJhbWVidWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBudW1iZXIgb2Ygc2FtcGxlcyBmb3IgYW50aWFsaWFzaW5nLiAwIG1lYW5zIEFBIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogRXhwZXJpbWVudGFsIFdlYkdMMiBmZWF0dXJlLCBhbGxvd3MgdG8gdXNlIGFudGlhbGlhc2luZyBpbiBpbmRpdmlkdWFsIHJlbmRlclRleHR1cmVzLlxuICAgICAgICAgKiBBbnRpYWxpYXNpbmcgaXMgdGhlIHNhbWUgYXMgZm9yIG1haW4gYnVmZmVyIHdpdGggcmVuZGVyZXIgYGFudGlhbGlhczp0cnVlYCBvcHRpb25zLlxuICAgICAgICAgKiBTZXJpb3VzbHkgYWZmZWN0cyBHUFUgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBHUFUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqYGBganNcbiAgICAgICAgICogcmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IFBJWEkuTVNBQV9RVUFMSVRZLkhJR0g7XG4gICAgICAgICAqIC8vLi4uXG4gICAgICAgICAqIHJlbmRlcmVyLnJlbmRlcihyZW5kZXJUZXh0dXJlLCBteUNvbnRhaW5lcik7XG4gICAgICAgICAqIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTsgLy8gY29waWVzIGRhdGEgZnJvbSBNU0FBIGZyYW1lYnVmZmVyIHRvIHRleHR1cmVcbiAgICAgICAgICogIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5NU0FBX1FVQUxJVFkuTk9ORVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXIucHJvdG90eXBlLCBcImNvbG9yVGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuYWRkQ29sb3JUZXh0dXJlID0gZnVuY3Rpb24gKGluZGV4LCB0ZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gMDsgfVxuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGRlcHRoIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGREZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobmV3IERlcHRoUmVzb3VyY2UobnVsbCwgeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9TSE9SVCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlRGVwdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzdGVuY2lsIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlTaXplKys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmRlcHRoVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYW5kIHJlbW92ZXMgdGhlIGRlcHRoIHRleHR1cmUgYWRkZWQgdG8gdGhpcyBmcmFtZWJ1ZmZlci5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveURlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlJZDtcbiAgICAgICAgICAgICsrdGhpcy5kaXJ0eUZvcm1hdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VSZW5kZXJUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aF8xID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoXzEsIGhlaWdodDogaGVpZ2h0XzEsIHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbnVsbCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgX3RoaXMubWlwbWFwID0gMDtcbiAgICAgICAgX3RoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpIHx8IDEwMDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIF90aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKF90aGlzLndpZHRoICogX3RoaXMucmVzb2x1dGlvbiwgX3RoaXMuaGVpZ2h0ICogX3RoaXMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIC5hZGRDb2xvclRleHR1cmUoMCwgX3RoaXMpO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGVzdHJveURlcHRoVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTAgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTEgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLWxlZnQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MyA9IDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKi9cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpKTtcblxudmFyIERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBbYW5jaG9yXSAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseSBpZiBubyBmcmFtZSB3YXMgcGFzc2VkIGluc2lkZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBtb2RlIHRleHR1cmUgaXMgc3Vic2NyaWJlZCB0byBiYXNlVGV4dHVyZSBldmVudHMsIGFuZCBmaXJlcyBgdXBkYXRlYCBvbiBhbnkgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZXdhcmUsIGFmdGVyIGxvYWRpbmcgb3IgcmVzaXplIG9mIGJhc2VUZXh0dXJlIGV2ZW50IGNhbiBmaXJlZCB0d28gdGltZXMhXG4gICAgICAgICAqIElmIHlvdSB3YW50IG1vcmUgY29udHJvbCwgc3Vic2NyaWJlIG9uIGJhc2VUZXh0dXJlIGl0c2VsZi5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdGV4dHVyZS5vbigndXBkYXRlJywgKCkgPT4ge30pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGFzc2lnbm1lbnQgb2YgYGZyYW1lYCBzd2l0Y2hlcyBvZmYgYG5vRnJhbWVgIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS4gQ2FuIGJlIHVzZWQgYXMgcXVhZCBVVlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dnMgPSBERUZBVUxUX1VWUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQgYmVjYXVzZSBpdHMgaGVhdnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOyAvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICBfdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5fcm90YXRlICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiByZXNvdXJjZS51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUuY2xvbmUoKSwgdGhpcy5vcmlnLmNsb25lKCksIHRoaXMudHJpbSAmJiB0aGlzLnRyaW0uY2xvbmUoKSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMsIHN0cmljdCkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoc3RyaWN0ID09PSB2b2lkIDApIHsgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7IH1cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuICAgICAgICBpZiAoaXNGcmFtZSkge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gVGV4dHVyZUNhY2hlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmb3IgbG9hZGluZyB0ZXh0dXJlcyB2aWEgVVJMcy4gVXNlIGluc3RlYWQgb2YgYFRleHR1cmUuZnJvbWAgYmVjYXVzZVxuICAgICAqIGl0IGRvZXMgYSBiZXR0ZXIgam9iIG9mIGhhbmRsaW5nIGZhaWxlZCBVUkxzIG1vcmUgZWZmZWN0aXZlbHkuIFRoaXMgYWxzbyBpZ25vcmVzXG4gICAgICogYFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEVgLiBXb3JrcyBmb3IgVmlkZW9zLCBTVkdzLCBJbWFnZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgcmVtb3RlIFVSTCB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBpbmNsdWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxQSVhJLlRleHR1cmU+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVVJMID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGF1dG9Mb2FkOiBmYWxzZSB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20odXJsLCBPYmplY3QuYXNzaWduKHsgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSwgb3B0aW9ucyksIGZhbHNlKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgLy8gVGhlIHRleHR1cmUgd2FzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hbnVhbGx5IGxvYWQgdGhlIHRleHR1cmUsIHRoaXMgc2hvdWxkIGFsbG93IHVzZXJzIHRvIGhhbmRsZSBsb2FkIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21Mb2FkZXIgPSBmdW5jdGlvbiAoc291cmNlLCBpbWFnZVVybCwgbmFtZSkge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiZnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgeCA9IGZyYW1lLngsIHkgPSBmcmFtZS55LCB3aWR0aCA9IGZyYW1lLndpZHRoLCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclggPSBcIlg6IFwiICsgeCArIFwiICsgXCIgKyB3aWR0aCArIFwiID0gXCIgKyAoeCArIHdpZHRoKSArIFwiID4gXCIgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSBcIlk6IFwiICsgeSArIFwiICsgXCIgKyBoZWlnaHQgKyBcIiA9IFwiICsgKHkgKyBoZWlnaHQpICsgXCIgPiBcIiArIHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICAgICAgKyAoZXJyb3JYICsgXCIgXCIgKyByZWxhdGlvbnNoaXAgKyBcIiBcIiArIGVycm9yWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwicm90YXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2FzdFRvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IENhbnZhc1Jlc291cmNlKGNhbnZhcykpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsgfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsgfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7IH07XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgeyB9O1xufVxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDEwMCwgMTAwKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVJlbmRlclRleHR1cmV9IGJhc2VSZW5kZXJUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICB2YXIgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBCYXNlUmVuZGVyVGV4dHVyZSkpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoXCIgKyB3aWR0aCArIFwiLCBcIiArIGhlaWdodCArIFwiKSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LlwiKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleSBmb3IgcG9vbGVkIHRleHR1cmUgb2YgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG4gICAgICAgIF90aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZWJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG9ydGN1dCB0byBgdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcmAsIHNhdmVzIGJhc2VUZXh0dXJlIGNhc3QuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVCYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCB0aGUgYmFzZVRleHR1cmUud2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgYmUgcmVzaXplZCBhcyB3ZWxsP1xuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCkgeyByZXNpemVCYXNlVGV4dHVyZSA9IHRydWU7IH1cbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oVGV4dHVyZSkpO1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbCFcbiAqXG4gKiBUZXh0dXJlIHBvb2wsIHVzZWQgYnkgRmlsdGVyU3lzdGVtIGFuZCBwbHVnaW5zXG4gKiBTdG9yZXMgY29sbGVjdGlvbiBvZiB0ZW1wb3JhcnkgcG93MiBvciBzY3JlZW4tc2l6ZWQgcmVuZGVyVGV4dHVyZXNcbiAqXG4gKiBJZiB5b3UgdXNlIGN1c3RvbSBSZW5kZXJUZXh0dXJlUG9vbCBmb3IgeW91ciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBtZXRob2RzXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZWAgYW5kIGByZXR1cm5GaWx0ZXJUZXh0dXJlYCBzYW1lIGFzIGluXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZVBvb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0ZXh0dXJlT3B0aW9uc10gLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICAgICAgdGhpcy50ZXh0dXJlT3B0aW9ucyA9IHRleHR1cmVPcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3cgcmVuZGVyVGV4dHVyZXMgb2YgdGhlIHNhbWUgc2l6ZSBhcyBzY3JlZW4sIG5vdCBqdXN0IHBvdzJcbiAgICAgICAgICpcbiAgICAgICAgICogQXV0b21hdGljYWxseSBzZXRzIHRvIHRydWUgYWZ0ZXIgYHNldFNjcmVlblNpemVgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIG9mIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIGhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICAgICAqIEByZXR1cm5zIHtSZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCkge1xuICAgICAgICB2YXIgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogcmVhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgfSwgdGhpcy50ZXh0dXJlT3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHZhciBrZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG4gICAgICAgIHJlbmRlclRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHRleHR1cmUgb2YgdGhlIHNhbWUgc2l6ZSBhcyBpbnB1dCByZW5kZXJUZXh0dXJlXG4gICAgICpcbiAgICAgKiBgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgMC41KWAgb3IgYGdldEZpbHRlclRleHR1cmUoMC41LCBpbnB1dClgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKGlucHV0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgcmV0dXJuVGV4dHVyZSwgdG8gYmUgY29tcGxpYW50IHdpdGggRmlsdGVyU3lzdGVtIGludGVyZmFjZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBwb29sXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95VGV4dHVyZXM9dHJ1ZV0gLSBkZXN0cm95IGFsbCBzdG9yZWQgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlUG9vbCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gICAgICogc2V0cyBuZXcgc2NyZWVuIHNpemUsIHNldHMgYGVuYWJsZUZ1bGxTY3JlZW5gIHRvIHRydWVcbiAgICAgKlxuICAgICAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuc2V0U2NyZWVuU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcbiAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV0gPSBbXTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gJ3NjcmVlbic7XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVQb29sO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXR0cmlidXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtAbGluayBQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSAtIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gNTEyNjsgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgQXR0cmlidXRlLlxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAtIHRoZSBpZCBvZiB0aGUgYnVmZmVyIHRoYXQgdGhpcyBhdHRyaWJ1dGUgd2lsbCBsb29rIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5mcm9tID0gZnVuY3Rpb24gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGU7XG59KCkpO1xuXG52YXIgVUlEID0gMDtcbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gZGF0YSAtIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz10cnVlXSAtIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSAtIGB0cnVlYCBmb3IgaW5kZXggYnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyKGRhdGEsIF9zdGF0aWMsIGluZGV4KSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IHRydWU7IH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSAoZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG4gICAgICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicpO1xuICAgIH1cbiAgICAvLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuICAgIC8qKlxuICAgICAqIGZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBbZGF0YV0gLSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgLSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlcjtcbn0oKSk7XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbnZhciBieXRlU2l6ZU1hcCA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xudmFyIFVJRCQxID0gMDtcbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAkMSA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIFRoZSBHZW9tZXRyeSByZXByZXNlbnRzIGEgbW9kZWwuIEl0IGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzOlxuICogLSBHZW9tZXRyeVN0eWxlIC0gVGhlIHN0cnVjdHVyZSBvZiB0aGUgbW9kZWwgc3VjaCBhcyB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAqIC0gR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQgKHRoYXRzIGhvdyBJIHByZWZlciEpXG4gKlxuICogYGBganNcbiAqIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLDIpXG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKVxuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gLSBhbiBhcnJheSBvZiBidWZmZXJzLiBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXNdIC0gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoYnVmZmVycywgYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYnVmZmVycyA9PT0gdm9pZCAwKSB7IGJ1ZmZlcnMgPSBbXTsgfVxuICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gdm9pZCAwKSB7IGF0dHJpYnV0ZXMgPSB7fTsgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcbiAgICAgICAgdGhpcy5pZCA9IFVJRCQxKys7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgaW5zdGFuY2VzIGluIHRoaXMgZ2VvbWV0cnksIHBhc3MgaXQgdG8gYEdlb21ldHJ5U3lzdGVtLmRyYXcoKWBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBhdHRyaWJ1dGUgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBOb3RlOiBgc3RyaWRlYCBhbmQgYHN0YXJ0YCBzaG91bGQgYmUgYHVuZGVmaW5lZGAgaWYgeW91IGRvbnQga25vdyB0aGVtLCBub3QgMCFcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZV0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICogQHBhcmFtIHtib29sZWFufSBbaW5zdGFuY2U9ZmFsc2VdIC0gSW5zdGFuY2luZyBmbGFnXG4gICAgKlxuICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpZCwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAwOyB9XG4gICAgICAgIGlmIChub3JtYWxpemVkID09PSB2b2lkIDApIHsgbm9ybWFsaXplZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChpbnN0YW5jZSA9PT0gdm9pZCAwKSB7IGluc3RhbmNlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBidWZmZXIhXG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWRzID0gaWQuc3BsaXQoJ3wnKTtcbiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKGlkc1tpXSwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG4gICAgICAgIGlmIChidWZmZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1tpZF0gPSBuZXcgQXR0cmlidXRlKGJ1ZmZlckluZGV4LCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSk7XG4gICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IHRoaXMuaW5zdGFuY2VkIHx8IGluc3RhbmNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBhdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkF0dHJpYnV0ZX0gdGhlIGF0dHJpYnV0ZSByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBidWZmZXIgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBpbmRleCBidWZmZXIgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfG51bWJlcltdfSBbYnVmZmVyXSAtIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGluZGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBpbmRleCBidWZmZXIuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHN0cnVjdHVyZSBzbyB0aGF0IGFsbCBjdXJyZW50IGF0dHJpYnV0ZXMgYmVjb21lIGludGVybGVhdmVkIGludG8gYSBzaW5nbGUgYnVmZmVyXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGlmIHlvdXIgbW9kZWwgcmVtYWlucyBzdGF0aWMgYXMgaXQgb2ZmZXJzIGEgbGl0dGxlIHBlcmZvcm1hbmNlIGJvb3N0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGEgc2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBidWZmZXJzIGFyZSBhbHJlYWR5IGludGVybGVhdmVkLi5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcikpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIC8vIGFzc3VtZSBhbHJlYWR5IHRoYXQgbm8gYnVmZmVycyBhcmUgaW50ZXJsZWF2ZWRcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEJ1ZmZlcigpO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICBzaXplcy5wdXNoKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlcnNbaV0gIT09IHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyLmRhdGEubGVuZ3RoIC8gKChhdHRyaWJ1dGUuc3RyaWRlIC8gNCkgfHwgYXR0cmlidXRlLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIGNsb25lIG9mIHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IGEgbmV3IGNsb25lIG9mIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXJzW2ldLmRhdGEuc2xpY2UoMCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlc1tpXSA9IG5ldyBBdHRyaWJ1dGUoYXR0cmliLmJ1ZmZlciwgYXR0cmliLnNpemUsIGF0dHJpYi5ub3JtYWxpemVkLCBhdHRyaWIudHlwZSwgYXR0cmliLnN0cmlkZSwgYXR0cmliLnN0YXJ0LCBhdHRyaWIuaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIG1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZVxuICAgICAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5W119IGdlb21ldHJpZXMgLSBhcnJheSBvZiBnZW9tZXRyaWVzIHRvIG1lcmdlXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IHNoaW55IG5ldyBnZW9tZXRyeSFcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIChnZW9tZXRyaWVzKSB7XG4gICAgICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgICAgIC8vIGFsc28gYSBzaXplIGNoZWNrLi4gY2FudCBiZSB0b28gYmlnIV1cbiAgICAgICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgdmFyIHNpemVzID0gW107XG4gICAgICAgIHZhciBvZmZzZXRzID0gW107XG4gICAgICAgIHZhciBnZW9tZXRyeTtcbiAgICAgICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGJ1aWxkIHRoZSBjb3JyZWN0IHNpemUgYXJyYXlzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGVzIVxuICAgICAgICAgICAgYXJyYXlzW2ldID0gbmV3IG1hcCQxW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpXS5kYXRhKV0oc2l6ZXNbaV0pO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIoYXJyYXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXNzIHRvIHNldCBkYXRhLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhcnJheXNbal0uc2V0KGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YSwgb2Zmc2V0c1tqXSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdlb21ldHJ5T3V0LmF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0MiA9IDA7XG4gICAgICAgICAgICB2YXIgYnVmZmVySW5kZXhUb0NvdW50ID0gMDtcbiAgICAgICAgICAgIC8vIGdldCBhIGJ1ZmZlclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmJ1ZmZlcnNbaV0gIT09IGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4VG9Db3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHN0cmlkZSBvZiBvbmUgYnVmZmVyLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICgoYXR0cmlidXRlLmJ1ZmZlciB8IDApID09PSBidWZmZXJJbmRleFRvQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlICs9ICgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGltZSB0byBvZmYgc2V0IGFsbCBpbmRleGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlckRhdGEgPSBnZW9tZXRyaWVzW2ldLmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZ2VvbWV0cnkuYnVmZmVyc1tidWZmZXJJbmRleFRvQ291bnRdLmRhdGEubGVuZ3RoIC8gKHN0cmlkZSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0MiArPSBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeU91dDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeTtcbn0oKSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBRdWFkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1YWQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFF1YWQ7XG59KEdlb21ldHJ5KSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWQgd2l0aCB1dnMgbGlrZSBpbiB2NFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xudmFyIFF1YWRVdiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUXVhZFV2LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1YWRVdigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAxLCAtMSxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAtMSwgMSBdKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKF90aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgX3RoaXMudXZCdWZmZXIgPSBuZXcgQnVmZmVyKF90aGlzLnV2cyk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLnV2QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIHZhciB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudXZzWzBdID0geDtcbiAgICAgICAgdGhpcy51dnNbMV0gPSB5O1xuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcbiAgICAgICAgdGhpcy51dnNbNF0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1s1XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51dnNbNl0gPSB4O1xuICAgICAgICB0aGlzLnV2c1s3XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBsZWdhY3kgdXBsb2FkIG1ldGhvZCwganVzdCBtYXJrcyBidWZmZXJzIGRpcnR5XG4gICAgICogQHJldHVybnMge1BJWEkuUXVhZFV2fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBRdWFkVXY7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBVSUQkMiA9IDA7XG4vKipcbiAqIFVuaWZvcm0gZ3JvdXAgaG9sZHMgdW5pZm9ybSBtYXAgYW5kIHNvbWUgSUQncyBmb3Igd29ya1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFVuaWZvcm1Hcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljXSAtIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pZm9ybSB2YWx1ZXNcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0cyBhIGdyb3VwIGFuZCBub3QgYSBzaW5nbGUgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuICAgICAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcnR5IHZlcnNpb25cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pcXVlIGlkXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IFVJRCQyKys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xuICAgIH1cbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgfTtcbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfTtcbiAgICBVbmlmb3JtR3JvdXAuZnJvbSA9IGZ1bmN0aW9uICh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfTtcbiAgICByZXR1cm4gVW5pZm9ybUdyb3VwO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVyIHN0YXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldCBvZiB0aGUgZmlsdGVyc1xuICAgICAgICAgKiBXZSBzdG9yZSBmb3IgY2FzZSB3aGVuIGN1c3RvbSBmaWx0ZXIgd2FudHMgdG8ga25vdyB0aGUgZWxlbWVudCBpdCB3YXMgYXBwbGllZCBvblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNvbHV0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuICAgICAgICAvLyBuZXh0IHRocmVlIGZpZWxkcyBhcmUgY3JlYXRlZCBvbmx5IGZvciByb290XG4gICAgICAgIC8vIHJlLWFzc2lnbmVkIGZvciBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN0YXRlO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hZDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IF90aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgLy8gbGVnYWN5IHZhcmlhYmxlc1xuICAgICAgICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdG8gY2xlYXIgb3V0cHV0IHJlbmRlclRleHR1cmUgaW4gQVVUTy9CTElUIG1vZGUuIFNlZSB7QGxpbmsgUElYSS5DTEVBUl9NT0RFU31cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvcmNlQ2xlYXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9sZCBwYWRkaW5nIGJlaGF2aW9yIGlzIHRvIHVzZSB0aGUgbWF4IGFtb3VudCBpbnN0ZWFkIG9mIHN1bSBwYWRkaW5nLlxuICAgICAgICAgKiBVc2UgdGhpcyBmbGFnIGlmIHlvdSBuZWVkIHRoZSBvbGQgYmVoYXZpb3IuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VNYXhQYWRkaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIHZhciBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICB2YXIgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgbG93ZXN0IHJlc29sdXRpb24uLlxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHBhZGRpbmcgcmVxdWlyZWQgZm9yIGZpbHRlcnNcbiAgICAgICAgICAgIHBhZGRpbmcgPSB0aGlzLnVzZU1heFBhZGRpbmdcbiAgICAgICAgICAgICAgICAvLyBvbGQgYmVoYXZpb3I6IHVzZSBsYXJnZXN0IGFtb3VudCBvZiBwYWRkaW5nIVxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpXG4gICAgICAgICAgICAgICAgLy8gbmV3IGJlaGF2aW9yOiBzdW0gdGhlIHBhZGRpbmdcbiAgICAgICAgICAgICAgICA6IHBhZGRpbmcgKyBmaWx0ZXIucGFkZGluZztcbiAgICAgICAgICAgIC8vIG9ubHkgYXV0byBmaXQgaWYgYWxsIGZpbHRlcnMgYXJlIGF1dG9maXRcbiAgICAgICAgICAgIGF1dG9GaXQgPSBhdXRvRml0IHx8IGZpbHRlci5hdXRvRml0O1xuICAgICAgICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IGZpbHRlci5sZWdhY3k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcbiAgICAgICAgc3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcbiAgICAgICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpKTtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdCkge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcm91bmQgdG8gd2hvbGUgbnVtYmVyIGJhc2VkIG9uIHJlc29sdXRpb25cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY2VpbChyZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoc3RhdGUucmVuZGVyVGV4dHVyZSwgc3RhdGUuc291cmNlRnJhbWUpOyAvLyAvLCBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBvZmYgdGhlIGZpbHRlciBhbmQgYXBwbGllcyBpdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gZmlsdGVyU3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycztcbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuICAgICAgICB2YXIgZ2xvYmFsVW5pZm9ybXMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5vdXRwdXRGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5yZXNvbHV0aW9uID0gc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGlucHV0U2l6ZSA9IGdsb2JhbFVuaWZvcm1zLmlucHV0U2l6ZTtcbiAgICAgICAgdmFyIGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgICAgICB2YXIgaW5wdXRDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIGlucHV0U2l6ZVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIGlucHV0U2l6ZVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpbnB1dFNpemVbMl0gPSAxLjAgLyBpbnB1dFNpemVbMF07XG4gICAgICAgIGlucHV0U2l6ZVszXSA9IDEuMCAvIGlucHV0U2l6ZVsxXTtcbiAgICAgICAgaW5wdXRQaXhlbFswXSA9IGlucHV0U2l6ZVswXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dFNpemVbMV0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzJdID0gMS4wIC8gaW5wdXRQaXhlbFswXTtcbiAgICAgICAgaW5wdXRQaXhlbFszXSA9IDEuMCAvIGlucHV0UGl4ZWxbMV07XG4gICAgICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgICAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICAgICAgaW5wdXRDbGFtcFsyXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSkgLSAoMC41ICogaW5wdXRQaXhlbFsyXSk7XG4gICAgICAgIGlucHV0Q2xhbXBbM10gPSAoc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzNdKTtcbiAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHJlY3QgaWYgaXRzIGxlZ2FjeS4uXG4gICAgICAgIGlmIChzdGF0ZS5sZWdhY3kpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gc3RhdGUuc291cmNlRnJhbWUueTtcbiAgICAgICAgICAgIGdsb2JhbFVuaWZvcm1zLmZpbHRlckNsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuICAgICAgICB2YXIgbGFzdFN0YXRlID0gZmlsdGVyU3RhY2tbZmlsdGVyU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChzdGF0ZS5yZW5kZXJUZXh0dXJlLmZyYW1lYnVmZmVyLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIHN0YXRlLnJlbmRlclRleHR1cmUsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKGZsaXAud2lkdGgsIGZsaXAuaGVpZ2h0LCBzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUiwgc3RhdGUpO1xuICAgICAgICAgICAgICAgIHZhciB0ID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIENMRUFSX01PREVTLkJMRU5ELCBzdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxpcCk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxvcCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHJlbmRlclRleHR1cmUgd2l0aCBjb3JyZXNwb25kaW5nIGBmaWx0ZXJGcmFtZWAsIGNsZWFycyBpdCBpZiBtb2RlIGNvcnJlc3BvbmRzLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBmaWx0ZXJUZXh0dXJlIC0gcmVuZGVyVGV4dHVyZSB0byBiaW5kLCBzaG91bGQgYmVsb25nIHRvIGZpbHRlciBwb29sIG9yIGZpbHRlciBzdGFja1xuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBjbGVhck1vZGUsIGJ5IGRlZmF1bHQgaXRzIENMRUFSL1lFUy4gU2VlIHtAbGluayBQSVhJLkNMRUFSX01PREVTfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYmluZEFuZENsZWFyID0gZnVuY3Rpb24gKGZpbHRlclRleHR1cmUsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSB2b2lkIDApIHsgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVI7IH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmlsdGVyVGV4dHVyZSwgZmlsdGVyVGV4dHVyZSA/IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgOiBudWxsKTtcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAgICBpZiAodHlwZW9mIGNsZWFyTW9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBjbGVhck1vZGUgPSBjbGVhck1vZGUgPyBDTEVBUl9NT0RFUy5DTEVBUiA6IENMRUFSX01PREVTLkJMRU5EO1xuICAgICAgICAgICAgLy8gZ2V0IGRlcHJlY2F0aW9uIGZ1bmN0aW9uIGZyb20gdXRpbHNcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdVc2UgQ0xFQVJfTU9ERVMgd2hlbiB1c2luZyBjbGVhciBhcHBseUZpbHRlciBvcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5DTEVBUlxuICAgICAgICAgICAgfHwgKGNsZWFyTW9kZSA9PT0gQ0xFQVJfTU9ERVMuQkxJVCAmJiB0aGlzLmZvcmNlQ2xlYXIpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYmluZEFuZENsZWFyKG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gc2V0IHRoZSB1bmlmb3Jtcy4uXG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgICAgICBmaWx0ZXIudW5pZm9ybXMuZmlsdGVyR2xvYmFscyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG4gICAgICAgIGlmIChmaWx0ZXIubGVnYWN5KSB7XG4gICAgICAgICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgX2lucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfIHRvIHRoaXMgbWF0cml4IHRvIGdldCBfc3ByaXRlIHRleHR1cmUgbm9ybWFsaXplZCBjb29yZGluYXRlc18uXG4gICAgICpcbiAgICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiAob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmVTdGF0ZSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciBvcmlnID0gc3ByaXRlLl90ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICAgICAgdmFyIHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHlUbyhNYXRyaXguVEVNUF9NQVRSSVgpO1xuICAgICAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRob3NlIHRleHR1cmVzIGhhcyB0byBiZSBkZXN0cm95ZWQgYnkgUmVuZGVyVGV4dHVyZVN5c3RlbSBvciBGcmFtZWJ1ZmZlclN5c3RlbVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHJlbmRlciB0ZXh0dXJlIHRvIHVzZSBpbnNpZGUgY3VycmVudCBmaWx0ZXJcbiAgICAgKiBUbyBiZSBjb21wbGlhbnQgd2l0aCBvbGRlciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBwYXJhbXMgaW4gYW55IG9yZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW2lucHV0XSAtIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChpbnB1dCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHN3YXAgPSBpbnB1dDtcbiAgICAgICAgICAgIGlucHV0ID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzd2FwO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIodHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxscyBgdGV4dHVyZVBvb2wucmVzaXplKClgLCBhZmZlY3RzIGZ1bGxTY3JlZW4gcmVuZGVyVGV4dHVyZXNcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYmplY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdHViIG1ldGhvZCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGVtcHR5IHRoZSBjdXJyZW50XG4gICAgICogYmF0Y2ggYnkgcmVuZGVyaW5nIG9iamVjdHMgbm93LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGRlc3RydWN0aW9uIG1ldGhvZCB0aGF0IGZyZWVzIGFsbCByZXNvdXJjZXMuIFRoaXNcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBpbml0aWFsaXplcyBhbnkgc3RhdGUgcmVxdWlyZWQgYmVmb3JlXG4gICAgICogcmVuZGVyaW5nIHN0YXJ0cy4gSXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGBwcmVyZW5kZXJgXG4gICAgICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gICAgICogd2hlbmV2ZXIgYW4gb2JqZWN0IHJlcXVlc3RzIF90aGlzXyByZW5kZXJlciBzcGVjaWZpY2FsbHkuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgcmVuZGVyZXIuIEl0IHNob3VsZCBmcmVlIHVwIGFueSBzdGF0ZSBhbmRcbiAgICAgKiBiZWNvbWUgZG9ybWFudC5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogS2VlcHMgdGhlIG9iamVjdCB0byByZW5kZXIuIEl0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICAgICAqIHJlbmRlcmVkIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoX29iamVjdCkge1xuICAgICAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFJlbmRlcmVyO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQmF0Y2hTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbXB0eVJlbmRlcmVyID0gbmV3IE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFJlbmRlcmVyID0gX3RoaXMuZW1wdHlSZW5kZXJlcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZW5kZXJlciA9PT0gb2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5keSBmdW5jdGlvbiBmb3IgYmF0Y2ggcmVuZGVyZXJzOiBjb3BpZXMgYm91bmQgdGV4dHVyZXMgaW4gZmlyc3QgbWF4VGV4dHVyZXMgbG9jYXRpb25zIHRvIGFycmF5XG4gICAgICogc2V0cyBhY3R1YWwgX2JhdGNoTG9jYXRpb24gZm9yIHRoZW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSAtIGFyciBjb3B5IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGNvcGllZCBlbGVtZW50c1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb3B5Qm91bmRUZXh0dXJlcyA9IGZ1bmN0aW9uIChhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXkgLSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSBib3VuZFRleHR1cmVzIC0gY3VycmVudCBzdGF0ZSBvZiBib3VuZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiYXRjaElkIC0gbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGV4QXJyYXkuZWxlbWVudHMsIGlkcyA9IHRleEFycmF5LmlkcywgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkXG4gICAgICAgICAgICAgICAgICAgICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgQ09OVEVYVF9VSURfQ09VTlRFUiA9IDA7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBDb250ZXh0U3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250ZXh0U3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udGV4dFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVpdGhlciAxIG9yIDIgdG8gcmVmbGVjdCB0aGUgV2ViR0wgdmVyc2lvbiBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXh0ZW5zaW9ucyBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZHJhd19idWZmZXJzfSBkcmF3QnVmZmVycyAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RlcHRoX3RleHR1cmV9IGRlcHRoVGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU190ZXh0dXJlX2Zsb2F0fSBmbG9hdFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9sb3NlX2NvbnRleHR9IGxvc2VDb250ZXh0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3ZlcnRleF9hcnJheV9vYmplY3R9IHZlcnRleEFycmF5T2JqZWN0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljfSBhbmlzb3Ryb3BpY0ZpbHRlcmluZyAtIFdlYkdMIHYxIGFuZCB2MiBleHRlbnNpb25cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZlYXR1cmVzIHN1cHBvcnRlZCBieSBjdXJyZW50IGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSB1aW50MzJJbmRpY2VzIC0gU3VwcG9ydHMgb2YgMzItYml0IGluZGljZXMgYnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0cyA9IHtcbiAgICAgICAgICAgIHVpbnQzMkluZGljZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICAvLyBCaW5kIGZ1bmN0aW9uc1xuICAgICAgICBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZChfdGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGV4dFN5c3RlbS5wcm90b3R5cGUsIFwiaXNMb3N0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgY29udGV4dCBpcyBsb3N0XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCF0aGlzLmdsIHx8IHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBuZXcgd2ViZ2wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgICAgIC8vIHJlc3RvcmUgYSBjb250ZXh0IGlmIGl0IHdhcyBwcmV2aW91c2x5IGxvc3RcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSAmJiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLnJlc3RvcmVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21Db250ZXh0ID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQoZ2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgQ29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0fSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXV0by1wb3B1bGF0ZSB0aGUgZXh0ZW5zaW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmdldEV4dGVuc2lvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRpbWUgdG8gc2V0IHVwIGRlZmF1bHQgZXh0ZW5zaW9ucyB0aGF0IFBpeGkgdXNlcy5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBjb2xvckJ1ZmZlckZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQodGhpcy5nbCk7XG4gICAgfTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuICAgICAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc3VpbnQzMiA9ICgnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gd2luZG93ICYmIGdsIGluc3RhbmNlb2Ygd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQpXG4gICAgICAgICAgICB8fCAhIWdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIGZyYW1lYnVmZmVyIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTEZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogc3RlbmNpbCtkZXB0aCAsIHVzdWFsbHkgY29zdHMgMzJiaXRzIHBlciBwaXhlbFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBmb3JtYXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RlZCBBQSBzYW1wbGVzIG51bWJlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgTVNBQSwgd2UgdXNlIHRoaXMgUmVuZGVyYnVmZmVyIGluc3RlYWQgb2YgY29sb3JUZXh0dXJlc1swXSB3aGVuIHdlIHdyaXRlIGluZm9cbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSB3ZSB1c2UgTVNBQSwgdGhpcyBpcyBhY3R1YWwgZnJhbWVidWZmZXIgdGhhdCBoYXMgY29sb3JUZXh0dXJlc1swXVxuICAgICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhhdCBmcmFtZWJ1ZmZlciBhcmUgcmVhZCB3aGVuIHdlIHVzZSB0aGF0IHJlbmRlclRleHR1cmUgaW4gc3ByaXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gR0xGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbnZhciB0ZW1wUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEZyYW1lYnVmZmVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGcmFtZWJ1ZmZlclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBtYW5hZ2VkIGZyYW1lYnVmZmVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJhbWVidWZmZXIgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcbiAgICAgICAgX3RoaXMubXNhYVNhbXBsZXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmhhc01SVCA9IHRydWU7XG4gICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIHZhciBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICB2YXIgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEpIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uIChhY3RpdmVUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMS5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZWJHTDJcbiAgICAgICAgICAgIC8vIGNhY2hlIHBvc3NpYmxlIE1TQUEgc2FtcGxlc1xuICAgICAgICAgICAgdGhpcy5tc2FhU2FtcGxlcyA9IGdsLmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKGdsLlJFTkRFUkJVRkZFUiwgZ2wuUkdCQTgsIGdsLlNBTVBMRVMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgZnJhbWUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG4gICAgICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cbiAgICAgICAgICAgIC8vIG5vdyBjaGVjayBmb3IgdXBkYXRlcy4uLlxuICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUlkICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZXggPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQodGV4LnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQncyB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gWCBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gWSBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB2aWV3cG9ydFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5zZXRWaWV3cG9ydCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydDtcbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSkge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgd2lkdGggYW5kIGhlaWdodC4gUmV0dXJucyBvYmplY3Qgd2l0aCBgd2lkdGhgIGFuZCBgaGVpZ2h0YCB2YWx1ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRlbXBcbiAgICAgICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKHIsIGcsIGIsIGEsIG1hc2spIHtcbiAgICAgICAgaWYgKG1hc2sgPT09IHZvaWQgMCkgeyBtYXNrID0gQlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSDsgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKG1hc2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMRnJhbWVidWZmZXJ9IGNyZWF0ZWQgR0xGcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5pbml0RnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IG5ldyBHTEZyYW1lYnVmZmVyKGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCkpO1xuICAgICAgICBmYm8ubXVsdGlzYW1wbGUgPSB0aGlzLmRldGVjdFNhbXBsZXMoZnJhbWVidWZmZXIubXVsdGlzYW1wbGUpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnB1c2goZnJhbWVidWZmZXIpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZibztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChjb2xvclRleHR1cmVzW2ldLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS51cGRhdGVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIC8vIGJpbmQgdGhlIGNvbG9yIHRleHR1cmVcbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuICAgICAgICB2YXIgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycykge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZiby5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIGZiby5tc2FhQnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5SR0JBOCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmVUZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGZiby5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRUZXh0dXJlID0gdGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHBhcmVudFRleHR1cmUsIDApO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSwgdGV4dHVyZS50YXJnZXQsIHBhcmVudFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgMCk7XG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5URVhUVVJFXzJELCBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYm8uc3RlbmNpbCAmJiAoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkpIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgICAgICAgICBpZiAoIWZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkgeyAvLyB5b3UgY2FuJ3QgaGF2ZSBib3RoLCBzbyBvbmUgc2hvdWxkIHRha2UgcHJpb3JpdHkgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIG51bWJlciBvZiBzYW1wbGVzIHRoYXQgaXMgbm90IG1vcmUgdGhhbiBhIHBhcmFtIGJ1dCBhcyBjbG9zZSB0byBpdCBhcyBwb3NzaWJsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1TQUFfUVVBTElUWX0gc2FtcGxlcyAtIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICogQHJldHVybnMge1BJWEkuTVNBQV9RVUFMSVRZfSAtIHJlY29tbWVuZGVkIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRldGVjdFNhbXBsZXMgPSBmdW5jdGlvbiAoc2FtcGxlcykge1xuICAgICAgICB2YXIgbXNhYVNhbXBsZXMgPSB0aGlzLm1zYWFTYW1wbGVzO1xuICAgICAgICB2YXIgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIGlmIChzYW1wbGVzIDw9IDEgfHwgbXNhYVNhbXBsZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2FhU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1zYWFTYW1wbGVzW2ldIDw9IHNhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtc2FhU2FtcGxlc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzID09PSAxKSB7XG4gICAgICAgICAgICByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25seSB3b3JrcyB3aXRoIFdlYkdMMlxuICAgICAqXG4gICAgICogYmxpdHMgZnJhbWVidWZmZXIgdG8gYW5vdGhlciBvZiB0aGUgc2FtZSBvciBiaWdnZXIgc2l6ZVxuICAgICAqIGFmdGVyIHRoYXQgdGFyZ2V0IGZyYW1lYnVmZmVyIGlzIGJvdW5kXG4gICAgICpcbiAgICAgKiBGYWlscyB3aXRoIFdlYkdMIHdhcm5pbmcgaWYgYmxpdHMgbXVsdGlzYW1wbGUgZnJhbWVidWZmZXIgdG8gZGlmZmVyZW50IHNpemVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gW2ZyYW1lYnVmZmVyXSAtIGJ5IGRlZmF1bHQgaXQgYmxpdHMgXCJpbnRvIGl0c2VsZlwiLCBmcm9tIHJlbmRlckJ1ZmZlciB0byB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VQaXhlbHNdIC0gc291cmNlIHJlY3RhbmdsZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdFBpeGVsc10gLSBkZXN0IHJlY3RhbmdsZSBpbiBwaXhlbHMsIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgc291cmNlUGl4ZWxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJsaXQgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIHNvdXJjZVBpeGVscywgZGVzdFBpeGVscykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjdXJyZW50ID0gX2EuY3VycmVudCwgcmVuZGVyZXIgPSBfYS5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgaWYgKHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZibyA9IGN1cnJlbnQuZ2xGcmFtZWJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZmJvLmJsaXRGcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoY3VycmVudC53aWR0aCwgY3VycmVudC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuYWRkQ29sb3JUZXh0dXJlKDAsIGN1cnJlbnQuY29sb3JUZXh0dXJlc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGZiby5ibGl0RnJhbWVidWZmZXI7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlci53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlci5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNvdXJjZVBpeGVscykge1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzID0gdGVtcFJlY3RhbmdsZTtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscy53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXN0UGl4ZWxzKSB7XG4gICAgICAgICAgICBkZXN0UGl4ZWxzID0gc291cmNlUGl4ZWxzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYW1lU2l6ZSA9IHNvdXJjZVBpeGVscy53aWR0aCA9PT0gZGVzdFBpeGVscy53aWR0aCAmJiBzb3VyY2VQaXhlbHMuaGVpZ2h0ID09PSBkZXN0UGl4ZWxzLmhlaWdodDtcbiAgICAgICAgdGhpcy5iaW5kKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLlJFQURfRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJsaXRGcmFtZWJ1ZmZlcihzb3VyY2VQaXhlbHMueCwgc291cmNlUGl4ZWxzLnksIHNvdXJjZVBpeGVscy53aWR0aCwgc291cmNlUGl4ZWxzLmhlaWdodCwgZGVzdFBpeGVscy54LCBkZXN0UGl4ZWxzLnksIGRlc3RQaXhlbHMud2lkdGgsIGRlc3RQaXhlbHMuaGVpZ2h0LCBnbC5DT0xPUl9CVUZGRVJfQklULCBzYW1lU2l6ZSA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyIC0gZnJhbWVidWZmZXIgdGhhdCBoYXMgdG8gYmUgZGlzcG9zZWQgb2ZcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLmluZGV4T2YoZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiAoY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUZyYW1lYnVmZmVyKGxpc3RbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yY2luZyBjcmVhdGlvbiBvZiBzdGVuY2lsIGJ1ZmZlciBmb3IgY3VycmVudCBmcmFtZWJ1ZmZlciwgaWYgaXQgd2Fzbid0IGRvbmUgYmVmb3JlLlxuICAgICAqIFVzZWQgYnkgTWFza1N5c3RlbSwgd2hlbiBpdHMgdGltZSB0byB1c2Ugc3RlbmNpbCBtYXNrIGZvciBHcmFwaGljcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogSXRzIGFuIGFsdGVybmF0aXZlIGZvciBwdWJsaWMgbGF6eSBgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbGAsIGluIGNhc2Ugd2UgbmVlZCBzdGVuY2lsIHdpdGhvdXQgcmViaW5kLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGVuY2lsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZmJvIHx8IGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbCgpO1xuICAgICAgICB2YXIgdyA9IGZyYW1lYnVmZmVyLndpZHRoO1xuICAgICAgICB2YXIgaCA9IGZyYW1lYnVmZmVyLmhlaWdodDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgdywgaCk7XG4gICAgICAgIGZiby5zdGVuY2lsID0gc3RlbmNpbDtcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFtZWJ1ZmZlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBHTEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTEJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSAtMTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBHTEJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBieXRlU2l6ZU1hcCQxID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnlTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnlTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNWYW8gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHN1cHBvcnQgYGdsLlVOU0lHTkVEX0lOVGAgaW4gYGdsLmRyYXdFbGVtZW50c2Agb3IgYGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZGBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoIWdsLmNyZWF0ZVZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb25fMSkge1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAodmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5kZWxldGVWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLnZlcnRleEF0dHJpYkRpdmlzb3IpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZUV4dF8xID0gZ2wuZ2V0RXh0ZW5zaW9uKCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VFeHRfMSkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyIHx8ICEhY29udGV4dC5leHRlbnNpb25zLnVpbnQzMkVsZW1lbnRJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBbc2hhZGVyXSAtIGluc3RhbmNlIG9mIHNoYWRlciB0byB1c2UgdmFvIGZvclxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBzaGFkZXIpIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gbm90IHN1cmUgdGhlIGJlc3Qgd2F5IHRvIGFkZHJlc3MgdGhpcy4uXG4gICAgICAgIC8vIGN1cnJlbnRseSBkaWZmZXJlbnQgc2hhZGVycyByZXF1aXJlIGRpZmZlcmVudCBWQU9zIGZvciB0aGUgc2FtZSBnZW9tZXRyeVxuICAgICAgICAvLyBTdGlsbCBtdWxsaW5nIG92ZXIgdGhlIGJlc3Qgd2F5IHRvIHNvbHZlIHRoaXMgb25lLi5cbiAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCB0byBtb2RpZnkgdGhlIHNoYWRlciBhdHRyaWJ1dGUgbG9jYXRpb25zIGF0IHJ1biB0aW1lIVxuICAgICAgICB2YXIgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1Zhbykge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXQgYW5kIHVuYmluZCBhbnkgYWN0aXZlIFZBTyBhbmQgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbaV07XG4gICAgICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmIChidWZmZXIuX3VwZGF0ZUlEICE9PSBnbEJ1ZmZlci51cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIGdsQnVmZmVyLnVwZGF0ZUlEID0gYnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbiBjYWNoZSB0aGlzIG9uIGJ1ZmZlciEgbWF5YmUgYWRkZWQgYSBnZXR0ZXIgLyBzZXR0ZXI/XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIuaW5kZXggPyBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiA6IGdsLkFSUkFZX0JVRkZFUjtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kQnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgaWYgKGdsQnVmZmVyLmJ5dGVMZW5ndGggPj0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhd1R5cGUgPSBidWZmZXIuc3RhdGljID8gZ2wuU1RBVElDX0RSQVcgOiBnbC5EWU5BTUlDX0RSQVc7XG4gICAgICAgICAgICAgICAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKHR5cGUsIGJ1ZmZlci5kYXRhLCBkcmF3VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBjb21wYWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIGZvciAodmFyIGogaW4gc2hhZGVyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gdG8gZ2V0IHNpZ25hdHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIHZhciBzdHJpbmdzID0gWydnJywgZ2VvbWV0cnkuaWRdO1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnMpIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciB2YW8gPSB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV07XG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgdGVtcFN0cmlkZSA9IHt9O1xuICAgICAgICB2YXIgdGVtcFN0YXJ0ID0ge307XG4gICAgICAgIGZvciAodmFyIGogaW4gYnVmZmVycykge1xuICAgICAgICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICAgICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghYXR0cmlidXRlc1tqXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiArIFwiJyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbal0uYnVmZmVyXSArPSBhdHRyaWJ1dGVzW2pdLnNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlLnN0cmlkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG4gICAgICAgICAgICBpZiAoIWJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5yZWZDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gLSBtYXliZSBtYWtlIHRoaXMgYSBkYXRhIG9iamVjdD9cbiAgICAgICAgLy8gbGV0cyB3YWl0IHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGZpcnN0IVxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGNhY2hlIVxuICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV0gPSB2YW87XG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBidWZmZXIgLSBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFnbEJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IHdpdGggYnVmZmVycy4gT25seSBWQU8gd2lsbCBiZSBkaXNwb3NlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgY29udGV4dExvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXTtcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCF2YW9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcihidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFvSWQgaW4gdmFvcykge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBvbmx5IHNpZ25hdHVyZXMsIGV2ZXJ5dGhpbmcgZWxzZSBhcmUgY29waWVzXG4gICAgICAgICAgICAgICAgaWYgKHZhb0lkWzBdID09PSAnZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbyA9IHZhb3NbdmFvSWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBhbGwgV2ViR0wgcmVzb3VyY2VzIG9mIGFsbCBtYW5hZ2VkIGdlb21ldHJpZXMgYW5kIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBgZ2wuZGVsZXRlYCBjYWxsc1xuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gKGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBTaGFkZXIgcHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5hY3RpdmF0ZVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLy8gYWRkIGEgbmV3IG9uZSFcbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLCBhdHRyaWJ1dGUuc2l6ZSwgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkLCBhdHRyaWJ1dGUuc3RyaWRlLCBhdHRyaWJ1dGUuc3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHlwZSAtIHRoZSB0eXBlIHByaW1pdGl2ZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemVdIC0gdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gU3RhcnRpbmcgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luc3RhbmNlQ291bnRdIC0gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIHNldCBvZiBlbGVtZW50cyB0byBleGVjdXRlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIC8vIFRPRE8uLiB0aGlzIHNob3VsZCBub3QgY2hhbmdlIHNvIG1heWJlIGNhY2hlIHRoZSBmdW5jdGlvbj9cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZVNpemUgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICAgICAgdmFyIGdsVHlwZSA9IGJ5dGVTaXplID09PSAyID8gZ2wuVU5TSUdORURfU0hPUlQgOiBnbC5VTlNJR05FRF9JTlQ7XG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKSB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kL3Jlc2V0IGV2ZXJ5dGhpbmdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQ29tcG9uZW50IGZvciBtYXNrZWQgZWxlbWVudHNcbiAqXG4gKiBIb2xkcyBtYXNrIG1vZGUgYW5kIHRlbXBvcmFyeSBkYXRhIGFib3V0IGN1cnJlbnQgbWFza1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBNYXNrRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFttYXNrT2JqZWN0PW51bGxdIC0gb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBtYXNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza0RhdGEobWFza09iamVjdCkge1xuICAgICAgICBpZiAobWFza09iamVjdCA9PT0gdm9pZCAwKSB7IG1hc2tPYmplY3QgPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NQVNLX1RZUEVTfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBrbm93IHRoZSBtYXNrIHR5cGUgYmVmb3JlaGFuZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggZWxlbWVudCB3ZSB1c2UgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tPYmplY3QgPSBtYXNrT2JqZWN0IHx8IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0IGJlbG9uZ3MgdG8gTWFza1N5c3RlbSBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2xlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdG9yIG9mIHRoZSB0eXBlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzTWFza0RhdGEgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RlbmNpbCBjb3VudGVyIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaXNzb3IgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIG9wZXJhdGlvbiBhYm92ZSB0aGUgbWFzayBpbiBzdGFjay5cbiAgICAgICAgICogTnVsbCBpZiBfc2Npc3NvckNvdW50ZXIgaXMgemVybywgcmVjdGFuZ2xlIGluc3RhbmNlIGlmIHBvc2l0aXZlLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldGVkIGVsZW1lbnQuIFRlbXBvcmFyeSB2YXJpYWJsZSBzZXQgYnkgTWFza1N5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXNldHMgdGhlIG1hc2sgZGF0YSBhZnRlciBwb3BNYXNrKClcbiAgICAgKi9cbiAgICBNYXNrRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvb2xlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNvcGllcyBjb3VudGVycyBmcm9tIG1hc2tEYXRhIGFib3ZlLCBjYWxsZWQgZnJvbSBwdXNoTWFzaygpXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfG51bGx9IG1hc2tBYm92ZVxuICAgICAqL1xuICAgIE1hc2tEYXRhLnByb3RvdHlwZS5jb3B5Q291bnRlcnNPclJlc2V0ID0gZnVuY3Rpb24gKG1hc2tBYm92ZSkge1xuICAgICAgICBpZiAobWFza0Fib3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IG1hc2tBYm92ZS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYXNrRGF0YTtcbn0oKSk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHNyYyB7c3RyaW5nfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYykge1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbi8qKlxuICogQG1ldGhvZCBjb21waWxlUHJvZ3JhbVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U3JjKTtcbiAgICB2YXIgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYgKGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsVmVydFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4odmVydGV4U3JjKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbFZlcnRTaGFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihnbEZyYWdTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbEZyYWdTaGFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuICAgIHJldHVybiBwcm9ncmFtO1xufVxuXG5mdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSkge1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogQG1ldGhvZCBkZWZhdWx0VmFsdWVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0VmFsdWUodHlwZSwgc2l6ZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAndmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICdidmVjMic6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHVua25vd25Db250ZXh0ID0ge307XG52YXIgY29udGV4dCA9IHVua25vd25Db250ZXh0O1xuLyoqXG4gKiByZXR1cm5zIGEgbGl0dGxlIFdlYkdMIGNvbnRleHQgdG8gdXNlIGZvciBwcm9ncmFtIGluc3BlY3Rpb24uXG4gKlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGEgZ2wgY29udGV4dCB0byB0ZXN0IHdpdGhcbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdENvbnRleHQoKSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0IHx8IChjb250ZXh0ICYmIGNvbnRleHQuaXNDb250ZXh0TG9zdCgpKSkge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBnbCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywge30pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge30pXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHt9KTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNoYWRlciB0ZXN0aW5nLi5cbiAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbnZhciBtYXhGcmFnbWVudFByZWNpc2lvbjtcbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkge1xuICAgIGlmICghbWF4RnJhZ21lbnRQcmVjaXNpb24pIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFByZWNpc2lvbiAtIFRoZSByZXF1ZXN0IGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIHtzdHJpbmd9IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbikge1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKSB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInByZWNpc2lvbiBcIiArIHByZWNpc2lvbiArIFwiIGZsb2F0O1xcblwiICsgc3JjO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJykge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAxLFxuICAgIHZlYzI6IDIsXG4gICAgdmVjMzogMyxcbiAgICB2ZWM0OiA0LFxuICAgIGludDogMSxcbiAgICBpdmVjMjogMixcbiAgICBpdmVjMzogMyxcbiAgICBpdmVjNDogNCxcbiAgICBib29sOiAxLFxuICAgIGJ2ZWMyOiAyLFxuICAgIGJ2ZWMzOiAzLFxuICAgIGJ2ZWM0OiA0LFxuICAgIG1hdDI6IDQsXG4gICAgbWF0MzogOSxcbiAgICBtYXQ0OiAxNixcbiAgICBzYW1wbGVyMkQ6IDEsXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBtYXBTaXplXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXBTaXplKHR5cGUpIHtcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xudmFyIEdMX1RPX0dMU0xfVFlQRVMgPSB7XG4gICAgRkxPQVQ6ICdmbG9hdCcsXG4gICAgRkxPQVRfVkVDMjogJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICd2ZWMzJyxcbiAgICBGTE9BVF9WRUM0OiAndmVjNCcsXG4gICAgSU5UOiAnaW50JyxcbiAgICBJTlRfVkVDMjogJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogJ2l2ZWM0JyxcbiAgICBCT09MOiAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAnYnZlYzInLFxuICAgIEJPT0xfVkVDMzogJ2J2ZWMzJyxcbiAgICBCT09MX1ZFQzQ6ICdidmVjNCcsXG4gICAgRkxPQVRfTUFUMjogJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICdtYXQzJyxcbiAgICBGTE9BVF9NQVQ0OiAnbWF0NCcsXG4gICAgU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG59O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIG1hcFR5cGUoZ2wsIHR5cGUpIHtcbiAgICBpZiAoIUdMX1RBQkxFKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcbiAgICAgICAgICAgIEdMX1RBQkxFW2dsW3RuXV0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbi8vIFBhcnNlcnMsIGVhY2ggb25lIG9mIHRoZXNlIHdpbGwgdGFrZSBhIGxvb2sgYXQgdGhlIHR5cGUgb2Ygc2hhZGVyIHByb3BlcnR5IGFuZCB1bmlmb3JtLlxuLy8gaWYgdGhleSBwYXNzIHRoZSB0ZXN0IGZ1bmN0aW9uIHRoZW4gdGhlIGNvZGUgZnVuY3Rpb24gaXMgY2FsbGVkIHRoYXQgcmV0dXJucyBhIHRoZSBzaGFkZXIgdXBsb2FkIGNvZGUgZm9yIHRoYXQgdW5pZm9ybS5cbi8vIFNoYWRlciB1cGxvYWQgY29kZSBpcyBhdXRvbWFnaWNhbGx5IGdlbmVyYXRlZCB3aXRoIHRoZXNlIHBhcnNlcnMuXG4vLyBJZiBubyBwYXJzZXIgaXMgdmFsaWQgdGhlbiB0aGUgZGVmYXVsdCB1cGxvYWQgZnVuY3Rpb25zIGFyZSB1c2VkLlxuLy8gZXhwb3NpbmcgUGFyc2VycyBtZWFucyB0aGF0IGN1c3RvbSB1cGxvYWQgbG9naWMgY2FuIGJlIGFkZGVkIHRvIHBpeGkncyBzaGFkZXJzLlxuLy8gQSBnb29kIGV4YW1wbGUgd291bGQgYmUgYSBwaXhpIHJlY3RhbmdsZSBjYW4gYmUgZGlyZWN0bHkgc2V0IG9uIGEgdW5pZm9ybS5cbi8vIElmIHRoZSBzaGFkZXIgc2VlcyBpdCBpdCBrbm93cyBob3cgdG8gdXBsb2FkIHRoZSByZWN0YW5nbGUgc3RydWN0dXJlIGFzIGEgdmVjNFxuLy8gZm9ybWF0IGlzIGFzIGZvbGxvd3M6XG4vL1xuLy8ge1xuLy8gICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiB7fSA8LS0tIHRlc3QgaXMgdGhpcyBjb2RlIHNob3VsZCBiZSB1c2VkIGZvciB0aGlzIHVuaWZvcm1cbi8vICAgICBjb2RlOiAobmFtZSwgdW5pZm9ybSkgPT4ge30gPC0tLSByZXR1cm5zIHRoZSBzdHJpbmcgb2YgdGhlIHBpZWNlIG9mIGNvZGUgdGhhdCB1cGxvYWRzIHRoZSB1bmlmb3JtXG4vLyB9XG52YXIgdW5pZm9ybVBhcnNlcnMgPSBbXG4gICAgLy8gYSBmbG9hdCBjYWNoZSBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICdmbG9hdCcgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgaWYodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0gIT09IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlKVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXVxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGhhbmRsaW5nIHNhbXBsZXJzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIHJldHVybiAoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFwidCA9IHN5bmNEYXRhLnRleHR1cmVDb3VudCsrO1xcblxcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSwgdCk7XFxuXFxuICAgICAgICAgICAgaWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgIT09IHQpXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSA9IHQ7XFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdCk7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cXG4gICAgICAgICAgICB9XCI7IH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWRpbmcgcGl4aSBtYXRyaXggb2JqZWN0IHRvIG1hdDNcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0uYSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgZmFsc2UsIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnRvQXJyYXkodHJ1ZSkpO1xcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIGEgcGl4aSBwb2ludCBhcyBhIHZlYzIgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLnggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdi54LCB2LnkpO1xcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBjYWNoaW5nIGxheWVyIGZvciBhIHZlYzJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjMicgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZCBhIHBpeGkgcmVjdGFuZ2xlIGFzIGEgdmVjNCB3aXRoIGNhY2hpbmcgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0ud2lkdGggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGEgY2FjaGluZyBsYXllciBmb3IgdmVjNCB1cGxvYWRpbmdcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdlsyXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcXG5cXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0gXTtcblxuLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG52YXIgR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgPSB7XG4gICAgZmxvYXQ6IFwiXFxuICAgIGlmKGN2ICE9PSB2KVxcbiAgICB7XFxuICAgICAgICBjdi52ID0gdjtcXG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdilcXG4gICAgfVwiLFxuICAgIHZlYzI6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXFxuICAgIH1cIixcbiAgICB2ZWMzOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxcbiAgICB9XCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00Zihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGludDogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xudmFyIEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogXCJnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzI6IFwiZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMzOiBcImdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgYm9vbDogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgdmFyIGZ1bmNGcmFnbWVudHMgPSBbXCJcXG4gICAgICAgIHZhciB2ID0gbnVsbDtcXG4gICAgICAgIHZhciBjdiA9IG51bGxcXG4gICAgICAgIHZhciB0ID0gMDtcXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsXFxuICAgIFwiXTtcbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBkYXRhID0gdW5pZm9ybURhdGFbaV07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cCh1dltcXFwiXCIgKyBpICsgXCJcXFwiXSwgc3luY0RhdGEpO1xcbiAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgICB2YXIgcGFyc2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdW5pZm9ybVBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtUGFyc2Vyc1tqXS50ZXN0KGRhdGEsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKHVuaWZvcm1QYXJzZXJzW2pdLmNvZGUoaSwgdW5pZm9ybSkpO1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVR5cGUgPSAoZGF0YS5zaXplID09PSAxKSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGVUeXBlW2RhdGEudHlwZV0ucmVwbGFjZSgnbG9jYXRpb24nLCBcInVkW1xcXCJcIiArIGkgKyBcIlxcXCJdLmxvY2F0aW9uXCIpO1xuICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgaSArIFwiXFxcIl07XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiB0aGUgaW50cm9kdWN0aW9uIG9mIHN5bmNEYXRhIGlzIHRvIHNvbHZlIGFuIGlzc3VlIHdoZXJlIHRleHR1cmVzIGluIHVuaWZvcm0gZ3JvdXBzIGFyZSBub3Qgc2V0IGNvcnJlY3RseVxuICAgICAqIHRoZSB0ZXh0dXJlIGNvdW50IHdhcyBhbHdheXMgc3RhcnRpbmcgZnJvbSAwIGluIGVhY2ggZ3JvdXAuIFRoaXMgbmVlZHMgdG8gaW5jcmVtZW50IGVhY2ggdGltZSBhIHRleHR1cmUgaXMgdXNlZFxuICAgICAqIG5vIG1hdHRlciB3aGljaCBncm91cCBpcyBiZWluZyB1c2VkXG4gICAgICpcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsICdzeW5jRGF0YScsIGZ1bmNGcmFnbWVudHMuam9pbignXFxuJykpO1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykge1xuICAgIHZhciBzcmMgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gXCJpZih0ZXN0ID09IFwiICsgaSArIFwiLjApe31cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gICAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbi8vIENhY2hlIHRoZSByZXN1bHQgdG8gcHJldmVudCBydW5uaW5nIHRoaXMgb3ZlciBhbmQgb3ZlclxudmFyIHVuc2FmZUV2YWw7XG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHVuc2FmZUV2YWwgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbnZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVxcblwiO1xuXG52YXIgVUlEJDMgPSAwO1xudmFyIG5hbWVDYWNoZSA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJ3BpeGktc2hhZGVyJzsgfVxuICAgICAgICB0aGlzLmlkID0gVUlEJDMrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gdGhpcy52ZXJ0ZXhTcmMudHJpbSgpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gdGhpcy5mcmFnbWVudFNyYy50cmltKCk7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IFwiLVwiICsgbmFtZUNhY2hlW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyB0aGlzLnZlcnRleFNyYztcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArIHRoaXMuZnJhZ21lbnRTcmM7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICAgICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgICAgICB0aGlzLmdsUHJvZ3JhbXMgPSB7fTtcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZGF0YSBmb3IgYSBidXkgY3JlYXRpbmcgYSBzbWFsbCB0ZXN0IHByb2dyYW1cbiAgICAgKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKi9cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5leHRyYWN0RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKSB7XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlRGF0YSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBnbCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlc0FycmF5ID0gW107XG4gICAgICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5W2ldLmxvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0VW5pZm9ybURhdGEgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZ2wpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge307XG4gICAgICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICAgICAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdJC8sICcnKTtcbiAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdJC8pO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmlmb3JtcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRGcmFnbWVudFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1waXhpLXNoYWRlcl0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlByb2dyYW19IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBQcm9ncmFtLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSkge1xuICAgICAgICB2YXIga2V5ID0gdmVydGV4U3JjICsgZnJhZ21lbnRTcmM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW07XG4gICAgfTtcbiAgICByZXR1cm4gUHJvZ3JhbTtcbn0oKSk7XG5cbi8qKlxuICogQSBoZWxwZXIgY2xhc3MgZm9yIHNoYWRlcnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaGFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtwcm9ncmFtXSAtIFRoZSBwcm9ncmFtIHRoZSBzaGFkZXIgd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3Jtcykge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpbWUgdG8gYnVpbGQgc29tZSBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAvLyBJIGd1ZXNzIGRvd24gdGhlIGxpbmUgdGhpcyBjb3VsZCBzb3J0IG9mIGdlbmVyYXRlIGFuIGluc3RydWN0aW9uIGxpc3QgcmF0aGVyIHRoYW4gdXNlIGRpcnR5IGlkcz9cbiAgICAgICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBTaGFkZXIucHJvdG90eXBlLmNoZWNrVW5pZm9ybUV4aXN0cyA9IGZ1bmN0aW9uIChuYW1lLCBncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG4gICAgICAgICAgICBpZiAodW5pZm9ybS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAgICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2hhZGVyLnByb3RvdHlwZSwgXCJ1bmlmb3Jtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc2hhZGVyIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaGFkZXJ9IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBTaGFkZXIuZnJvbSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oKSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBCTEVORCA9IDA7XG52YXIgT0ZGU0VUID0gMTtcbnZhciBDVUxMSU5HID0gMjtcbnZhciBERVBUSF9URVNUID0gMztcbnZhciBXSU5ESU5HID0gNDtcbi8qKlxuICogVGhpcyBpcyBhIFdlYkdMIHN0YXRlLCBhbmQgaXMgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gMDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImJsZW5kXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwib2Zmc2V0c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgYWRkaW5nIGFuIG9mZnNldCB0byBkZXB0aCB2YWx1ZXMgb2YgcG9seWdvbidzIGZyYWdtZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImN1bGxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBDVUxMSU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiZGVwdGhUZXN0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBkZXB0aCBjb21wYXJpc29ucyBhbmQgdXBkYXRlcyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImNsb2Nrd2lzZUZyb250RmFjZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcInBvbHlnb25PZmZzZXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlLmZvcjJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlO1xufSgpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDEgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLCBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9ncmFtLCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAgICAgKiBpbmNyZWFzZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGZpbHRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b0ZpdCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZWdhY3kgZmlsdGVycyB1c2UgcG9zaXRpb24gYW5kIHV2cyBmcm9tIGF0dHJpYnV0ZXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sZWdhY3kgPSAhIV90aGlzLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIHRoZSBmaWx0ZXIgcmVxdWlyZXMgdG8gcmVuZGVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAgICovXG4gICAgRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUsIF9jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgLy8gZG8gYXMgeW91IHBsZWFzZSFcbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlci5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIsIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlciwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRmlsdGVyO1xufShTaGFkZXIpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hc2s7XFxudW5pZm9ybSBmbG9hdCBhbHBoYTtcXG51bmlmb3JtIGZsb2F0IG5wbUFscGhhO1xcbnVuaWZvcm0gdmVjNCBtYXNrQ2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC54LCB2TWFza0Nvb3JkLngpICtcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLnksIHZNYXNrQ29vcmQueSkgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLngsIG1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQobWFzaywgdk1hc2tDb29yZCk7XFxuICAgIGZsb2F0IGFscGhhTXVsID0gMS4wIC0gbnBtQWxwaGEgKiAoMS4wIC0gbWFza3kuYSk7XFxuXFxuICAgIG9yaWdpbmFsICo9IChhbHBoYU11bCAqIG1hc2t5LnIgKiBhbHBoYSAqIGNsaXApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcmlnaW5hbDtcXG59XFxuXCI7XG5cbnZhciB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIFRha2VzIGB0cmltYCBhbmQgYHJvdGF0ZWAgaW50byBhY2NvdW50LiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBmb3IgTWVzaGVzIGFuZCBUaWxpbmdTcHJpdGUuXG4gKlxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBgdXZNYXRyaXhgIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogVGFrZXMgdHJhY2sgb2YgVGV4dHVyZSBjaGFuZ2VzIHRocm91Z2ggYF9sYXN0VGV4dHVyZUlEYCBwcml2YXRlIGZpZWxkLlxuICogVXNlIGB1cGRhdGUoKWAgbWV0aG9kIGNhbGwgdG8gdHJhY2sgaXQgZnJvbSBvdXRzaWRlLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkuTWVzaFxuICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZU1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gb2JzZXJ2ZWQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xhbXBNYXJnaW5dIC0gQ2hhbmdlcyBmcmFtZSBjbGFtcGluZywgMC41IGJ5IGRlZmF1bHQuIFVzZSAtMC41IGZvciBleHRyYSBib3JkZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hdHJpeCh0ZXh0dXJlLCBjbGFtcE1hcmdpbikge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdHJpeCBvcGVyYXRpb24gdGhhdCBjb252ZXJ0cyB0ZXh0dXJlIHJlZ2lvbiBjb29yZHMgdG8gdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsYW1wIHJlZ2lvbiBmb3Igbm9ybWFsaXplZCBjb29yZHMsIGxlZnQtdG9wIHBpeGVsIGNlbnRlciBpbiB4eSAsIGJvdHRvbS1yaWdodCBpbiB6dy5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm9ybWFsaXplZCBjbGFtcCBvZmZzZXQuXG4gICAgICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB1dnMgYXJyYXkgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyAtIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uICh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gLSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl91cGRhdGVJRCA9PT0gdGV4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gdGV4Ll91cGRhdGVJRDtcbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpKTtcblxuLyoqXG4gKiBUaGlzIGhhbmRsZXMgYSBTcHJpdGUgYWN0aW5nIGFzIGEgbWFzaywgYXMgb3Bwb3NlZCB0byBhIEdyYXBoaWMuXG4gKlxuICogV2ViR0wgb25seS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlTWFza0ZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ByaXRlTWFza0ZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgdGFyZ2V0IHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZU1hc2tGaWx0ZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpIHx8IHRoaXM7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSBtYXNrU3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnV2TWF0cml4KSB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLmFscGhhTW9kZSA/IDAuMCA6IDEuMDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICAvLyBnZXQgX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzXyBhbmQgY29udmVydCB0aGVtIHRvIF9ub3JtYWxpemVkIGF0bGFzIHRleHR1cmUgY29vcmRzXyB3aXRoIGBwcmVwZW5kYFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKVxuICAgICAgICAgICAgLnByZXBlbmQodGV4LnV2TWF0cml4Lm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudXZNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgTWFza1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFza1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVTY2lzc29yID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVzZWQgc3ByaXRlIG1hc2sgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZU1hc2tGaWx0ZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIG1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza0RhdGFQb29sID0gW107XG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBpbmRleCBvZiBhbHBoYSBtYXNrIHBvb2xcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhW119IG1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gKG1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfFBJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N8UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG1hc2tEYXRhT3JUYXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKSB7XG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMubWFza0RhdGFQb29sLnBvcCgpIHx8IG5ldyBNYXNrRGF0YSgpO1xuICAgICAgICAgICAgZC5wb29sZWQgPSB0cnVlO1xuICAgICAgICAgICAgZC5tYXNrT2JqZWN0ID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgICAgIG1hc2tEYXRhID0gZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFza0RhdGEuYXV0b0RldGVjdCkge1xuICAgICAgICAgICAgdGhpcy5kZXRlY3QobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQodGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0pO1xuICAgICAgICBtYXNrRGF0YS5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBzd2l0Y2ggKG1hc2tEYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TVEVOQ0lMOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghbWFza0RhdGEgfHwgbWFza0RhdGEuX3RhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgYW4gYXNzZXJ0IHdoZW4gd2UgaGF2ZSBpdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnBvcChtYXNrRGF0YS5tYXNrT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLnJlc2V0KCk7XG4gICAgICAgIGlmIChtYXNrRGF0YS5wb29sZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFza0RhdGFQb29sLnB1c2gobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHR5cGUgb2YgTWFza0RhdGEgYmFzZWQgb24gaXRzIG1hc2tPYmplY3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QuaXNTcHJpdGUpIHtcbiAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNQUklURTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TVEVOQ0lMO1xuICAgICAgICAvLyBkZXRlY3Qgc2Npc3NvciBpbiBncmFwaGljc1xuICAgICAgICBpZiAodGhpcy5lbmFibGVTY2lzc29yXG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3RcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdCgpKSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbWFza09iamVjdC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhlIGNoZWNrIHRvIHRoZSBtYXRyaXggaXRzZWxmXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY2hlY2tpbmcgdGhhdCBpdHMgb3J0aG9nb25hbCBhbmQgeCByb3RhdGlvbiBpcyAwIDkwIDE4MCBvciAyNzBcbiAgICAgICAgICAgIHZhciByb3RYID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuICAgICAgICAgICAgdmFyIHJvdFhZID0gTWF0aC5hdGFuMihtYXRyaXguZCwgbWF0cml4LmMpO1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSB0byAwLjAxXG4gICAgICAgICAgICByb3RYID0gTWF0aC5yb3VuZChyb3RYICogKDE4MCAvIE1hdGguUEkpICogMTAwKTtcbiAgICAgICAgICAgIHJvdFhZID0gTWF0aC5yb3VuZChyb3RYWSAqICgxODAgLyBNYXRoLlBJKSAqIDEwMCkgLSByb3RYO1xuICAgICAgICAgICAgcm90WCA9ICgocm90WCAlIDkwMDApICsgOTAwMCkgJSA5MDAwO1xuICAgICAgICAgICAgcm90WFkgPSAoKHJvdFhZICUgMTgwMDApICsgMTgwMDApICUgMTgwMDA7XG4gICAgICAgICAgICBpZiAocm90WCA9PT0gMCAmJiByb3RYWSA9PT0gOTAwMCkge1xuICAgICAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNDSVNTT1I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2sgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbWFza0RhdGEuX3RhcmdldDtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcihtYXNrT2JqZWN0KV07XG4gICAgICAgIH1cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza09iamVjdDtcbiAgICAgICAgdmFyIHN0YXNoRmlsdGVyQXJlYSA9IHRhcmdldC5maWx0ZXJBcmVhO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wdXNoKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBzdGFzaEZpbHRlckFyZWE7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wU3ByaXRlTWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuICAgIHJldHVybiBNYXNrU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQWJzdHJhY3RNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE1hc2tTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudCBmb3IgZ2wuZW5hYmxlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldHMgY291bnQgb2YgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXNrU3RhY2subGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIChtYXNrU3RhY2spIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGN1clN0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdmFyIG5ld1N0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzY2lzc29yIHJlY3RzICh1c2VkIGZvciBtYXNrcykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU2Npc3NvclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2Npc3NvclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY2lzc29yU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNDSVNTT1JfVEVTVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICB2YXIgcHJldkRhdGEgPSBtYXNrRGF0YS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmIChwcmV2RGF0YSkge1xuICAgICAgICAgICAgYm91bmRzLmZpdChwcmV2RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXIrKztcbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0ID0gYm91bmRzO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHNjaXNzb3IgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzY2lzc29yIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBydCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24sIHRyYW5zZm9ybSA9IF9hLnRyYW5zZm9ybSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcnQgPyBydC5yZXNvbHV0aW9uIDogdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgeCA9ICgocmVjdC54IC0gc291cmNlRnJhbWUueCkgKiByZXNvbHV0aW9uKSArIGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgdmFyIHkgPSAoKHJlY3QueSAtIHNvdXJjZUZyYW1lLnkpICogcmVzb2x1dGlvbikgKyBkZXN0aW5hdGlvbkZyYW1lLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJlY3Qud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB4ICs9IHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB5ICs9IHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydCkge1xuICAgICAgICAgICAgLy8gZmxpcFkuIEluIGZ1dHVyZSB3ZSdsbCBoYXZlIGl0IG92ZXIgcmVuZGVyVGV4dHVyZXMgYXMgYW4gb3B0aW9uXG4gICAgICAgICAgICB5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoZWlnaHQgLSB5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBTY2lzc29yU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc3RlbmNpbHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGVuY2lsU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGVuY2lsU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RFTkNJTF9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHByZXZNYXNrQ291bnQgPSBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmb3JjZSB1c2Ugc3RlbmNpbCB0ZXh0dXJlIGluIGN1cnJlbnQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXIrKztcbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBzdGVuY2lsIG1hc2suIE1hc2tEYXRhIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gbWFza09iamVjdCAtIG9iamVjdCBvZiBwb3BwZWQgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKG1hc2tPYmplY3QpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIHBvcHBlZCBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG90aGVyIG9uZXNcbiAgICAgICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLmdldFN0YWNrTGVuZ3RoKCksIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5nZXRTdGFja0xlbmd0aCgpKSAtIDE7XG4gICAgfTtcbiAgICByZXR1cm4gU3RlbmNpbFN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBQcm9qZWN0aW9uU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9qZWN0aW9uU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGRlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0IG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuICAgICAgICAvLyB0aGlzIHdpbGwgd29yayBmb3Igbm93XG4gICAgICAgIC8vIGJ1dCB3b3VsZCBiZSBzd2VldCB0byBzdGljayBhbmQgZXZlbiBvbiB0aGUgZ2xvYmFsIHVuaWZvcm1zLi5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnNoYWRlci5zaGFkZXIpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHJlbmRlcmVyLnNoYWRlci5zaGFkZXIudW5pZm9ybXMuZ2xvYmFscyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgICAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHZhciBzaWduID0gIXJvb3QgPyAxIDogLTE7XG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgd2Ugd2lsbCBuZWVkIHRoaXMgbGluZS4uXG4gICAgICAgIC8vIHBtLmlkZW50aXR5KCk7XG4gICAgICAgIHBtLmEgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyKSAqIHJlc29sdXRpb247XG4gICAgICAgIHBtLmQgPSBzaWduICogKDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgIHBtLnR5ID0gLXNpZ24gLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9tYXRyaXgpIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuICAgIHJldHVybiBQcm9qZWN0aW9uU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgcmVuZGVyIHRleHR1cmVzLlxuICpcbiAqIFNob3VsZCBiZSBhZGRlZCBhZnRlciBGcmFtZWJ1ZmZlclN5c3RlbVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFJlbmRlclRleHR1cmVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlclRleHR1cmVTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGVhciBiYWNrZ3JvdW5kIGNvbG9yIGFzIHJnYmFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzIHByb3BlcnR5IHNvbWV3aGVyZSBlbHNlIVxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYXNrcyBmb3IgdGhlIFN0ZW5jaWxTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRNYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdGhlIGN1cnJlbnQgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gUmVuZGVyVGV4dHVyZSB0byBiaW5kLCBieSBkZWZhdWx0IGl0cyBgbnVsbGAsIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlRnJhbWVdIC0gcGFydCBvZiBzY3JlZW4gdGhhdCBpcyBtYXBwZWQgdG8gdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdGluYXRpb25GcmFtZV0gLSBwYXJ0IG9mIHJlbmRlclRleHR1cmUsIGJ5IGRlZmF1bHQgaXQgaGFzIHRoZSBzYW1lIHNpemUgYXMgc291cmNlRnJhbWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlID09PSB2b2lkIDApIHsgcmVuZGVyVGV4dHVyZSA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoYmFzZVRleHR1cmUuZnJhbWVidWZmZXIsIGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnVwZGF0ZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayhiYXNlVGV4dHVyZS5tYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhlc2UgdmFsaWRhdGlvbiBjaGVja3MgaGFwcGVuIGRlZXBlciBkb3duLi5cbiAgICAgICAgICAgIC8vIHRoaW5nIHRoZXkgY2FuIGJlIGF2b2lkZWQuLlxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQobnVsbCwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRoaXMuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnVwZGF0ZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKHRoaXMuZGVmYXVsdE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHNvdXJjZUZyYW1lID09PSBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHRoaXMuZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoY2xlYXJDb2xvciwgbWFzaykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10sIG1hc2spO1xuICAgIH07XG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXNpemUgdGhlIHJvb3Qgb25seSFcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgSUdMVW5pZm9ybURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSUdMVW5pZm9ybURhdGEoKSB7XG4gICAgfVxuICAgIHJldHVybiBJR0xVbmlmb3JtRGF0YTtcbn0oKSk7XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgbmV3IFBpeGkgcHJvZ3JhbVxuICAgICAqXG4gICAgICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB1bmlmb3JtRGF0YSB7T2JqZWN0fSB1bmlmb3Jtc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMUHJvZ3JhbShwcm9ncmFtLCB1bmlmb3JtRGF0YSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciBwcm9ncmFtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBob2xkcyB0aGUgdW5pZm9ybSBkYXRhIHdoaWNoIGNvbnRhaW5zIHVuaWZvcm0gbG9jYXRpb25zXG4gICAgICAgICAqIGFuZCBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHVzZWQgZm9yIGNhY2hpbmcgYW5kIHByZXZlbnRpbmcgdW5uZWVkZWQgR1BVIGNvbW1hbmRzXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICAgICAqIGFuZCBwcm9ncmFtIGhhdmUgYSB1bmlxdWUgdXBsb2FkIGZ1bmN0aW9uIGdlbmVyYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIEdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR0xQcm9ncmFtO1xufSgpKTtcblxudmFyIFVJRCQ0ID0gMDtcbi8vIGRlZnVhbHQgc3luYyBkYXRhIHNvIHdlIGRvbid0IGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxudmFyIGRlZmF1bHRTeW5jRGF0YSA9IHsgdGV4dHVyZUNvdW50OiAwIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2hhZGVyU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgX3RoaXMuc3lzdGVtQ2hlY2soKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgX3RoaXMuaWQgPSBVSUQkNCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5c3RlbUNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRTeW5jXSAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChzaGFkZXIsIGRvbnRTeW5jKSB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAvLyBUT0RPIC0gc29tZSBjdXJyZW50IFBpeGkgcGx1Z2lucyBieXBhc3MgdGhpcy4uIHNvIGl0IG5vdCBzYWZlIHRvIHVzZSB5ZXQuLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmFtICE9PSBwcm9ncmFtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbnRTeW5jKSB7XG4gICAgICAgICAgICBkZWZhdWx0U3luY0RhdGEudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1Hcm91cChzaGFkZXIudW5pZm9ybUdyb3VwLCBkZWZhdWx0U3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdW5pZm9ybXMgLSB0aGUgdW5pZm9ybXMgdmFsdWVzIHRoYXQgYmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnNldFVuaWZvcm1zID0gZnVuY3Rpb24gKHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIHNoYWRlci5zeW5jVW5pZm9ybXMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCB1bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBzeW5jcyB1bmlmb3JtcyBvbiB0aGUgZ3JvdXBcbiAgICAgKiBAcGFyYW0geyp9IGdyb3VwIC0gdGhlIHVuaWZvcm0gZ3JvdXAgdG8gc3luY1xuICAgICAqIEBwYXJhbSB7Kn0gW3N5bmNEYXRhXSAtIHRoaXMgaXMgZGF0YSB0aGF0IGlzIHBhc3NlZCB0byB0aGUgc3luYyBmdW5jdGlvbiBhbmQgYW55IG5lc3RlZCBzeW5jIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3luY1VuaWZvcm1Hcm91cCA9IGZ1bmN0aW9uIChncm91cCwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHRoaXMuZ2V0Z2xQcm9ncmFtKCk7XG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSkge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIChncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSkge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgc3luY0RhdGEpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgLSB1bmlmb3JtIGluZm9ybWF0aW9uIGdlbmVyYXRlZCBieSB0aGUgc2hhZGVyXG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgdW5pZm9ybSBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IGdyb3VwLnVuaWZvcm1zO1xuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKSB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldGdsUHJvZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuICAgICAgICAgICAgdW5pZm9ybURhdGFbaV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKGRhdGEudHlwZSwgZGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuICAgICAgICBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFByb2dyYW07XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5ID09PSB2b2lkIDApIHsgYXJyYXkgPSBbXTsgfVxuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlhPUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EJDEgPSAwO1xudmFyIE9GRlNFVCQxID0gMTtcbnZhciBDVUxMSU5HJDEgPSAyO1xudmFyIERFUFRIX1RFU1QkMSA9IDM7XG52YXIgV0lORElORyQxID0gNDtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIFdlYkdMIHN0YXRlIG1hY2hpbmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0YXRlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGF0ZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdMIGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIElEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PTkVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBjdXJyZW50IGJsZW5kIGVxdWF0aW9uIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IFtdO1xuICAgICAgICAvLyBtYXAgZnVuY3Rpb25zIGZvciB3aGVuIHdlIHNldCBzdGF0ZS4uXG4gICAgICAgIF90aGlzLm1hcFtCTEVORCQxXSA9IF90aGlzLnNldEJsZW5kO1xuICAgICAgICBfdGhpcy5tYXBbT0ZGU0VUJDFdID0gX3RoaXMuc2V0T2Zmc2V0O1xuICAgICAgICBfdGhpcy5tYXBbQ1VMTElORyQxXSA9IF90aGlzLnNldEN1bGxGYWNlO1xuICAgICAgICBfdGhpcy5tYXBbREVQVEhfVEVTVCQxXSA9IF90aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgX3RoaXMubWFwW1dJTkRJTkckMV0gPSBfdGhpcy5zZXRGcm9udEZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpO1xuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBwb2x5Z29uIG9mZnNldCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRPZmZzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgY3VsbCBmYWNlLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRDdWxsRmFjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JsZW5kRXEpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShnbC5GVU5DX0FERCwgZ2wuRlVOQ19BREQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICB0aGlzLmdsLnBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKTtcbiAgICB9O1xuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZm9yY2VTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNoZWNrcyB0byBzZWUgd2hpY2ggdXBkYXRlcyBzaG91bGQgYmUgY2hlY2tlZCBiYXNlZCBvbiB3aGljaCBzZXR0aW5ncyBoYXZlIGJlZW4gYWN0aXZhdGVkLlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBibGVuZCBpcyBlbmFibGVkIHRoZW4gd2Ugc2hvdWxkIGNoZWNrIHRoZSBibGVuZCBtb2RlcyBlYWNoIHRpbWUgdGhlIHN0YXRlIGlzIGNoYW5nZWRcbiAgICAgKiBvciBpZiBwb2x5Z29uIGZpbGwgaXMgYWN0aXZhdGVkIHRoZW4gd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcG9seWdvbiBvZmZzZXQgY2hhbmdlcy5cbiAgICAgKiBUaGUgaWRlYSBpcyB0aGF0IHdlIG9ubHkgY2hlY2sgd2hhdCB3ZSBoYXZlIHRvby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBzaG91bGQgdGhlIGNoZWNrIGZ1bmN0aW9uIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUNoZWNrID0gZnVuY3Rpb24gKGZ1bmMsIHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gLSB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrUG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uIChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KDEsIHN0YXRlLnBvbHlnb25PZmZzZXQpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZSBnYXJiYWdlIGNvbGxlY3Rpb24gb24gdGhlIEdQVSxcbiAqIGVuc3VyaW5nIHRoYXQgaXQgZG9lcyBub3QgZ2V0IGNsb2dnZWQgdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBUZXh0dXJlR0NTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmVHQ1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR0NTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgY291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGl0ZW0gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vZGUgPSBzZXR0aW5ncy5HQ19NT0RFO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgdGV4dHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gdGhlIEdQVVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS51bmxvYWQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKChfYSA9IGRpc3BsYXlPYmplY3QuX3RleHR1cmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZUdDU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgc3R5bGUgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBtaXAgbGV2ZWxzIGhhcyB0byBiZSBnZW5lcmF0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IDY0MDg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSA1MTIxO1xuICAgIH1cbiAgICByZXR1cm4gR0xUZXh0dXJlO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgVGV4dHVyZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgc29tZW9uZSB0ZW1wZXIgd2l0aCB0ZXh0dXJlcyBzdGF0ZT8gV2UnbGwgb3ZlcndyaXRlIHRoZW0gd2hlbiB3ZSBuZWVkIHRvIHVuYmluZCBzb21ldGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuICAgICAgICB2YXIgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgICAgIHZhciBlbXB0eVRleHR1cmUyRCA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0udGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIHRleHR1cmUgdG8gYSBzcGVjaWZpYyBsb2NhdGlvblxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gdW5iaW5kIHNvbWV0aGluZywgcGxlYXNlIHVzZSBgdW5iaW5kKHRleHR1cmUpYCBpbnN0ZWFkIG9mIGBiaW5kKG51bGwsIHRleHR1cmVMb2NhdGlvbilgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXyAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IHZvaWQgMCkgeyBsb2NhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmluZCBwYXJ0aWFsIHRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXBvcnQgYSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCAhPT0gdGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0ZXh0dXJlIGxvY2F0aW9uIGFuZCBib3VuZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQWN0dWFsIGBiaW5kKG51bGwsIGkpYCBjYWxscyB3aWxsIGJlIHBlcmZvcm1lZCBhdCBuZXh0IGB1bmJpbmQoKWAgY2FsbFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYm91bmRUZXh0dXJlcyA9IF9hLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGhpcy51bmtub3duVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICAvLyBndWFyYW50ZWUgYW4gdXBkYXRlLi5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGdsVGV4dHVyZTtcbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH07XG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuaW5pdFRleHR1cmVUeXBlID0gZnVuY3Rpb24gKHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSB0ZXh0dXJlLmZvcm1hdDtcbiAgICAgICAgZ2xUZXh0dXJlLnR5cGUgPSB0ZXh0dXJlLnR5cGU7XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLmluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0ZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlXyAtIHRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3lcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMiAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSB0ZXh0dXJlLndyYXBNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgc3R5bGUgZm9yIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgZ2xUZXh0dXJlLndyYXBNb2RlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG4gICAgICAgICAgICBpZiAoYW5pc290cm9waWNFeHQgJiYgdGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsID4gMCAmJiB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbXMgYXJlIGluZGl2aWR1YWwgY29tcG9uZW50cyB0byB0aGUgUmVuZGVyZXIgcGlwZWxpbmUuXG4gKiBAbmFtZXNwYWNlIFBJWEkuc3lzdGVtc1xuICovXG5cbnZhciBzeXN0ZW1zID0gKHtcbiAgICBGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcbiAgICBCYXRjaFN5c3RlbTogQmF0Y2hTeXN0ZW0sXG4gICAgQ29udGV4dFN5c3RlbTogQ29udGV4dFN5c3RlbSxcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG4gICAgR2VvbWV0cnlTeXN0ZW06IEdlb21ldHJ5U3lzdGVtLFxuICAgIE1hc2tTeXN0ZW06IE1hc2tTeXN0ZW0sXG4gICAgU2Npc3NvclN5c3RlbTogU2Npc3NvclN5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufSk7XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBUaGUgQWJzdHJhY3RSZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5SZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBYnN0cmFjdFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSZW5kZXJlcih0eXBlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRGVwcmVjYXRpb24gbm90aWNlIGZvciByZW5kZXJlciByb3VuZFBpeGVscyBvcHRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLlJPVU5EX1BJWEVMUyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4wLjAnLCAnUmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFMnLCAyKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB0aGUgd2hvbGUgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIENTUyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvRGVuc2l0eSA9IG9wdGlvbnMuYXV0b0RlbnNpdHkgfHwgb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuICAgICAgICAvLyBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHByb3ZpZGVzIGZhbGxiYWNrIHN1cHBvcnRcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUsIGlmXG4gICAgICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCBfdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBsdWdpbnMuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5zID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gKHN0YXRpY01hcCkge1xuICAgICAgICBmb3IgKHZhciBvIGluIHN0YXRpY01hcCkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IChzdGF0aWNNYXBbb10pKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAodGhpcy5hdXRvRGVuc2l0eSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciB2aWV3IGhhcyBiZWVuIHJlc2l6ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Jlc2l6ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdyZXNpemUnLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IHNjYWxlTW9kZSAtIFRoZSBzY2FsZSBtb2RlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IEEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbikge1xuICAgICAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKVxuICAgICAgICAgICAgeyByZWdpb24ud2lkdGggPSAxOyB9XG4gICAgICAgIGlmIChyZWdpb24uaGVpZ2h0ID09PSAwKVxuICAgICAgICAgICAgeyByZWdpb24uaGVpZ2h0ID0gMTsgfVxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiByZWdpb24ud2lkdGggfCAwLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWdpb24uaGVpZ2h0IHwgMCxcbiAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCAhIWRpc3BsYXlPYmplY3QucGFyZW50KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0FueSA9IHRoaXM7XG4gICAgICAgIC8vIG51bGwtaW5nIGFsbCBvYmplY3RzLCB0aGF0J3MgYSB0cmFkaXRpb24hXG4gICAgICAgIHRoaXNBbnkucGx1Z2lucyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcbiAgICAgICAgdGhpc0FueS52aWV3ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5zY3JlZW4gPSBudWxsO1xuICAgICAgICB0aGlzQW55Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkub3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IGhleDJzdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQWJzdHJhY3RSZW5kZXJlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogVGhlIFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSBXZWJHTCBlbmFibGVkIGNhbnZhcy5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHNob3VsZCBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgV2ViR0wuXG4gKlxuICogVGhpcyByZW5kZXJlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIFdlYkdMQmF0Y2hlc20sIHNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmchXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5BYnN0cmFjdFJlbmRlcmVyXG4gKi9cbnZhciBSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzLiBJZiBub3QgYXZhaWxhYmxlIG5hdGl2ZWx5IHRoZW4gRlhBQVxuICAgICAqICBhbnRpYWxpYXNpbmcgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKiAgVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXJcbiAgICAgKiAgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuIElmIHlvdSB3aXNoIHRvIHNldCB0aGlzIHRvIGZhbHNlLCB5b3UgKm11c3QqIHNldFxuICAgICAqICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgdG8gYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byBXZWJHTCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNvbnRleHRdIC0gSWYgV2ViR0wgY29udGV4dCBhbHJlYWR5IGV4aXN0cywgYWxsIHBhcmFtZXRlcnMgbXVzdCBiZSB0YWtlbiBmcm9tIGl0LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFJFTkRFUkVSX1RZUEUuV0VCR0wsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8vIHRoZSBvcHRpb25zIHdpbGwgaGF2ZSBiZWVuIG1vZGlmaWVkIGhlcmUgaW4gdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdpdGggcGl4aSdzIGRlZmF1bHQgc2V0dGluZ3MuLlxuICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIGNvbnRleHQsIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2wgPSBudWxsO1xuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgc2lnbmFsIGluc3RhbmNlcyBvZiAqKnJ1bm5lcioqLCB0aGVzZVxuICAgICAgICAgKiBhcmUgYXNzaWduZWQgdG8gZWFjaCBzeXN0ZW0gY3JlYXRlZC5cbiAgICAgICAgICogQHNlZSBQSVhJLlJ1bm5lclxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3J1bm5lcnNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGRlc3Ryb3kgLSBEZXN0cm95IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBjb250ZXh0Q2hhbmdlIC0gQ29udGV4dCBjaGFuZ2UgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2V0IC0gUmVzZXQgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHVwZGF0ZSAtIFVwZGF0ZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcG9zdHJlbmRlciAtIFBvc3QtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwcmVyZW5kZXIgLSBQcmUtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNpemUgLSBSZXNpemUgcnVubmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJyksXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2lzc29yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNjaXNzb3JTeXN0ZW19IHNjaXNzb3JcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2Npc3NvclN5c3RlbSwgJ3NjaXNzb3InKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYXRjaCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5CYXRjaFN5c3RlbX0gYmF0Y2hcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQmF0Y2hTeXN0ZW0sICdiYXRjaCcpO1xuICAgICAgICBfdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogISFfdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiB2cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG4gICAgICAgIHNheUhlbGxvKF90aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVuZGVyZXIgaWYgV2ViR0wgaXMgYXZhaWxhYmxlLiBPdmVycmlkZWFibGVcbiAgICAgKiBieSB0aGUgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBwYWNrYWdlIHRvIGFsbG93IGZhbGxiYWNrLlxuICAgICAqIHRocm93cyBlcnJvciBpZiBXZWJHTCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTCB1bnN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIsIHVzZSBcInBpeGkuanMtbGVnYWN5XCIgZm9yIGZhbGxiYWNrIGNhbnZhczJkIHN1cHBvcnQuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5hZGRTeXN0ZW0gPSBmdW5jdGlvbiAoQ2xhc3NSZWYsIG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gQ2xhc3NSZWYubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3lzdGVtID0gbmV3IENsYXNzUmVmKHRoaXMpO1xuICAgICAgICBpZiAodGhpc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2hvb3BzISBUaGUgbmFtZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIGFscmVhZHkgaW4gdXNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbbmFtZV0gPSBzeXN0ZW07XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcG9zdHJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIFdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj10cnVlXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLmVtaXQoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcbiAgICAgICAgLy8gYXBwbHkgYSB0cmFuc2Zvcm0gYXQgYSBHUFUgbGV2ZWxcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuICAgICAgICAvLyBhcHBseSB0cmFuc2Zvcm0uLlxuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5lbWl0KCk7XG4gICAgICAgIC8vIHJlc2V0IHRyYW5zZm9ybSBhZnRlciByZW5kZXJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgV2ViR0wgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNpemUuZW1pdChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzZXQuZW1pdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKCk7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIChldmVudCBsaXN0ZW5lcnMsIHNwcml0ZWJhdGNoLCBldGMuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LmVtaXQoKTtcbiAgICAgICAgZm9yICh2YXIgciBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tyXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5OYW1lLCBjdG9yKSB7XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2lucyA9IFJlbmRlcmVyLl9fcGx1Z2lucyB8fCB7fTtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJlcjtcbn0oQWJzdHJhY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGRyYXcgYmF0Y2hlcy5cbiAqIEVhY2ggb25lIG9mIHRoZXNlIGNvbnRhaW5zIGFsbCBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBkcmF3IGEgYm91bmQgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hEcmF3Q2FsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaERyYXdDYWxsKCkge1xuICAgICAgICB0aGlzLnRleEFycmF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibGVuZCA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRhdGEgZm9yIHVuaWZvcm1zIG9yIGN1c3RvbSB3ZWJnbCBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hEcmF3Q2FsbDtcbn0oKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBidWlsZCB0ZXh0dXJlIGJhdGNoZXMuXG4gKiBIb2xkcyBsaXN0IG9mIHRleHR1cmVzIGFuZCB0aGVpciByZXNwZWN0aXZlIGxvY2F0aW9ucy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFRleHR1cmVBcnJheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFRleHR1cmVBcnJheSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluc2lkZSB0ZXh0dXJlcyBhcnJheVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNwZWN0aXZlIGxvY2F0aW9ucyBmb3IgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogbnVtYmVyIG9mIGZpbGxlZCBlbGVtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9XG4gICAgQmF0Y2hUZXh0dXJlQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hUZXh0dXJlQXJyYXk7XG59KCkpO1xuXG4vKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzXG4gKiB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlld2FibGVCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdhYmxlQnVmZmVyKHNpemUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZGVybHlpbmcgYEFycmF5QnVmZmVyYCB0aGF0IGhvbGRzIGFsbCB0aGUgZGF0YVxuICAgICAgICAgKiBhbmQgaXMgb2YgY2FwYWNpdHkgYHNpemVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgRmxvYXQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQ4Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50OEFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDhWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50OFZpZXcgPSBuZXcgSW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50OFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcInVpbnQ4Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdWludDhWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcImludDE2Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faW50MTZWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnQxNlZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcInVpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQxNkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdWludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQzMlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDMyVmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDMyVmlldyA9IG5ldyBJbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MzJWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmlldyBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gT25lIG9mIGBpbnQ4YCwgYHVpbnQ4YCwgYGludDE2YCxcbiAgICAgKiAgICBgdWludDE2YCwgYGludDMyYCwgYHVpbnQzMmAsIGFuZCBgZmxvYXQzMmAuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSB0eXBlZCBhcnJheSBvZiBnaXZlbiB0eXBlXG4gICAgICovXG4gICAgVmlld2FibGVCdWZmZXIucHJvdG90eXBlLnZpZXcgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpc1t0eXBlICsgXCJWaWV3XCJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYWxsIGJ1ZmZlciByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGFmdGVyIGNhbGxpbmdcbiAgICAgKiB0aGlzLlxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbiAgICB9O1xuICAgIFZpZXdhYmxlQnVmZmVyLnNpemVPZiA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnaW50OCc6XG4gICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlICdpbnQxNic6XG4gICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHlwZSArIFwiIGlzbid0IGEgdmFsaWQgdmlldyB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVmlld2FibGVCdWZmZXI7XG59KCkpO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYmF0Y2ggcmVuZGVyZXIuIEl0IGJ1ZmZlcnMgb2JqZWN0c1xuICogd2l0aCB0ZXh0dXJlLWJhc2VkIGdlb21ldHJpZXMgYW5kIHJlbmRlcnMgdGhlbSBpblxuICogYmF0Y2hlcy4gSXQgdXBsb2FkcyBtdWx0aXBsZSB0ZXh0dXJlcyB0byB0aGUgR1BVIHRvXG4gKiByZWR1Y2UgdG8gdGhlIG51bWJlciBvZiBkcmF3IGNhbGxzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEFic3RyYWN0QmF0Y2hSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBob29rIG9udG8gdGhlIHJlbmRlcmVyJ3MgYGNvbnRleHRDaGFuZ2VgXG4gICAgICogYW5kIGBwcmVyZW5kZXJgIHNpZ25hbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0QmF0Y2hSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIHNoYWRlciB0aGF0IGNhblxuICAgICAgICAgKiBjb2xvciBlYWNoIHZlcnRleCBiYXNlZCBvbiBhIGBhVGV4dHVyZUlkYFxuICAgICAgICAgKiBhdHRyaWJ1dGUgdGhhdCBwb2ludHMgdG8gYW4gdGV4dHVyZSBpbiBgdVNhbXBsZXJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGVuYWJsZXMgdGhlIG9iamVjdHMgd2l0aCBkaWZmZXJlbnQgdGV4dHVyZXNcbiAgICAgICAgICogdG8gYmUgZHJhd24gaW4gdGhlIHNhbWUgZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNoYWRlciBieSBjcmVhdGluZyB5b3VyXG4gICAgICAgICAqIGN1c3RvbSBzaGFkZXIgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU2hhZGVyR2VuZXJhdG9yfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgZ2VvbWV0cnkgb2Ygb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IGFyZSBnb2luZyB0byBiZSBiYXRjaGVkIHdpdGggdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJhdGNoR2VvbWV0cnlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnlDbGFzcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGRhdGEgYmVpbmcgYnVmZmVyZWQgcGVyIHZlcnRleCBpbiB0aGVcbiAgICAgICAgICogYXR0cmlidXRlIGJ1ZmZlcnMgKGluIGZsb2F0cykuIEJ5IGRlZmF1bHQsIHRoZVxuICAgICAgICAgKiBiYXRjaC1yZW5kZXJlciBwbHVnaW4gdXNlcyA2OlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IGFWZXJ0ZXhQb3NpdGlvbiB8IDIgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS18LS0tfFxuICAgICAgICAgKiB8IGFUZXh0dXJlQ29vcmRzICB8IDIgfFxuICAgICAgICAgKiB8IGFDb2xvciAgICAgICAgICB8IDEgfFxuICAgICAgICAgKiB8IGFUZXh0dXJlSWQgICAgICB8IDEgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4U2l6ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBidWZmZXJhYmxlIG9iamVjdHMgYmVmb3JlIGEgZmx1c2hcbiAgICAgICAgICogb2NjdXJzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIHZlcnRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIGluZGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBvZiBvYmplY3RzIHRoYXQgYXJlIHlldCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRFbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSBmb3IgdGV4dHVyZSBiYXRjaCBidWlsZGVyLCBoZWxwcyB0byBzYXZlIGEgYml0IG9mIENQVSBvbiBhIHBhc3MuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNoYWRlciBpcyBnZW5lcmF0ZWQgYnkgYHRoaXMuc2hhZGVyR2VuZXJhdG9yYC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgaXMgZ2VuZXJhdGVkIHNwZWNpZmljYWxseSB0byBoYW5kbGUgdGhlIHJlcXVpcmVkXG4gICAgICAgICAqIG51bWJlciBvZiB0ZXh0dXJlcyBiZWluZyBiYXRjaGVkIHRvZ2V0aGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGB0aGlzLmdlb21ldHJ5Q2xhc3NgIGdlb21ldHJ5IG9iamVjdHNcbiAgICAgICAgICogdGhhdCBzdG9yZSBidWZmZXJzLiBUaGV5IGFyZSB1c2VkIHRvIHBhc3MgZGF0YVxuICAgICAgICAgKiB0byB0aGUgc2hhZGVyIG9uIGVhY2ggZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLCB1bmxlc3MgYVxuICAgICAgICAgKiBjb250ZXh0IGNoYW5nZSBvY2N1cnM7IGhvd2V2ZXIsIHRoZSBwb29sIG1heVxuICAgICAgICAgKiBiZSBleHBhbmRlZCBpZiByZXF1aXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyLmNvbnRleHRDaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbHVzaCBtYXkgb2NjdXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGVcbiAgICAgICAgICogZnJhbWUuIE9uIGlPUyBkZXZpY2VzIG9yIHdoZW5cbiAgICAgICAgICogYHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVJgIGlzIGZhbHNlLCB0aGVcbiAgICAgICAgICogYmF0Y2ggcmVuZGVyZXIgZG9lcyBub3QgdXBsb2FkIGRhdGEgdG8gdGhlIHNhbWVcbiAgICAgICAgICogYFdlYkdMQnVmZmVyYCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyB0aGUgaW5kZXggaW50byBgcGFja2VkR2VvbWV0cmllc2AgdGhhdCBwb2ludHMgdG9cbiAgICAgICAgICogZ2VvbWV0cnkgaG9sZGluZyB0aGUgbW9zdCByZWNlbnQgYnVmZmVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZsdXNoSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVmlld2FibGVCdWZmZXJgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBhdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgODsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5WaWV3YWJsZUJ1ZmZlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEF0dHJpYnV0ZUJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FCdWZmZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBVaW50MTZBcnJheWAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGluZGljZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiAxMjsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRJbmRleEJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lCdWZmZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0b1xuICAgICAgICAgKiB0aGUgR1BVIHVuZGVyIHRoZSBjdXJyZW50IGNvbnRleHQuIEl0IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIHByb3Blcmx5IGluIGB0aGlzLmNvbnRleHRDaGFuZ2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjY29udGV4dENoYW5nZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuICAgICAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX2RjSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBgY29udGV4dENoYW5nZWAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgY2FsY3VsYXRlcyBgdGhpcy5NQVhfVEVYVFVSRVNgIGFuZCBhbGxvY2F0aW5nIHRoZVxuICAgICAqIHBhY2tlZC1nZW9tZXRyeSBvYmplY3QgcG9vbC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMpO1xuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXJcbiAgICAgICAgLy8gbWF5IG9taXQgYVRleHR1cmVJZCBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0Rmx1c2hCdWZmZXJzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlcyBzdXJlIHRoYXQgc3RhdGljIGFuZCBkeW5hbWljIGZsdXNoIHBvb2xlZCBvYmplY3RzIGhhdmUgY29ycmVjdCBkaW1lbnNpb25zXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5pbml0Rmx1c2hCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2RyYXdDYWxsUG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sLCBfdGV4dHVyZUFycmF5UG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbDtcbiAgICAgICAgLy8gbWF4IGRyYXcgY2FsbHNcbiAgICAgICAgdmFyIE1BWF9TUFJJVEVTID0gdGhpcy5zaXplIC8gNDtcbiAgICAgICAgLy8gbWF4IHRleHR1cmUgYXJyYXlzXG4gICAgICAgIHZhciBNQVhfVEEgPSBNYXRoLmZsb29yKE1BWF9TUFJJVEVTIC8gdGhpcy5NQVhfVEVYVFVSRVMpICsgMTtcbiAgICAgICAgd2hpbGUgKF9kcmF3Q2FsbFBvb2wubGVuZ3RoIDwgTUFYX1NQUklURVMpIHtcbiAgICAgICAgICAgIF9kcmF3Q2FsbFBvb2wucHVzaChuZXcgQmF0Y2hEcmF3Q2FsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoX3RleHR1cmVBcnJheVBvb2wubGVuZ3RoIDwgTUFYX1RBKSB7XG4gICAgICAgICAgICBfdGV4dHVyZUFycmF5UG9vbC5wdXNoKG5ldyBCYXRjaFRleHR1cmVBcnJheSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTUFYX1RFWFRVUkVTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYHByZXJlbmRlcmAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgZW5zdXJlcyB0aGF0IGZsdXNoZXMgc3RhcnQgZnJvbSB0aGUgZmlyc3QgZ2VvbWV0cnlcbiAgICAgKiBvYmplY3QgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hJZCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdWZmZXJzIHRoZSBcImJhdGNoYWJsZVwiIG9iamVjdC4gSXQgbmVlZCBub3QgYmUgcmVuZGVyZWRcbiAgICAgKiBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBlbGVtZW50IC0gdGhlIGVsZW1lbnQgdG8gcmVuZGVyIHdoZW5cbiAgICAgKiAgICB1c2luZyB0aGlzIHJlbmRlcmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQuX3RleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgKz0gZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRUZXh0dXJlc1t0aGlzLl9idWZmZXJTaXplXSA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHNbdGhpcy5fYnVmZmVyU2l6ZSsrXSA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHRleHR1cmVzID0gX2EuX2J1ZmZlcmVkVGV4dHVyZXMsIE1BWF9URVhUVVJFUyA9IF9hLk1BWF9URVhUVVJFUztcbiAgICAgICAgdmFyIHRleHR1cmVBcnJheXMgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIHZhciBiYXRjaCA9IHRoaXMucmVuZGVyZXIuYmF0Y2g7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICB2YXIgY291bnRUZXhBcnJheXMgPSAwO1xuICAgICAgICB2YXIgdGV4QXJyYXkgPSB0ZXh0dXJlQXJyYXlzWzBdO1xuICAgICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgICBiYXRjaC5jb3B5Qm91bmRUZXh0dXJlcyhib3VuZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlclNpemU7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleCA9IHRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRleC5fYmF0Y2hFbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4QXJyYXkuY291bnQgPj0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgaSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1srK2NvdW50VGV4QXJyYXlzXTtcbiAgICAgICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXguX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICB0ZXgudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbdGV4QXJyYXkuY291bnQrK10gPSB0ZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID4gMCkge1xuICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHModGV4QXJyYXksIHN0YXJ0LCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICsrY291bnRUZXhBcnJheXM7XG4gICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYW4tdXBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBkcmF3Y2FsbHMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmaW5pc2hcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gKHRleEFycmF5LCBzdGFydCwgZmluaXNoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGVsZW1lbnRzID0gX2EuX2J1ZmZlcmVkRWxlbWVudHMsIF9hdHRyaWJ1dGVCdWZmZXIgPSBfYS5fYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXIsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBkY0luZGV4ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIGFJbmRleCA9IHRoaXMuX2FJbmRleDtcbiAgICAgICAgdmFyIGlJbmRleCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgdmFyIGRyYXdDYWxsID0gZHJhd0NhbGxzW2RjSW5kZXhdO1xuICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB0ZXggPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbdGV4LmFscGhhTW9kZSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGkgJiYgZHJhd0NhbGwuYmxlbmQgIT09IHNwcml0ZUJsZW5kTW9kZSkge1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwgPSBkcmF3Q2FsbHNbKytkY0luZGV4XTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC50ZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnN0YXJ0ID0gaUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIF9hdHRyaWJ1dGVCdWZmZXIsIF9pbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpO1xuICAgICAgICAgICAgYUluZGV4ICs9IHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIgKiB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgaUluZGV4ICs9IHNwcml0ZS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGRyYXdDYWxsLmJsZW5kID0gc3ByaXRlQmxlbmRNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCA8IGZpbmlzaCkge1xuICAgICAgICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICAgICAgKytkY0luZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSBkY0luZGV4O1xuICAgICAgICB0aGlzLl9hSW5kZXggPSBhSW5kZXg7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IGlJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmQgdGV4dHVyZXMgZm9yIGN1cnJlbnQgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kQW5kQ2xlYXJUZXhBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSkge1xuICAgICAgICB2YXIgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXhBcnJheS5jb3VudDsgaisrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIHRleEFycmF5Lmlkc1tqXSk7XG4gICAgICAgICAgICB0ZXhBcnJheS5lbGVtZW50c1tqXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGV4QXJyYXkuY291bnQgPSAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcGFja2VkR2VvbWV0cmllcyA9IF9hLl9wYWNrZWRHZW9tZXRyaWVzLCBhdHRyaWJ1dGVCdWZmZXIgPSBfYS5fYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciA9IF9hLl9pbmRleEJ1ZmZlcjtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7IC8qIFVzdWFsbHkgb24gaU9TIGRldmljZXMsIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgICAgICAgIGxpa2UgdXBsb2FkcyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUuICovXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA8PSB0aGlzLl9mbHVzaElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZChwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hJZCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3QmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRjQ291bnQgPSB0aGlzLl9kY0luZGV4O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLCBnbCA9IF9hLmdsLCBzdGF0ZVN5c3RlbSA9IF9hLnN0YXRlO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBjdXJUZXhBcnJheSA9IG51bGw7XG4gICAgICAgIC8vIFVwbG9hZCB0ZXh0dXJlcyBhbmQgZG8gdGhlIGRyYXcgY2FsbHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IGRyYXdDYWxsc1tpXSwgdGV4QXJyYXkgPSBfYi50ZXhBcnJheSwgdHlwZSA9IF9iLnR5cGUsIHNpemUgPSBfYi5zaXplLCBzdGFydCA9IF9iLnN0YXJ0LCBibGVuZCA9IF9iLmJsZW5kO1xuICAgICAgICAgICAgaWYgKGN1clRleEFycmF5ICE9PSB0ZXhBcnJheSkge1xuICAgICAgICAgICAgICAgIGN1clRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGJsZW5kO1xuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUsIGdsLlVOU0lHTkVEX1NIT1JULCBzdGFydCAqIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuZ2V0QXR0cmlidXRlQnVmZmVyKHRoaXMuX3ZlcnRleENvdW50KTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4QnVmZmVyKHRoaXMuX2luZGV4Q291bnQpO1xuICAgICAgICB0aGlzLl9hSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5kcmF3QmF0Y2hlcygpO1xuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBidWZmZXIgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuICAgICAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5fcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBgQWJzdHJhY3RCYXRjaFJlbmRlcmVyYC4gSXQgY2Fubm90IGJlIHVzZWQgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gYXR0cmlidXRlIGJ1ZmZlciBmcm9tIGB0aGlzLl9hQnVmZmVyc2AgdGhhdFxuICAgICAqIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSBjYXBhY2l0eSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1ZpZXdhYmxlQnVmZmVyfSAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVCdWZmZXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyA4IHZlcnRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICB2YXIgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiA4O1xuICAgICAgICBpZiAodGhpcy5fYUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV0gPSBidWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIocm91bmRlZFNpemUgKiB0aGlzLnZlcnRleFNpemUgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGF2ZSBhdCBsZWFzdCBgc2l6ZWAgY2FwYWNpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gcmVxdWlyZWQgY2FwYWNpdHlcbiAgICAgKiBAcmV0dXJuIHtVaW50MTZBcnJheX0gLSBidWZmZXIgdGhhdCBjYW4gZml0IGBzaXplYFxuICAgICAqICAgIGluZGljZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEluZGV4QnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuICAgICAgICBpZiAodGhpcy5faUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIGZvdXIgYmF0Y2hpbmcgcGFyYW1ldGVycyBvZiBgZWxlbWVudGAsIGludGVybGVhdmVzXG4gICAgICogYW5kIHB1c2hlcyB0aGVtIGludG8gdGhlIGJhdGNoaW5nIGF0dHJpYnV0ZS9pbmRleCBidWZmZXJzIGdpdmVuLlxuICAgICAqXG4gICAgICogSXQgdXNlcyB0aGVzZSBwcm9wZXJ0aWVzOiBgdmVydGV4RGF0YWAgYHV2c2AsIGB0ZXh0dXJlSWRgIGFuZFxuICAgICAqIGBpbmRpY2llc2AuIEl0IGFsc28gdXNlcyB0aGUgXCJ0aW50XCIgb2YgdGhlIGJhc2UtdGV4dHVyZSwgaWZcbiAgICAgKiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gZWxlbWVudCAtIGVsZW1lbnQgYmVpbmcgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVmlld2FibGVCdWZmZXJ9IGF0dHJpYnV0ZUJ1ZmZlciAtIGF0dHJpYnV0ZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gaW5kZXhCdWZmZXIgLSBpbmRleCBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYUluZGV4IC0gbnVtYmVyIG9mIGZsb2F0cyBhbHJlYWR5IGluIHRoZSBhdHRyaWJ1dGUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlJbmRleCAtIG51bWJlciBvZiBpbmRpY2VzIGFscmVhZHkgaW4gYGluZGV4QnVmZmVyYFxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucGFja0ludGVybGVhdmVkR2VvbWV0cnkgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpIHtcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldywgZmxvYXQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIHZhciBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICB2YXIgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICB2YXIgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICAgJiYgZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUpXG4gICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChlbGVtZW50Ll90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgIDogZWxlbWVudC5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgIC8vIGxldHMgbm90IHdvcnJ5IGFib3V0IHRpbnQhIGZvciBub3cuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpICsgMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2FJbmRleCsrXSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB0ZXh0dXJlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hEcmF3Q2FsbFtdfVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sID0gW107XG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXlbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2wgPSBbXTtcbiAgICByZXR1cm4gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIEhlbHBlciB0aGF0IGdlbmVyYXRlcyBiYXRjaGluZyBtdWx0aS10ZXh0dXJlIHNoYWRlci4gVXNlIGl0IHdpdGggeW91ciBuZXcgQmF0Y2hSZW5kZXJlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoU2hhZGVyR2VuZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTcmMgLSBWZXJ0ZXggc2hhZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYWdUZW1wbGF0ZSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleFNyYywgZnJhZ1RlbXBsYXRlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgZnJhZ2VtZW50IHNoYWRlciB0ZW1wbGF0ZS4gTXVzdCBjb250YWluIFwiJWNvdW50JVwiIGFuZCBcIiVmb3Jsb29wJVwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVjb3VudCUnKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIChtYXhUZXh0dXJlcykge1xuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgXCJcIiArIG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCB0aGlzLmdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIHNyYyA9ICcnO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICAgICAgc3JjICs9IFwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiICsgaSArIFwiXSwgdlRleHR1cmVDb29yZCk7XCI7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgICAgICB9XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU2hhZGVyR2VuZXJhdG9yO1xufSgpKTtcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gLSBPcHRpbWl6YXRpb24gZmxhZywgd2hlcmUgYGZhbHNlYFxuICAgICAqICAgICAgICBpcyB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBgdHJ1ZWAgZG9lc24ndCBjaGFuZ2UgZnJhbWUtdG8tZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hHZW9tZXRyeShfc3RhdGljKSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIF90aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgX3RoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoX3RoaXMuX2luZGV4QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMiA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG52YXIgQmF0Y2hQbHVnaW5GYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhdGNoUmVuZGVyZXIgcGx1Z2luIGZvciBSZW5kZXJlci4gdGhpcyBjb252ZW5pZW5jZSBjYW4gcHJvdmlkZSBhbiBlYXN5IHdheVxuICAgICAqIHRvIGV4dGVuZCBCYXRjaFJlbmRlcmVyIHdpdGggYWxsIHRoZSBuZWNlc3NhcnkgcGllY2VzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBgXG4gICAgICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gICAgICogdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgKiB2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XG4gICAgICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xuICAgICAqXG4gICAgICogdm9pZCBtYWluKHZvaWQpe1xuICAgICAqICAgICB2ZWM0IGNvbG9yO1xuICAgICAqICAgICAlZm9ybG9vcCVcbiAgICAgKiAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdmVjNChjb2xvci5hIC0gY29sb3IucmdiLCBjb2xvci5hKTtcbiAgICAgKiB9XG4gICAgICogYDtcbiAgICAgKiBjb25zdCBJbnZlcnRCYXRjaFJlbmRlcmVyID0gUElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKHsgZnJhZ21lbnQgfSk7XG4gICAgICogUElYSS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW52ZXJ0JywgSW52ZXJ0QmF0Y2hSZW5kZXJlcik7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybiB7Kn0gTmV3IGJhdGNoIHJlbmRlcmVyIHBsdWdpblxuICAgICAqL1xuICAgIEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHZlcnRleDogZGVmYXVsdFZlcnRleCQyLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpLCB2ZXJ0ZXggPSBfYS52ZXJ0ZXgsIGZyYWdtZW50ID0gX2EuZnJhZ21lbnQsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplLCBnZW9tZXRyeUNsYXNzID0gX2EuZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhCYXRjaFBsdWdpbiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIF90aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFBsdWdpbjtcbiAgICAgICAgfShBYnN0cmFjdEJhdGNoUmVuZGVyZXIpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhdGNoUGx1Z2luRmFjdG9yeSwgXCJkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXRjaFBsdWdpbkZhY3Rvcnk7XG59KCkpO1xuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuZXhwb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBBYnN0cmFjdFJlbmRlcmVyLCBBdHRyaWJ1dGUsIEJhc2VSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hQbHVnaW5GYWN0b3J5LCBCYXRjaFJlbmRlcmVyLCBCYXRjaFNoYWRlckdlbmVyYXRvciwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgRmlsdGVyLCBGaWx0ZXJTdGF0ZSwgRnJhbWVidWZmZXIsIEdMRnJhbWVidWZmZXIsIEdMUHJvZ3JhbSwgR0xUZXh0dXJlLCBHZW9tZXRyeSwgSUdMVW5pZm9ybURhdGEsIE1hc2tEYXRhLCBPYmplY3RSZW5kZXJlciwgUHJvZ3JhbSwgUXVhZCwgUXVhZFV2LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgUmVuZGVyZXIsIFNoYWRlciwgU3ByaXRlTWFza0ZpbHRlciwgU3RhdGUsIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZVV2cywgVW5pZm9ybUdyb3VwLCBWaWV3YWJsZUJ1ZmZlciwgYXV0b0RldGVjdFJlbmRlcmVyLCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLCBkZWZhdWx0RmlsdGVyIGFzIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIF9kZWZhdWx0IGFzIGRlZmF1bHRWZXJ0ZXgsIGluZGV4IGFzIHJlc291cmNlcywgc3lzdGVtcywgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9hcHAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIEF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgKipOb3RlKio6IFNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gICAgICogICBvcHRpb24gb25seSBpcyBhdmFpbGFibGUgd2hlbiB1c2luZyAqKnBpeGkuanMtbGVnYWN5Kiogb3IgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBtb2R1bGVzLCBvdGhlcndpc2VcbiAgICAgKiAgIGl0IGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLiAqKihXZWJHTCBvbmx5KSoqLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqICBJZiBzZXQgdG8gZmFsc2UsIHlvdSBjYW5ub3QgcmVnaXN0ZXIgYSBoYW5kbGVyIHRvIG9jY3VyIGJlZm9yZSBhbnl0aGluZyB0aGF0IHJ1bnMgb24gdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICogIFRoZSBzeXN0ZW0gdGlja2VyIHdpbGwgYWx3YXlzIHJ1biBiZWZvcmUgYm90aCB0aGUgc2hhcmVkIHRpY2tlciBhbmQgdGhlIGFwcCB0aWNrZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRMb2FkZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLkxvYWRlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyBMb2FkZXIuXG4gICAgICogQHBhcmFtIHtXaW5kb3d8SFRNTEVsZW1lbnR9IFtvcHRpb25zLnJlc2l6ZVRvXSAtIEVsZW1lbnQgdG8gYXV0b21hdGljYWxseSByZXNpemUgc3RhZ2UgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuICAgICAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5pbml0LmNhbGwoX3RoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE86IFNpbmNlIENhbnZhc1JlbmRlcmVyIGhhcyBub3QgYmVlbiBjb252ZXJ0ZWQgdGhpcyBmdW5jdGlvbiB0aGlua3MgaXQgdGFrZXMgRGlzcGxheU9iamVjdCAmIFBJWEkuRGlzcGxheU9iamVjdFxuICAgICAgICAvLyBUaGlzIGNhbiBiZSBmaXhlZCB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZC5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb24ucHJvdG90eXBlLCBcInZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb24ucHJvdG90eXBlLCBcInNjcmVlblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW3N0YWdlT3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdzdGFnZU9wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAgICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgICAgIHZhciBwbHVnaW5zID0gQXBwbGljYXRpb24uX3BsdWdpbnMuc2xpY2UoMCk7XG4gICAgICAgIHBsdWdpbnMucmV2ZXJzZSgpO1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kuY2FsbChfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YWdlLmRlc3Ryb3koc3RhZ2VPcHRpb25zKTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEB0eXBlIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbltdfVxuICovXG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBIVE1MIGVsZW1lbnQgb3Igd2luZG93IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZVxuICAgICAgICAgKiByZW5kZXJlcidzIHZpZXcgZWxlbWVudCB0byBtYXRjaCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzaXplVG8nLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkb20pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNpemVUbztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzaXplIGlzIHRocm90dGxlZCwgc28gaXQnc1xuICAgICAgICAgKiBzYWZlIHRvIGNhbGwgdGhpcyBtdWx0aXBsZSB0aW1lcyBwZXIgZnJhbWUgYW5kIGl0J2xsXG4gICAgICAgICAqIG9ubHkgYmUgY2FsbGVkIG9uY2UuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNxdWV1ZVJlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICAvLyAvLyBUaHJvdHRsZSByZXNpemUgZXZlbnRzIHBlciByYWZcbiAgICAgICAgICAgIF90aGlzLl9yZXNpemVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZXNpemUoKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW5jZWwgdGhlIHJlc2l6ZSBxdWV1ZS5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI2NhbmNlbFJlc2l6ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRXhlY3V0ZSBhbiBpbW1lZGlhdGUgcmVzaXplIG9uIHRoZSByZW5kZXJlciwgdGhpcyBpcyBub3RcbiAgICAgICAgICogdGhyb3R0bGVkIGFuZCBjYW4gYmUgZXhwZW5zaXZlIHRvIGNhbGwgbWFueSB0aW1lcyBpbiBhIHJvdy5cbiAgICAgICAgICogV2lsbCByZXNpemUgb25seSBpZiBgcmVzaXplVG9gIHByb3BlcnR5IGlzIHNldC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3Jlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIHF1ZXVlIHJlc2l6ZVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICAgICAgLy8gUmVzaXplIHRvIHRoZSB3aW5kb3dcbiAgICAgICAgICAgIGlmIChfdGhpcy5fcmVzaXplVG8gPT09IHdpbmRvdykge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLl9yZXNpemVUbywgY2xpZW50V2lkdGggPSBfYS5jbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0ID0gX2EuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHdpZHRoID0gY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBPbiByZXNpemVcbiAgICAgICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb25cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXNpemVQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVQbHVnaW47XG59KCkpO1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9leHRyYWN0IC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL2V4dHJhY3QgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDYW52YXNSZW5kZXJUYXJnZXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIGV4cG9ydGluZyBjb250ZW50IGZyb20gYSByZW5kZXJlci5cbiAqIEZvciBpbnN0YW5jZSwgdGhlc2UgcGx1Z2lucyBjYW4gYmUgdXNlZCBmb3Igc2F2aW5nIGFuIEltYWdlLCBDYW52YXMgZWxlbWVudCBvciBmb3IgZXhwb3J0aW5nIHRoZSByYXcgaW1hZ2UgZGF0YSAocGl4ZWxzKS5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwICh3aWxsIGF1dG8tYWRkIGV4dHJhY3QgcGx1Z2luIHRvIHJlbmRlcmVyKVxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgcmVkIGNpcmNsZVxuICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweEZGMDAwMClcbiAqICAgICAuZHJhd0NpcmNsZSgwLCAwLCA1MCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBncmFwaGljcyBhcyBhbiBIVE1MSW1hZ2VFbGVtZW50XG4gKiBjb25zdCBpbWFnZSA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QuaW1hZ2UoZ3JhcGhpY3MpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFeHRyYWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcigoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcigoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfMSA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQoY2FudmFzQnVmZmVyLndpZHRoLCBjYW52YXNCdWZmZXIuaGVpZ2h0LCAxKTtcbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgcmVuZGVyIHRvIGl0c2VsZiBiZWNhdXNlIHdlIHNob3VsZCBiZSBlbXB0eSBiZWZvcmUgcmVuZGVyLlxuICAgICAgICAgICAgdGFyZ2V0XzEuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0XzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gcGl4ZWxzIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gYXJyYXkgb2YgcGl4ZWwgZGF0YVxuICAgICAqIEBwYXJhbSBvdXQge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBvdXRwdXQgYXJyYXlcbiAgICAgKi9cbiAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSA9IGZ1bmN0aW9uIChwaXhlbHMsIG91dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgdmFyIGFscGhhID0gb3V0W2kgKyAzXSA9IHBpeGVsc1tpICsgM107XG4gICAgICAgICAgICBpZiAoYWxwaGEgIT09IDApIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAyXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBwaXhlbHNbaV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHBpeGVsc1tpICsgMV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeHRyYWN0O1xufSgpKTtcblxuZXhwb3J0IHsgRXh0cmFjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcmVzb3VyY2UtbG9hZGVyIC0gdjMuMC4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktc291bmRcbiAqIENvbXBpbGVkIFR1ZSwgMDIgSnVsIDIwMTkgMTQ6MDY6MTggVVRDXG4gKlxuICogcmVzb3VyY2UtbG9hZGVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgfVxuICB9KSgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgIH1cblxuICAgIHZhciBjYWxsRm4gPSBmbjtcbiAgICBmbiA9IG51bGw7XG4gICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIHF1ZXVlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICB9XG5cbiAgdmFyIHdvcmtlcnMgPSAwO1xuICB2YXIgcSA9IHtcbiAgICBfdGFza3M6IFtdLFxuICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICBlbXB0eTogX25vb3AsXG4gICAgZHJhaW46IF9ub29wLFxuICAgIGVycm9yOiBfbm9vcCxcbiAgICBzdGFydGVkOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICB3b3JrZXJzID0gMDtcbiAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICB9LFxuICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgfSxcbiAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgfSxcbiAgICBpZGxlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IGZhbHNlOyAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG5cbiAgICAgIGZvciAodmFyIHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICB9LCAxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgIH07XG5cbiAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICBxLmRyYWluKCk7XG4gICAgICB9XG5cbiAgICAgIHEucHJvY2VzcygpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gcTtcbn1cblxudmFyIGFzeW5jID0gKHtcbiAgICBlYWNoU2VyaWVzOiBlYWNoU2VyaWVzLFxuICAgIHF1ZXVlOiBxdWV1ZVxufSk7XG5cbi8vIGEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2VzXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIGNhY2hpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLmNhY2hpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5cbmZ1bmN0aW9uIGNhY2hpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyBpZiBjYWNoZWQsIHRoZW4gc2V0IGRhdGEgYW5kIGNvbXBsZXRlIHRoZSByZXNvdXJjZVxuICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgIHJlc291cmNlLmRhdGEgPSBjYWNoZVtyZXNvdXJjZS51cmxdO1xuICAgIHJlc291cmNlLmNvbXBsZXRlKCk7IC8vIG1hcmtzIHJlc291cmNlIGxvYWQgY29tcGxldGUgYW5kIHN0b3BzIHByb2Nlc3NpbmcgYmVmb3JlIG1pZGRsZXdhcmVzXG4gIH0gLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgZWxzZSB7XG4gICAgICByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FjaGVbX3RoaXMudXJsXSA9IF90aGlzLmRhdGE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgbmV4dCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsOyAvLyBzb21lIHN0YXR1cyBjb25zdGFudHNcblxudmFyIFNUQVRVU19OT05FID0gMDtcbnZhciBTVEFUVVNfT0sgPSAyMDA7XG52YXIgU1RBVFVTX0VNUFRZID0gMjA0O1xudmFyIFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xudmFyIFNUQVRVU19UWVBFX09LID0gMjsgLy8gbm9vcFxuXG5mdW5jdGlvbiBfbm9vcCQxKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG5cbnZhciBSZXNvdXJjZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgKi9cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIDtcblxuICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9mbGFncyA9IDA7IC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICovXG5cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICAvKipcbiAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICogaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYDBgXG4gICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgKi9cblxuICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuICAgIC8qKlxuICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLklNZXRhZGF0YX1cbiAgICAgKi9cblxuICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgKi9cblxuICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAqL1xuXG4gICAgdGhpcy54aHIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3AkMTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTsgLy8geGhyIGNhbGxiYWNrc1xuXG4gICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfSBbbWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudFxuICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJlc291cmNlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgKlxuICAgKi9cbiAgX3Byb3RvLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzdG9yZSBlcnJvclxuXG5cbiAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpOyAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG5cbiAgICB0aGlzLl9jbGVhckV2ZW50cygpOyAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcblxuXG4gICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICB9IC8vIG11bHRpLXNvdXJjZVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gLy8gZG9uZSBub3cuXG5cblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7IC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuXG4gICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gX2NsZWFyRXZlbnRzKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbGVtZW50VGltZXIpO1xuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZmluaXNoID0gZnVuY3Rpb24gX2ZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hYm9ydChcIlVuc3VwcG9ydGVkIGVsZW1lbnQ6IFwiICsgdHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDsgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cblxuICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgfVxuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuXG4gICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYaHJPblRpbWVvdXQ7XG4gICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7IC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHhkci5zZW5kKCk7XG4gICAgfSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgIGlmICghbWltZSkge1xuICAgICAgbWltZSA9IHR5cGUgKyBcIi9cIiArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgIHNvdXJjZS50eXBlID0gbWltZTtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIiArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblRpbWVvdXQgPSBmdW5jdGlvbiBfb25UaW1lb3V0KCkge1xuICAgIHRoaXMuYWJvcnQoXCJMb2FkIHRpbWVkIG91dC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgdGV4dDogXFxcIlwiICsgeGhyLnN0YXR1c1RleHQgKyBcIlxcXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uVGltZW91dCA9IGZ1bmN0aW9uIF94aHJPblRpbWVvdXQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcblxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICB9IC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cblxuXG4gICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgfSAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgIH1cblxuICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgfSAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiBcIiArIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIiArIGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJbXCIgKyB4aHIuc3RhdHVzICsgXCJdIFwiICsgeGhyLnN0YXR1c1RleHQgKyBcIjogXCIgKyB4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgLy8gY3Jvc3NPcmlnaW4gcmVxdWVzdHMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2NhdGlvbiBtYXRjaGVzLlxuXG5cbiAgICBpZiAod2luZG93Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH0gLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cblxuXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9IC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG5cblxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyBcIjpcIiA6ICcnOyAvLyBpZiBjcm9zcyBvcmlnaW5cblxuICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgIHZhciBleHQgPSAnJztcblxuICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICB9XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgIGtleTogXCJpc0RhdGFVcmxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzTG9hZGluZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gIE5PTkU6IDAsXG4gIERBVEFfVVJMOiAxIDw8IDAsXG4gIENPTVBMRVRFOiAxIDw8IDEsXG4gIExPQURJTkc6IDEgPDwgMlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuUmVzb3VyY2UuVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgSlNPTjogMSxcbiAgWE1MOiAyLFxuICBJTUFHRTogMyxcbiAgQVVESU86IDQsXG4gIFZJREVPOiA1LFxuICBURVhUOiA2XG59O1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFhIUjogMSxcblxuICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgSU1BR0U6IDIsXG5cbiAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIEFVRElPOiAzLFxuXG4gIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFZJREVPOiA0XG59O1xuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgLyoqIHN0cmluZyAqL1xuICBERUZBVUxUOiAndGV4dCcsXG5cbiAgLyoqIEFycmF5QnVmZmVyICovXG4gIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcblxuICAvKiogQmxvYiAqL1xuICBCTE9COiAnYmxvYicsXG5cbiAgLyoqIERvY3VtZW50ICovXG4gIERPQ1VNRU5UOiAnZG9jdW1lbnQnLFxuXG4gIC8qKiBPYmplY3QgKi9cbiAgSlNPTjogJ2pzb24nLFxuXG4gIC8qKiBTdHJpbmcgKi9cbiAgVEVYVDogJ3RleHQnXG59O1xuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHBuZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZWc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgd2VicDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICdzdmcreG1sJzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuICAvLyBhdWRpb1xuICBtcDM6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAvLyB2aWRlb3NcbiAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gIHdlYm06IFJlc291cmNlLkxPQURfVFlQRS5WSURFT1xufTtcblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAvLyB4bWxcbiAgeGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgeG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGJtcDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRnYTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgLy8ganNvblxuICBqc29uOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuICAvLyB0ZXh0XG4gIHRleHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgLy8gZm9udHNcbiAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59OyAvLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBpZiAoIWV4dG5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgdmFyIGlueCA9IDA7XG5cbiAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcblxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyOyAvLyBpbmRleCAyOiBzZWNvbmQgNiBiaXRzICgyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDEgKyA0IG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMilcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0OyAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyIHwgYnl0ZWJ1ZmZlclsyXSA+PiA2OyAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmOyAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG5cbiAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgfSAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcblxuXG4gICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4vKipcbiAqIEEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgIG5leHQoKTtcbiAgICByZXR1cm47XG4gIH0gLy8gaWYgdGhpcyB3YXMgYW4gWEhSIGxvYWQgb2YgYSBibG9iXG5cblxuICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTsgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcblxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBcImRhdGE6XCIgKyB0eXBlICsgXCI7YmFzZTY0LFwiICsgZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTsgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9OyAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuXG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICB9XG5cbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqIEBuYW1lc3BhY2UgbWlkZGxld2FyZVxuICovXG5cbnZhciBpbmRleCA9ICh7XG4gICAgY2FjaGluZzogY2FjaGluZyxcbiAgICBwYXJzaW5nOiBwYXJzaW5nXG59KTtcblxudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgTG9hZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKi9cbiAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChiYXNlVXJsID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2VVcmwgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkge1xuICAgICAgY29uY3VycmVuY3kgPSAxMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAvKipcbiAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAqXG4gICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICpcbiAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnJ1xuICAgICAqL1xuXG4gICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl9xdWV1ZSA9IHF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuICAgIC8qKlxuICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAqL1xuXG5cbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Mb2FkU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uU3RhcnRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpOyAvLyBBZGQgZGVmYXVsdCBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnByZShMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlW2ldKTtcbiAgICB9IC8vIEFkZCBkZWZhdWx0IGFmdGVyIG1pZGRsZXdhcmVcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5sZW5ndGg7ICsrX2kpIHtcbiAgICAgIHRoaXMudXNlKExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZVtfaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIGEgY2FsbCB0byBgLmFkZCgpYC5cbiAgICpcbiAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSAtIEFsaWFzIGZvciBgbmFtZWAuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbeGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW29uQ29tcGxldGVdIC0gQ2FsbGJhY2sgdG8gYWRkIGFuIGFuIG9uQ29tcGxldGUgc2lnbmFsIGlzdGVuZXIuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEFsaWFzIGZvciBgb25Db21wbGV0ZWAuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGxvYWRlclxuICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgKlxuICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAqICAgICB9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICogICAgIC5hZGQoW1xuICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgKiAgICAgXSlcbiAgICpcbiAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEB2YXJpYXRpb24gMVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiAyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gM1xuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDRcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNVxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuIFRoaXMgb2JqZWN0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNlxuICAqIEBwYXJhbSB7QXJyYXk8SUFkZE9wdGlvbnN8c3RyaW5nPn0gcmVzb3VyY2VzIC0gQW4gYXJyYXkgb2YgcmVzb3VyY2VzIHRvIGxvYWQsIHdoZXJlIGVhY2ggaXNcbiAgKiAgICAgIGVpdGhlciBhbiBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBvciBhIHN0cmluZyB1cmwuIElmIHlvdSBwYXNzIGFuIG9iamVjdCwgaXQgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cblxuICB2YXIgX3Byb3RvID0gTG9hZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgfSAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICB1cmwgPSBuYW1lO1xuICAgIH0gLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG5cblxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgfSAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfSAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgIH0gLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG5cblxuICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgfSAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcblxuXG4gICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpOyAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuXG4gICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltfaTJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG5cbiAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMykge1xuICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgIH0gLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcblxuXG4gICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICpcbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9xdWV1ZS5raWxsKCk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpOyAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcblxuXG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIC8vIHJlZ2lzdGVyIGNvbXBsZXRlIGNhbGxiYWNrIGlmIHRoZXkgcGFzcyBvbmVcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfSAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgIHZhciBjaHVuayA9IE1BWF9QUk9HUkVTUyAvIG51bVRhc2tzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICB9IC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcblxuXG4gICAgICB0aGlzLl9vblN0YXJ0KCk7IC8vIHN0YXJ0IGxvYWRpbmdcblxuXG4gICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTBcbiAgICovXG4gIDtcblxuICAvKipcbiAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICovXG4gIF9wcm90by5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZVVyaSh1cmwsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgcmVzdWx0OyAvLyBhYnNvbHV0ZSB1cmwsIGp1c3QgdXNlIGl0IGFzIGlzLlxuXG4gICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IHVybDtcbiAgICB9IC8vIGlmIGJhc2VVcmwgZG9lc24ndCBlbmQgaW4gc2xhc2ggYW5kIHVybCBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2gsIHRoZW4gYWRkIGEgc2xhc2ggaW5iZXR3ZWVuXG4gICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIFwiL1wiICsgdXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgdXJsO1xuICAgICAgfSAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuXG5cbiAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gXCI/XCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgYSBzaW5nbGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXNvdXJjZS5fZGVxdWV1ZSA9IGRlcXVldWU7IC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiB0aGUgYmVmb3JlIG1pZGRsZXdhcmUgbWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLFxuICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoX3RoaXMyLl9vbkxvYWQsIF90aGlzMik7XG4gICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uU3RhcnQgPSBmdW5jdGlvbiBfb25TdGFydCgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgZWFjaCByZXNvdXJjZSBoYXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uIF9vbkNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGVhY2ggdGltZSBhIHJlc291cmNlcyBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgd2FzIGxvYWRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsOyAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUoKTsgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuXG5cbiAgICBlYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMywgcmVzb3VyY2UsIG5leHQpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcbiAgICAgIF90aGlzMy5wcm9ncmVzcyA9IE1hdGgubWluKE1BWF9QUk9HUkVTUywgX3RoaXMzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG5cbiAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMzLm9uTG9hZC5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZShfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpOyAvLyBkbyBjb21wbGV0aW9uIGNoZWNrXG5cblxuICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKExvYWRlciwgW3tcbiAgICBrZXk6IFwiY29uY3VycmVuY3lcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGNvbmN1cnJlbmN5KSB7XG4gICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59KCk7XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5cbkxvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuTG9hZGVyLnByZSA9IGZ1bmN0aW9uIExvYWRlclByZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59O1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuXG5Mb2FkZXIudXNlID0gZnVuY3Rpb24gTG9hZGVyVXNlU3RhdGljKGZuKSB7XG4gIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcblxuZXhwb3J0IHsgTG9hZGVyLCBSZXNvdXJjZSwgYXN5bmMsIGVuY29kZUJpbmFyeSwgaW5kZXggYXMgbWlkZGxld2FyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UtbG9hZGVyLmVzbS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbG9hZGVycyAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9sb2FkZXJzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVzb3VyY2UsIExvYWRlciBhcyBMb2FkZXIkMSwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuKiByZXNvdXJjZS1sb2FkZXJ9KioncyBSZXNvdXJjZSBjbGFzcy5cbiogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4qIEBjbGFzcyBMb2FkZXJSZXNvdXJjZVxuKiBAbWVtYmVyb2YgUElYSVxuKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBUZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSkge1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IFRleHR1cmUuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTG9hZGVyO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgbmV3IGxvYWRlciwgZXh0ZW5kcyBSZXNvdXJjZSBMb2FkZXIgYnkgQ2hhZCBFbmdsZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3MgTG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICovXG52YXIgTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2FkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB8fCB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IExvYWRlci5fcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIHZhciBwcmUgPSBwbHVnaW4ucHJlLCB1c2UgPSBwbHVnaW4udXNlO1xuICAgICAgICAgICAgaWYgKHByZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVzZSh1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAgICAgKiBAbWV0aG9kIGRlc3Ryb3lcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9hZGVyLCBcInNoYXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAgICAgKiBAbmFtZSBzaGFyZWRcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkID0gTG9hZGVyLl9zaGFyZWQ7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlZCA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkcyBhIExvYWRlciBwbHVnaW4gZm9yIHRoZSBnbG9iYWwgc2hhcmVkIGxvYWRlciBhbmQgYWxsXG4gICAgICogbmV3IExvYWRlciBpbnN0YW5jZXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIHJlZ2lzdGVyUGx1Z2luXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLklMb2FkZXJQbHVnaW59IHBsdWdpbiAtIFRoZSBwbHVnaW4gdG8gYWRkXG4gICAgICogQHJldHVybiB7UElYSS5Mb2FkZXJ9IFJlZmVyZW5jZSB0byBQSVhJLkxvYWRlciBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBMb2FkZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIExvYWRlci5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgIGlmIChwbHVnaW4uYWRkKSB7XG4gICAgICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWxsIGluc3RhbGxlZCBgdXNlYCBtaWRkbGV3YXJlIGZvciBMb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5JTG9hZGVyUGx1Z2luPn0gX3BsdWdpbnNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExvYWRlci5fcGx1Z2lucyA9IFtdO1xuICAgIHJldHVybiBMb2FkZXI7XG59KExvYWRlciQxKSk7XG4vLyBwYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUucGFyc2luZyB9KTtcbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcbi8qKlxuICogUGx1Z2luIHRvIGJlIGluc3RhbGxlZCBmb3IgaGFuZGxpbmcgc3BlY2lmaWMgTG9hZGVyIHJlc291cmNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUxvYWRlclBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2FkZF0gLSBGdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZSBhZnRlciByZWdpc3RlcmluZyBwbHVnaW4uXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFtwcmVdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFt1c2VdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYWZ0ZXIgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElDYWxsYmFja0lEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIENvbnRleHRcbiAqIEByZXR1cm5zIHtJQ2FsbGJhY2tJRH0gLSBDYWxsYmFja0lEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxEZXRhY2hcbiAqIEBwYXJhbSB7SUNhbGxiYWNrSUR9IGlkIC0gQ2FsbGJhY2tJRCByZXR1cm5lZCBieSBgYWRkYC9gb25jZWAgbWV0aG9kc1xuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYgSUxvYWRlclNpZ25hbFxuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IGFkZCAtIFJlZ2lzdGVyIGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxDYWxsYmFja30gb25jZSAtIFJlZ2lzdGVyIG9uZXNob3QgY2FsbGJhY2tcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbERldGFjaH0gZGV0YWNoIC0gRGV0YWNoIHNwZWNpZmljIGNhbGxiYWNrIGJ5IElEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gbG9hZGluZyBwcm9jZXNzLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25TdGFydFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Qcm9ncmVzc1xuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvbkVycm9yXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Mb2FkXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZCBhbGwgcmVzb3VyY2VzLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Db21wbGV0ZVxuICovXG5cbi8qKlxuICogQXBwbGljYXRpb24gcGx1Z2luIGZvciBzdXBwb3J0aW5nIGxvYWRlciBvcHRpb24uIEluc3RhbGxpbmcgdGhlIExvYWRlclBsdWdpblxuICogaXMgbm90IG5lY2Vzc2FyeSBpZiB1c2luZyAqKnBpeGkuanMqKiBvciAqKnBpeGkuanMtbGVnYWN5KiouXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtBcHBMb2FkZXJQbHVnaW59IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBMb2FkZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYXBwbGljYXRpb24gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRlciBpbnN0YW5jZSB0byBoZWxwIHdpdGggYXNzZXQgbG9hZGluZy5cbiAgICAgICAgICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBcHBMb2FkZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBcHBMb2FkZXJQbHVnaW47XG59KCkpO1xuXG5leHBvcnQgeyBBcHBMb2FkZXJQbHVnaW4sIExvYWRlciwgTG9hZGVyUmVzb3VyY2UsIFRleHR1cmVMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3BhcnRpY2xlcyAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9wYXJ0aWNsZXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBoZXgycmdiLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciwgU2hhZGVyLCBTdGF0ZSwgT2JqZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLlxuICpcbiAqIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay5cbiAqIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlOlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVDb250YWluZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSAtIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2VcbiAgICAgKiAgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQ29udGFpbmVyKG1heFNpemUsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSwgYXV0b1Jlc2l6ZSkge1xuICAgICAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSAxNTAwOyB9XG4gICAgICAgIGlmIChiYXRjaFNpemUgPT09IHZvaWQgMCkgeyBiYXRjaFNpemUgPSAxNjM4NDsgfVxuICAgICAgICBpZiAoYXV0b1Jlc2l6ZSA9PT0gdm9pZCAwKSB7IGF1dG9SZXNpemUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIERlZmF1bHQgdG8gdHJ1ZSBoZXJlIGFzIHBlcmZvcm1hbmNlIGlzIHVzdWFsbHkgdGhlIHByaW9yaXR5IGZvciBwYXJ0aWNsZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IDA7XG4gICAgICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICoqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICBoZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKHNtYWxsZXN0Q2hpbGRJbmRleCkge1xuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVCdWZmZXIocHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5zdGF0aWNEYXRhLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLmR5bmFtaWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5zdGF0aWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSwgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZUJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9IF07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHt9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplICYmICFjb250YWluZXIuYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ggPSBzcHJpdGUuc2NhbGUueDtcbiAgICAgICAgICAgIHZhciBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBleHRyYSBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLi5cbiAgICAgICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdzAgPSAob3JpZy53aWR0aCkgKiAoMSAtIHNwcml0ZS5hbmNob3IueCk7XG4gICAgICAgICAgICAgICAgdzEgPSAob3JpZy53aWR0aCkgKiAtc3ByaXRlLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IGgwICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHRpbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciBwcmVtdWx0aXBsaWVkID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA+IDA7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWRcbiAgICAgICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gYXJnYjtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciwgUGFydGljbGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9ncmFwaGljcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaFRleHR1cmVBcnJheSwgQmF0Y2hHZW9tZXRyeSwgU3RhdGUsIFVuaWZvcm1Hcm91cCwgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQb2x5Z29uLCBQSV8yLCBNYXRyaXgsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIHByZW11bHRpcGx5VGludCwgZGVwcmVjYXRpb24sIGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFN1cHBvcnRlZCBsaW5lIGpvaW50cyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKiBAc2VlIGh0dHBzOi8vZ3JhcGhpY2Rlc2lnbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTkwMTgvd2hhdC1pcy1hLWJldmVsLWpvaW4tb2YtdHdvLWxpbmVzLWV4YWN0bHktaWxsdXN0cmF0b3JcbiAqXG4gKiBAbmFtZSBMSU5FX0pPSU5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IE1JVEVSIC0gJ21pdGVyJzogbWFrZSBhIHNoYXJwIGNvcm5lciB3aGVyZSBvdXRlciBwYXJ0IG9mIGxpbmVzIG1lZXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCRVZFTCAtICdiZXZlbCc6IGFkZCBhIHNxdWFyZSBidXR0IGF0IGVhY2ggZW5kIG9mIGxpbmUgc2VnbWVudCBhbmQgZmlsbCB0aGUgdHJpYW5nbGUgYXQgdHVyblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIGFuIGFyYyBhdCB0aGUgam9pbnRcbiAqL1xudmFyIExJTkVfSk9JTjtcbihmdW5jdGlvbiAoTElORV9KT0lOKSB7XG4gICAgTElORV9KT0lOW1wiTUlURVJcIl0gPSBcIm1pdGVyXCI7XG4gICAgTElORV9KT0lOW1wiQkVWRUxcIl0gPSBcImJldmVsXCI7XG4gICAgTElORV9KT0lOW1wiUk9VTkRcIl0gPSBcInJvdW5kXCI7XG59KShMSU5FX0pPSU4gfHwgKExJTkVfSk9JTiA9IHt9KSk7XG4vKipcbiAqIFN1cHBvcnQgbGluZSBjYXBzIGluIGBQSVhJLkxpbmVTdHlsZWAgZm9yIGdyYXBoaWNzLlxuICpcbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqXG4gKiBAbmFtZSBMSU5FX0NBUFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQlVUVCAtICdidXR0JzogZG9uJ3QgYWRkIGFueSBjYXAgYXQgbGluZSBlbmRzIChsZWF2ZXMgb3J0aG9nb25hbCBlZGdlcylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBzZW1pY2lyY2xlIGF0IGVuZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBTUVVBUkUgLSAnc3F1YXJlJzogYWRkIHNxdWFyZSBhdCBlbmQgKGxpa2UgYEJVVFRgIGV4Y2VwdCBtb3JlIGxlbmd0aCBhdCBlbmQpXG4gKi9cbnZhciBMSU5FX0NBUDtcbihmdW5jdGlvbiAoTElORV9DQVApIHtcbiAgICBMSU5FX0NBUFtcIkJVVFRcIl0gPSBcImJ1dHRcIjtcbiAgICBMSU5FX0NBUFtcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xuICAgIExJTkVfQ0FQW1wiU1FVQVJFXCJdID0gXCJzcXVhcmVcIjtcbn0pKExJTkVfQ0FQIHx8IChMSU5FX0NBUCA9IHt9KSk7XG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBlcHNpbG9uOiAwLjAwMDEsXG4gICAgX3NlZ21lbnRzQ291bnQ6IGZ1bmN0aW9uIChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cykge1xuICAgICAgICBpZiAoZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDApIHsgZGVmYXVsdFNlZ21lbnRzID0gMjA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlIHx8ICFsZW5ndGggfHwgaXNOYU4obGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGaWxsU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsbFN0eWxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgRmlsbFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldFxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGxTdHlsZTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBmb3IgdHlwZSBvbmx5XG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlbGxpcHNlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHdpZHRoID0gZWxsaXBzZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBlbGxpcHNlRGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQod2lkdGggKyBoZWlnaHQpKTtcbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcbiAgICAgICAgdmFyIHNlZyA9IChNYXRoLlBJICogMikgLyB0b3RhbFNlZ3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzIC0gMC41OyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLCB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG4gICAgICAgIHZhciBjaXJjbGUgPSAoZ3JhcGhpY3NEYXRhLnNoYXBlKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IGdyYXBoaWNzRGF0YS5tYXRyaXg7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlLnk7XG4gICAgICAgIC8vIFB1c2ggY2VudGVyIChzcGVjaWFsIHBvaW50KVxuICAgICAgICB2ZXJ0cy5wdXNoKGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4IDogeCwgZ3JhcGhpY3NEYXRhLm1hdHJpeCA/IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHkgOiB5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHBvaW50c1s2XSwgcG9pbnRzWzddLCBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgbmVnYXRpdmUgcmFkaXVzIG9yIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSBzbWFsbGVzdCB3aWR0aFxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocnJlY3REYXRhLnJhZGl1cywgTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSk7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBObyByYWRpdXMsIGRvIGEgc2ltcGxlIHJlY3RhbmdsZVxuICAgICAgICBpZiAoIXJhZGl1cykge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cywgeCwgeSwgeCArIHJhZGl1cywgeSwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWZmZXJzIHZlcnRpY2VzIHRvIGRyYXcgYSBzcXVhcmUgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFgtY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFktY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbnggLSBYLWNvb3JkIG9mIGxpbmUgbm9ybWFsIHBvaW50aW5nIGluc2lkZVxuICogQHBhcmFtIHtudW1iZXJ9IG55IC0gWS1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSB2ZXJ0ZXggYnVmZmVyXG4gKiBAcmV0dXJucyB7fVxuICovXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgLyogcm90YXRpb24gZm9yIHNxdWFyZSAodHJ1ZSBhdCBsZWZ0IGVuZCwgZmFsc2UgYXQgcmlnaHQgZW5kKSAqLyB2ZXJ0cykge1xuICAgIHZhciBpeCA9IHggLSAobnggKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICB2YXIgb3ggPSB4ICsgKG54ICogb3V0ZXJXZWlnaHQpO1xuICAgIHZhciBveSA9IHkgKyAobnkgKiBvdXRlcldlaWdodCk7XG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgdmFyIGV4eDtcbiAgICB2YXIgZXl5O1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgZXh4ID0gbnk7XG4gICAgICAgIGV5eSA9IC1ueDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4eCA9IC1ueTtcbiAgICAgICAgZXl5ID0gbng7XG4gICAgfVxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIHZhciBlaXggPSBpeCArIGV4eDtcbiAgICB2YXIgZWl5ID0gaXkgKyBleXk7XG4gICAgdmFyIGVveCA9IG94ICsgZXh4O1xuICAgIHZhciBlb3kgPSBveSArIGV5eTtcbiAgICAvKiBTcXVhcmUgaXRzZWxmIG11c3QgYmUgaW5zZXJ0ZWQgY2xvY2t3aXNlKi9cbiAgICB2ZXJ0cy5wdXNoKGVpeCwgZWl5KTtcbiAgICB2ZXJ0cy5wdXNoKGVveCwgZW95KTtcbiAgICByZXR1cm4gMjtcbn1cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGFuIGFyYyBhdCB0aGUgbGluZSBqb2ludCBvciBjYXAuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFgtY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBZLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IHN4IC0gWC1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSAtIFktY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZXggLSBYLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleSAtIFktY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2ZXJ0cyAtIGJ1ZmZlciBvZiB2ZXJ0aWNlc1xuICogQHBhcmFtIHtib29sZWFufSBjbG9ja3dpc2UgLSBvcmllbnRhdGlvbiBvZiB2ZXJ0aWNlc1xuICogQHJldHVybnMge251bWJlcn0gLSBuby4gb2YgdmVydGljZXMgcHVzaGVkXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGN4LCBjeSwgc3gsIHN5LCBleCwgZXksIHZlcnRzLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgY3gycDB4ID0gc3ggLSBjeDtcbiAgICB2YXIgY3kycDB5ID0gc3kgLSBjeTtcbiAgICB2YXIgYW5nbGUwID0gTWF0aC5hdGFuMihjeDJwMHgsIGN5MnAweSk7XG4gICAgdmFyIGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG4gICAgaWYgKGNsb2Nrd2lzZSAmJiBhbmdsZTAgPCBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUwICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICBlbHNlIGlmICghY2xvY2t3aXNlICYmIGFuZ2xlMCA+IGFuZ2xlMSkge1xuICAgICAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIHZhciBzdGFydEFuZ2xlID0gYW5nbGUwO1xuICAgIHZhciBhbmdsZURpZmYgPSBhbmdsZTEgLSBhbmdsZTA7XG4gICAgdmFyIGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG4gICAgLyogaWYgKGFic0FuZ2xlRGlmZiA+PSBQSV9MQk9VTkQgJiYgYWJzQW5nbGVEaWZmIDw9IFBJX1VCT1VORClcbiAgICB7XG4gICAgICAgIGNvbnN0IHIxeCA9IGN4IC0gbnh0UHg7XG4gICAgICAgIGNvbnN0IHIxeSA9IGN5IC0gbnh0UHk7XG5cbiAgICAgICAgaWYgKHIxeCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHIxeSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyMXggPj0gLUdSQVBISUNTX0NVUlZFUy5lcHNpbG9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICB9XG4gICAgfSovXG4gICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgoY3gycDB4ICogY3gycDB4KSArIChjeTJwMHkgKiBjeTJwMHkpKTtcbiAgICB2YXIgc2VnQ291bnQgPSAoKDE1ICogYWJzQW5nbGVEaWZmICogTWF0aC5zcXJ0KHJhZGl1cykgLyBNYXRoLlBJKSA+PiAwKSArIDE7XG4gICAgdmFyIGFuZ2xlSW5jID0gYW5nbGVEaWZmIC8gc2VnQ291bnQ7XG4gICAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBhbmdsZSA9IHN0YXJ0QW5nbGU7IGkgPCBzZWdDb3VudDsgaSsrLCBhbmdsZSArPSBhbmdsZUluYykge1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCArICgoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKSksIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdDb3VudCAqIDI7XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9seWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB2YXIgZXBzID0gZ3JhcGhpY3NHZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgdmFyIHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSAobGFzdFBvaW50LnkgKyBmaXJzdFBvaW50LnkpICogMC41O1xuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgLy8gTWF4LiBpbm5lciBhbmQgb3V0ZXIgd2lkdGhcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG4gICAgdmFyIHdpZHRoU3F1YXJlZCA9IHdpZHRoICogd2lkdGg7XG4gICAgdmFyIG1pdGVyTGltaXRTcXVhcmVkID0gc3R5bGUubWl0ZXJMaW1pdCAqIHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLyogTGluZSBzZWdtZW50cyBvZiBpbnRlcmVzdCB3aGVyZSAoeDEseTEpIGZvcm1zIHRoZSBjb3JuZXIuICovXG4gICAgdmFyIHgwID0gcG9pbnRzWzBdO1xuICAgIHZhciB5MCA9IHBvaW50c1sxXTtcbiAgICB2YXIgeDEgPSBwb2ludHNbMl07XG4gICAgdmFyIHkxID0gcG9pbnRzWzNdO1xuICAgIHZhciB4MiA9IDA7XG4gICAgdmFyIHkyID0gMDtcbiAgICAvKiBwZXJwWz9dKHh8eSkgPSB0aGUgbGluZSBub3JtYWwgd2l0aCBtYWduaXR1ZGUgbGluZVdpZHRoLiAqL1xuICAgIHZhciBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgdmFyIHBlcnB5ID0geDAgLSB4MTtcbiAgICB2YXIgcGVycDF4ID0gMDtcbiAgICB2YXIgcGVycDF5ID0gMDtcbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2YXIgcmF0aW8gPSBzdHlsZS5hbGlnbm1lbnQ7IC8vIDAuNTtcbiAgICB2YXIgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MCAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MCwgeTAsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCB0cnVlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUHVzaCBmaXJzdCBwb2ludCAoYmVsb3cgJiBhYm92ZSB2ZXJ0aWNlcylcbiAgICB2ZXJ0cy5wdXNoKHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MCArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTAgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgeTAgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHkxID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MiA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICAgICAgcGVycHkgPSB4MCAtIHgxO1xuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcbiAgICAgICAgcGVycDF4ID0gLSh5MSAtIHkyKTtcbiAgICAgICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDF4ICogcGVycDF4KSArIChwZXJwMXkgKiBwZXJwMXkpKTtcbiAgICAgICAgcGVycDF4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAxeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMXggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICAgICAgLyogZFt4fHldKDB8MSkgPSB0aGUgY29tcG9uZW50IGRpc3BsYWNtZW50IGJldHdlZW4gcG9pbnRzIHAoMCwxfDEsMikgKi9cbiAgICAgICAgdmFyIGR4MCA9IHgxIC0geDA7XG4gICAgICAgIHZhciBkeTAgPSB5MCAtIHkxO1xuICAgICAgICB2YXIgZHgxID0geDEgLSB4MjtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8qICt2ZSBpZiBpbnRlcm5hbCBhbmdsZSBjb3VudGVyY2xvY2t3aXNlLCAtdmUgaWYgaW50ZXJuYWwgYW5nbGUgY2xvY2t3aXNlLiAqL1xuICAgICAgICB2YXIgY3Jvc3MgPSAoZHkwICogZHgxKSAtIChkeTEgKiBkeDApO1xuICAgICAgICB2YXIgY2xvY2t3aXNlID0gKGNyb3NzIDwgMCk7XG4gICAgICAgIC8qIEdvaW5nIG5lYXJseSBzdHJhaWdodD8gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDAuMSkge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLyogcFt4fHldIGlzIHRoZSBtaXRlciBwb2ludC4gcGRpc3QgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gbWl0ZXIgcG9pbnQgYW5kIHAxLiAqL1xuICAgICAgICB2YXIgYzEgPSAoKC1wZXJweCArIHgwKSAqICgtcGVycHkgKyB5MSkpIC0gKCgtcGVycHggKyB4MSkgKiAoLXBlcnB5ICsgeTApKTtcbiAgICAgICAgdmFyIGMyID0gKCgtcGVycDF4ICsgeDIpICogKC1wZXJwMXkgKyB5MSkpIC0gKCgtcGVycDF4ICsgeDEpICogKC1wZXJwMXkgKyB5MikpO1xuICAgICAgICB2YXIgcHggPSAoKGR4MCAqIGMyKSAtIChkeDEgKiBjMSkpIC8gY3Jvc3M7XG4gICAgICAgIHZhciBweSA9ICgoZHkxICogYzEpIC0gKGR5MCAqIGMyKSkgLyBjcm9zcztcbiAgICAgICAgdmFyIHBkaXN0ID0gKChweCAtIHgxKSAqIChweCAtIHgxKSkgKyAoKHB5IC0geTEpICogKHB5IC0geTEpKTtcbiAgICAgICAgLyogSW5uZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIGlteCA9IHgxICsgKChweCAtIHgxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIGlteSA9IHkxICsgKChweSAtIHkxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgLyogT3V0ZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIG9teCA9IHgxIC0gKChweCAtIHgxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIG9teSA9IHkxIC0gKChweSAtIHkxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIHAwaXggPSB4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIHAwaXkgPSB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIHAyaXggPSB4MiAtIChwZXJwMXggKiBpbm5lcldlaWdodCk7XG4gICAgICAgIHZhciBwMml5ID0geTIgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpO1xuICAgICAgICB2YXIgcDBveCA9IHgwICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICB2YXIgcDBveSA9IHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICB2YXIgcDJveCA9IHgyICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIHAyb3kgPSB5MiArIChwZXJwMXkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIC8qIENoZWNrIGlmIGlubmVyIG1pdGVyIHBvaW50IGlzIG9uIHNhbWUgc2lkZSBhcyBwMSB3LnIudCB2ZWN0b3IgcDAyICovXG4gICAgICAgIC8vIFRha2Ugbm9ybWFsIHRvIHYwMlxuICAgICAgICB2YXIgbjAyeCA9IHkyIC0geTA7XG4gICAgICAgIHZhciBuMDJ5ID0gLSh4MiAtIHgwKTtcbiAgICAgICAgLy8gVGFrZSBkb3QgcHJvZHVjdHMgb2YgcDEgYW5kIGltIHdpdGggbm9ybWFsIHRvIHYwMlxuICAgICAgICB2YXIgZG90cDEgPSAobjAyeCAqICh4MSAtIHAwaXgpKSArIChuMDJ5ICogKHkxIC0gcDBpeSkpO1xuICAgICAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgICAgICB2YXIgZG90aW0gPSAobjAyeCAqIChpbXggLSBwMGl4KSkgKyAobjAyeSAqIChpbXkgLSBwMGl5KSk7XG4gICAgICAgICAgICAvLyBOb3Qgb24gc2FtZSBzaWRlPywgbWFrZSBpbm5lciBtaXRlciBwb2ludCB0aGUgbWlkLXBvaW50IGluc3RlYWRcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkb3RwMSAtIGRvdGltKSA+IDAuMSAmJiBNYXRoLnNpZ24oZG90cDEpICE9PSBNYXRoLnNpZ24oZG90aW0pKSB7XG4gICAgICAgICAgICAgICAgaW14ID0gKHAwaXggKyBwMml4KSAqIDAuNTtcbiAgICAgICAgICAgICAgICBpbXkgPSAocDBpeSArIHAyaXkpICogMC41O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRvdG9tID0gKG4wMnggKiAob214IC0gcDBpeCkpICsgKG4wMnkgKiAob215IC0gcDBpeSkpO1xuICAgICAgICAgICAgLy8gTm90IG9uIHNhbWUgc2lkZT8sIG1ha2Ugb3V0ZXIgbWl0ZXIgcG9pbnQgdGhlIG1pZC1wb2ludCBpbnN0ZWFkXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZG90cDEgLSBkb3RvbSkgPiAwLjEgJiYgTWF0aC5zaWduKGRvdHAxKSAhPT0gTWF0aC5zaWduKGRvdG9tKSkge1xuICAgICAgICAgICAgICAgIG9teCA9IChwMG94ICsgcDJveCkgKiAwLjU7XG4gICAgICAgICAgICAgICAgb215ID0gKHAwb3kgKyBwMm95KSAqIDAuNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLkJFVkVMIHx8IHBkaXN0IC8gd2lkdGhTcXVhcmVkID4gbWl0ZXJMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIHJvdGF0aW5nIGF0IGlubmVyIGFuZ2xlICovIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgLyogcm90YXRpbmcgYXQgb3V0ZXIgYW5nbGUgKi8ge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORCkge1xuICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogYXJjIGlzIG91dHNpZGUgKi8ge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgNDtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgLyogYXJjIGlzIGluc2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgNDtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeDAgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgeTAgPSBwb2ludHNbKChsZW5ndGggLSAyKSAqIDIpICsgMV07XG4gICAgeDEgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgeTEgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG4gICAgcGVycHggPSAtKHkwIC0geTEpO1xuICAgIHBlcnB5ID0geDAgLSB4MTtcbiAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgaWYgKCFjbG9zZWRTaGFwZSkge1xuICAgICAgICBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5ST1VORCkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSAtIChwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHkxIC0gKHBlcnB5ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MSwgeTEsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBmYWxzZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBlcHMyID0gR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb24gKiBHUkFQSElDU19DVVJWRVMuZXBzaWxvbjtcbiAgICAvLyBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG4gICAgZm9yICh2YXIgaSA9IGluZGV4U3RhcnQ7IGkgPCBpbmRleENvdW50ICsgaW5kZXhTdGFydCAtIDI7ICsraSkge1xuICAgICAgICB4MCA9IHZlcnRzWyhpICogMildO1xuICAgICAgICB5MCA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDEgPSB2ZXJ0c1soaSArIDEpICogMl07XG4gICAgICAgIHkxID0gdmVydHNbKChpICsgMSkgKiAyKSArIDFdO1xuICAgICAgICB4MiA9IHZlcnRzWyhpICsgMikgKiAyXTtcbiAgICAgICAgeTIgPSB2ZXJ0c1soKGkgKyAyKSAqIDIpICsgMV07XG4gICAgICAgIC8qIFNraXAgemVybyBhcmVhIHRyaWFuZ2xlcyAqL1xuICAgICAgICBpZiAoTWF0aC5hYnMoKHgwICogKHkxIC0geTIpKSArICh4MSAqICh5MiAtIHkwKSkgKyAoeDIgKiAoeTAgLSB5MSkpKSA8IGVwczIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZGljZXMucHVzaChpLCBpICsgMSwgaSArIDIpO1xuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHsgcmV0dXJuOyB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cbiAgICBpZiAoY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lU3R5bGUubmF0aXZlKSB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxufVxuXG4vKipcbiAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlBvbHlnb25cbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gKi9cbnZhciBTdGFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGFyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHggKyAociAqIE1hdGguY29zKGFuZ2xlKSksIHkgKyAociAqIE1hdGguc2luKGFuZ2xlKSkpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9seWdvbikgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3Rhcjtcbn0oUG9seWdvbikpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYXJjIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQXJjVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXJjVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IElmIHRoZSBhcmMgbGVuZ3RoIGlzIHZhbGlkLCByZXR1cm4gY2VudGVyIG9mIGNpcmNsZSwgcmFkaXVzIGFuZCBvdGhlciBpbmZvIG90aGVyd2lzZSBgbnVsbGAuXG4gICAgICovXG4gICAgQXJjVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICAgICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICAgICAgdmFyIG1tID0gTWF0aC5hYnMoKGExICogYjIpIC0gKGIxICogYTIpKTtcbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZCA9IChhMSAqIGExKSArIChiMSAqIGIxKTtcbiAgICAgICAgdmFyIGNjID0gKGEyICogYTIpICsgKGIyICogYjIpO1xuICAgICAgICB2YXIgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgdmFyIGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgdmFyIGN4ID0gKGsxICogYjIpICsgKGsyICogYjEpO1xuICAgICAgICB2YXIgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgICAgIHZhciBweCA9IGIxICogKGsyICsgajEpO1xuICAgICAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgIHZhciBxeSA9IGEyICogKGsxICsgajIpO1xuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjeDogKGN4ICsgeDEpLFxuICAgICAgICAgICAgY3k6IChjeSArIHkxKSxcbiAgICAgICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIGFudGljbG9ja3dpc2U6IChiMSAqIGEyID4gYjIgKiBhMSksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIC0gU3RhcnQgeCBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhbnRpY2xvY2t3aXNlIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICAgICAqL1xuICAgIEFyY1V0aWxzLmFyYyA9IGZ1bmN0aW9uIChfc3RhcnRYLCBfc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIF9hbnRpY2xvY2t3aXNlLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwKTtcbiAgICAgICAgdmFyIHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgIHZhciBzZWdNaW51cyA9IG4gLSAxO1xuICAgICAgICB2YXIgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LCAoKChjVGhldGEgKiAtcykgKyAoc1RoZXRhICogYykpICogcmFkaXVzKSArIGN5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFyY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGJlemllciBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEJlemllclV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJlemllclV0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIGJlemllciBjdXJ2ZS5cbiAgICAgKiBBbmFseXRpY2FsIHNvbHV0aW9uIGlzIGltcG9zc2libGUsIHNpbmNlIGl0IGludm9sdmVzIGFuIGludGVncmFsIHRoYXQgZG9lcyBub3QgaW50ZWdyYXRlIGluIGdlbmVyYWwuXG4gICAgICogVGhlcmVmb3JlIG51bWVyaWNhbCBzb2x1dGlvbiBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIGJlemllciBjdXJ2ZVxuICAgICAqL1xuICAgIEJlemllclV0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBuID0gMTA7XG4gICAgICAgIHZhciByZXN1bHQgPSAwLjA7XG4gICAgICAgIHZhciB0ID0gMC4wO1xuICAgICAgICB2YXIgdDIgPSAwLjA7XG4gICAgICAgIHZhciB0MyA9IDAuMDtcbiAgICAgICAgdmFyIG50ID0gMC4wO1xuICAgICAgICB2YXIgbnQyID0gMC4wO1xuICAgICAgICB2YXIgbnQzID0gMC4wO1xuICAgICAgICB2YXIgeCA9IDAuMDtcbiAgICAgICAgdmFyIHkgPSAwLjA7XG4gICAgICAgIHZhciBkeCA9IDAuMDtcbiAgICAgICAgdmFyIGR5ID0gMC4wO1xuICAgICAgICB2YXIgcHJldlggPSBmcm9tWDtcbiAgICAgICAgdmFyIHByZXZZID0gZnJvbVk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdCA9IGkgLyBuO1xuICAgICAgICAgICAgdDIgPSB0ICogdDtcbiAgICAgICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICAgICAgbnQgPSAoMS4wIC0gdCk7XG4gICAgICAgICAgICBudDIgPSBudCAqIG50O1xuICAgICAgICAgICAgbnQzID0gbnQyICogbnQ7XG4gICAgICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuICAgICAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAgICAgKi9cbiAgICBCZXppZXJVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHBvaW50cy5sZW5ndGggLT0gMjtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpKTtcbiAgICAgICAgdmFyIGR0ID0gMDtcbiAgICAgICAgdmFyIGR0MiA9IDA7XG4gICAgICAgIHZhciBkdDMgPSAwO1xuICAgICAgICB2YXIgdDIgPSAwO1xuICAgICAgICB2YXIgdDMgPSAwO1xuICAgICAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICBqID0gaSAvIG47XG4gICAgICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICAgICAgZHQzID0gZHQyICogZHQ7XG4gICAgICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICAgICAgdDMgPSB0MiAqIGo7XG4gICAgICAgICAgICBwb2ludHMucHVzaCgoZHQzICogZnJvbVgpICsgKDMgKiBkdDIgKiBqICogY3BYKSArICgzICogZHQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKSwgKGR0MyAqIGZyb21ZKSArICgzICogZHQyICogaiAqIGNwWSkgKyAoMyAqIGR0ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmV6aWVyVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgcXVhZHJhdGljIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUXVhZHJhdGljVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVhZHJhdGljVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBheCA9IGZyb21YIC0gKDIuMCAqIGNwWCkgKyB0b1g7XG4gICAgICAgIHZhciBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSkgKyB0b1k7XG4gICAgICAgIHZhciBieCA9ICgyLjAgKiBjcFgpIC0gKDIuMCAqIGZyb21YKTtcbiAgICAgICAgdmFyIGJ5ID0gKDIuMCAqIGNwWSkgLSAoMi4wICogZnJvbVkpO1xuICAgICAgICB2YXIgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgICAgICB2YXIgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgICAgICB2YXIgYyA9IChieCAqIGJ4KSArIChieSAqIGJ5KTtcbiAgICAgICAgdmFyIHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICAgICAgdmFyIGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgICAgICB2YXIgYTMyID0gMi4wICogYSAqIGEyO1xuICAgICAgICB2YXIgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgICAgIHZhciBiYSA9IGIgLyBhMjtcbiAgICAgICAgcmV0dXJuICgoYTMyICogcylcbiAgICAgICAgICAgICsgKGEyICogYiAqIChzIC0gYzIpKVxuICAgICAgICAgICAgKyAoKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKSkpIC8gKDQuMCAqIGEzMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIGFkZCBzZWdtZW50cyB0by5cbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdmFyIGogPSBpIC8gbjtcbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoKGNwWCAtIGZyb21YKSAqIGopO1xuICAgICAgICAgICAgeWEgPSBmcm9tWSArICgoY3BZIC0gZnJvbVkpICogaik7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLCB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFF1YWRyYXRpY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBBIHN0cnVjdHVyZSB0byBob2xkIGludGVyaW0gYmF0Y2ggb2JqZWN0cyBmb3IgR3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqL1xudmFyIEJhdGNoUGFydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFBhcnQoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmVnaW4gYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF0dHJpYlN0YXJ0XG4gICAgICovXG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uIChzdHlsZSwgc3RhcnRJbmRleCwgYXR0cmliU3RhcnQpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydEluZGV4O1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gYXR0cmliU3RhcnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmQgYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEF0dHJpYlxuICAgICAqL1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGVuZEluZGV4LCBlbmRBdHRyaWIpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gZW5kQXR0cmliIC0gdGhpcy5hdHRyaWJTdGFydDtcbiAgICAgICAgdGhpcy5zaXplID0gZW5kSW5kZXggLSB0aGlzLnN0YXJ0O1xuICAgIH07XG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBCYXRjaFBhcnQ7XG59KCkpO1xuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgR3JhcGhpY3MuXG4gKlxuICogQG5hbWVzcGFjZSBncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgX2E7XG4vKipcbiAqIE1hcCBvZiBmaWxsIGNvbW1hbmRzIGZvciBlYWNoIHNoYXBlIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7T2JqZWN0fSBGSUxMX0NPTU1BTkRTXG4gKi9cbnZhciBGSUxMX0NPTU1BTkRTID0gKF9hID0ge30sXG4gICAgX2FbU0hBUEVTLlBPTFldID0gYnVpbGRQb2x5LFxuICAgIF9hW1NIQVBFUy5DSVJDXSA9IGJ1aWxkQ2lyY2xlLFxuICAgIF9hW1NIQVBFUy5FTElQXSA9IGJ1aWxkQ2lyY2xlLFxuICAgIF9hW1NIQVBFUy5SRUNUXSA9IGJ1aWxkUmVjdGFuZ2xlLFxuICAgIF9hW1NIQVBFUy5SUkVDXSA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBfYSk7XG4vKipcbiAqIEJhdGNoIHBvb2wsIHN0b3JlcyB1bnVzZWQgYmF0Y2hlcyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0Pn0gQkFUQ0hfUE9PTFxuICovXG52YXIgQkFUQ0hfUE9PTCA9IFtdO1xuLyoqXG4gKiBEcmF3IGNhbGwgcG9vbCwgc3RvcmVzIHVudXNlZCBkcmF3IGNhbGxzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmF0Y2hEcmF3Q2FsbD59IERSQVdfQ0FMTF9QT09MXG4gKi9cbnZhciBEUkFXX0NBTExfUE9PTCA9IFtdO1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGJ1aWxkUG9seTogYnVpbGRQb2x5LFxuICAgIGJ1aWxkQ2lyY2xlOiBidWlsZENpcmNsZSxcbiAgICBidWlsZFJlY3RhbmdsZTogYnVpbGRSZWN0YW5nbGUsXG4gICAgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlOiBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgRklMTF9DT01NQU5EUzogRklMTF9DT01NQU5EUyxcbiAgICBCQVRDSF9QT09MOiBCQVRDSF9QT09MLFxuICAgIERSQVdfQ0FMTF9QT09MOiBEUkFXX0NBTExfUE9PTCxcbiAgICBidWlsZExpbmU6IGJ1aWxkTGluZSxcbiAgICBTdGFyOiBTdGFyLFxuICAgIEFyY1V0aWxzOiBBcmNVdGlscyxcbiAgICBCZXppZXJVdGlsczogQmV6aWVyVXRpbHMsXG4gICAgUXVhZHJhdGljVXRpbHM6IFF1YWRyYXRpY1V0aWxzLFxuICAgIEJhdGNoUGFydDogQmF0Y2hQYXJ0XG59KTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBbZmlsbFN0eWxlXSAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gW2xpbmVTdHlsZV0gLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBob2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5zaGFwZSwgdGhpcy5maWxsU3R5bGUsIHRoaXMubGluZVN0eWxlLCB0aGlzLm1hdHJpeCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpKTtcblxudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdG1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogR3JhcGhpY3NHZW9tZXRyeSBpcyBkZXNpZ25lZCB0byBub3QgYmUgY29udGludWFsbHkgdXBkYXRpbmcgdGhlIGdlb21ldHJ5IHNpbmNlIGl0J3MgZXhwZW5zaXZlXG4gKiB0byByZS10ZXNzZWxhdGUgdXNpbmcgKiplYXJjdXQqKi4gQ29uc2lkZXIgdXNpbmcge0BsaW5rIFBJWEkuTWVzaH0gZm9yIHRoaXMgdXNlLWNhc2UsIGl0J3MgbXVjaCBmYXN0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhdGNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0dlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljc0dlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3LCAyIG51bWJlcnMgcGVyIHBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyRGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBjdXJyZW50IGRyYXcgY2FsbHMgZHJpdmVkIGZyb20gdGhlIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3Q2FsbHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBsYXN0IGJhdGNoZWQgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYXBlSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgX3RoaXMudXZzRmxvYXQzMiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LlxuICAgICAgICAgKiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSwgXCJib3VuZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2FsbCBpZiB5b3UgY2hhbmdlZCBncmFwaGljc0RhdGEgbWFudWFsbHkuXG4gICAgICogRW1wdGllcyBhbGwgYmF0Y2ggYnVmZmVycy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LnJlc2V0KCk7XG4gICAgICAgICAgICBCQVRDSF9QT09MLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFRoaXMgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gbGluZVN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgbGluZXMuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiAoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdm9pZCAwKSB7IGZpbGxTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKGxpbmVTdHlsZSA9PT0gdm9pZCAwKSB7IGxpbmVTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3SG9sZSA9IGZ1bmN0aW9uIChzaGFwZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG4gICAgICAgIHZhciBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuICAgICAgICBsYXN0U2hhcGUuaG9sZXMucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb2ludC5jb3B5RnJvbShwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaXRIb2xlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbaV8xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRIb2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGl0SG9sZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Fsb293MzJJbmRpY2VzXSAtIEFsbG93IHVzaW5nIDMyLWJpdCBpbmRpY2VzIGZvciBwcmV2ZW50aW5ncyBhcnRlZmFjdHMgd2hlbiBtb3JlIHRoYXQgNjU1MzUgdmVydGljZXNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVCYXRjaGVzID0gZnVuY3Rpb24gKGFsbG93MzJJbmRpY2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICAvLyBidWlsZCBvdXQgdGhlIHNoYXBlcyBwb2ludHMuLlxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChkYXRhKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEucG9pbnRzLCBkYXRhLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmlsbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gKHRoaXMucG9pbnRzLmxlbmd0aCAvIDIpIC0gYXR0cmliSW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAvLyBjbG9zZSBiYXRjaCBpZiBzdHlsZSBpcyBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hQYXJ0ICYmICF0aGlzLl9jb21wYXJlU3R5bGVzKGN1cnJlbnRTdHlsZSwgc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXhfMSwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzcGF3biBuZXcgYmF0Y2ggaWYgaXRzIGZpcnN0IGJhdGNoIG9yIHByZXZpb3VzIHdhcyBjbG9zZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydCkge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmJlZ2luKHN0eWxlLCBpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZFV2cyh0aGlzLnBvaW50cywgdXZzLCBzdHlsZS50ZXh0dXJlLCBhdHRyaWJJbmRleCwgc2l6ZSwgc3R5bGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgaWYgKGJhdGNoUGFydCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleCwgYXR0cmliKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldmVudCBhbGxvY2F0aW9uIHdoZW4gbGVuZ3RoIGlzIHNhbWUgYXMgYnVmZmVyXG4gICAgICAgIGlmICh0aGlzLmluZGljZXNVaW50MTYgJiYgdGhpcy5pbmRpY2VzLmxlbmd0aCA9PT0gdGhpcy5pbmRpY2VzVWludDE2Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2LnNldCh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5lZWQzMiA9IGF0dHJpYiA+IDB4ZmZmZiAmJiBhbGxvdzMySW5kaWNlcztcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5lZWQzMiA/IG5ldyBVaW50MzJBcnJheSh0aGlzLmluZGljZXMpIDogbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgYSBjb25zdC4uXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdGhpcy5pc0JhdGNoYWJsZSgpO1xuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFja0JhdGNoZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWZmaW5pdHkgY2hlY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVBXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUJcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5fY29tcGFyZVN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZUEsIHN0eWxlQikge1xuICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQS50ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBzdHlsZUIudGV4dHVyZS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUEuY29sb3IgKyBzdHlsZUEuYWxwaGEgIT09IHN0eWxlQi5jb2xvciArIHN0eWxlQi5hbHBoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIXN0eWxlQS5uYXRpdmUgIT09ICEhc3R5bGVCLm5hdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBnZW9tZXRyeSBmb3IgYmF0Y2hpbmcgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS52YWxpZGF0ZUJhdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBmaWxsID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgaWYgKGZpbGwgJiYgIWZpbGwudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGxpbmUgJiYgIWxpbmUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpO1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBiYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmlzQmF0Y2hhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBwcmV2ZW50IGhlYXZ5IG1lc2ggYmF0Y2hpbmdcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA+IDB4ZmZmZiAqIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBpbnRlcm1lZGlhdGUgYmF0Y2hlcyBkYXRhIHRvIGRyYXdDYWxscy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gMDtcbiAgICAgICAgdmFyIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gODtcbiAgICAgICAgICAgIC8vIEZvcmNlZCBjYXN0IGZvciBjaGVja2luZyBgbmF0aXZlYCB3aXRob3V0IGVycm9yc1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAobmF0aXZlICE9PSAhIXN0eWxlLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9ICEhc3R5bGUubmF0aXZlO1xuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBkcmF3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhY2shIEJlY2F1c2UgdGV4dHVyZSBoYXMgcHJvdGVjdGVkIGB0b3VjaGVkYFxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gMTsgLy8gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbiA9IHRleHR1cmVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSAxMDQ5NztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmVsZW1lbnRzW2N1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICAvLyB1cGxvYWQuLlxuICAgICAgICAvLyBtZXJnZSBmb3Igbm93IVxuICAgICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWNrcyBhdHRyaWJ1dGVzIHRvIHNpbmdsZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0F0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIC8vIHZlcnRzIGFyZSAyIHBvc2l0aW9ucy4uIHNvIHdlICogYnkgMyBhcyB0aGVyZSBhcmUgNiBwcm9wZXJ0aWVzLi4gdGhlbiA0IGNvcyBpdHMgYnl0ZXNcbiAgICAgICAgdmFyIGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgdmFyIGYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgdTMyID0gbmV3IFVpbnQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlci51cGRhdGUoZ2xQb2ludHMpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5pbmRpY2VzVWludDE2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZmlsbCBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzRmlsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG4gICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgbGluZSBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzTGluZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGJ1aWxkTGluZShkYXRhLCB0aGlzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGhvbGVzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhW119IGhvbGVzIC0gSG9sZXMgdG8gcmVuZGVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NIb2xlcyA9IGZ1bmN0aW9uIChob2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2hvbGUudHlwZV07XG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGhvbGUpO1xuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoaG9sZS5wb2ludHMsIGhvbGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgdmFyIHNlcXVlbmNlQm91bmRzID0gdG1wQm91bmRzO1xuICAgICAgICB2YXIgY3VyTWF0cml4ID0gTWF0cml4LklERU5USVRZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgIHZhciBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0TWF0cml4ID0gZGF0YS5tYXRyaXggfHwgTWF0cml4LklERU5USVRZO1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IDAuMDtcbiAgICAgICAgICAgIGlmIChsaW5lU3R5bGUgJiYgbGluZVN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxpZ25tZW50ID0gbGluZVN0eWxlLmFsaWdubWVudDtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lU3R5bGUud2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqICgwLjUgKyBNYXRoLmFicygwLjUgLSBhbGlnbm1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIE1hdGgubWF4KDAsIGFsaWdubWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1ck1hdHJpeCAhPT0gbmV4dE1hdHJpeCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRCb3VuZHNNYXRyaXgoc2VxdWVuY2VCb3VuZHMsIGN1ck1hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ck1hdHJpeCA9IG5leHRNYXRyaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHJlY3QueCwgcmVjdC55LCByZWN0LnggKyByZWN0LndpZHRoLCByZWN0LnkgKyByZWN0LmhlaWdodCwgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoY2lyY2xlLngsIGNpcmNsZS55LCBjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgsIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxsaXBzZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLngsIGVsbGlwc2UueSwgZWxsaXBzZS53aWR0aCArIGxpbmVXaWR0aCwgZWxsaXBzZS5oZWlnaHQgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgZGlyZWN0bHkgdG8gdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRWZXJ0aWNlc01hdHJpeChjdXJNYXRyaXgsIHBvbHkucG9pbnRzLCAwLCBwb2x5LnBvaW50cy5sZW5ndGgsIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMucGFkKHRoaXMuYm91bmRzUGFkZGluZywgdGhpcy5ib3VuZHNQYWRkaW5nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cywgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKV0gPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMikgKyAxXSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZENvbG9ycyA9IGZ1bmN0aW9uIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSkge1xuICAgICAgICAvLyBUT0RPIHVzZSB0aGUgcHJlbXVsdGlwbHkgYml0cyBJdmFuIGFkZGVkXG4gICAgICAgIHZhciByZ2IgPSAoY29sb3IgPj4gMTYpICsgKGNvbG9yICYgMHhmZjAwKSArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHZhciByZ2JhID0gcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgY29sb3JzLnB1c2gocmdiYSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVGV4dHVyZUlkcyA9IGZ1bmN0aW9uICh0ZXh0dXJlSWRzLCBpZCwgc2l6ZSkge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgdGV4dHVyZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRVdnMgPSBmdW5jdGlvbiAodmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaXplKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRzWyhzdGFydCArIGluZGV4KSAqIDJdO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0c1soKHN0YXJ0ICsgaW5kZXgpICogMikgKyAxXTtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnggPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gZnJhbWUud2lkdGgsIHkgLyBmcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdXZzIGFycmF5IGFjY29yZGluZyB0byBwb3NpdGlvbiBvZiB0ZXh0dXJlIHJlZ2lvblxuICAgICAqIERvZXMgbm90IHdvcmsgd2l0aCByb3RhdGVkIG9yIHRyaW1tZWQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSByZWdpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBzdGFydGluZyBpbmRleCBmb3IgdXZzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRqdXN0VXZzID0gZnVuY3Rpb24gKHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGVwcyA9IDFlLTY7XG4gICAgICAgIHZhciBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHZhciBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydCArIDI7IGkgPCBmaW5pc2g7IGkgKz0gMikge1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIE1hdGguZmxvb3IodXZzW2ldICsgZXBzKSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgTWF0aC5mbG9vcih1dnNbaSArIDFdICsgZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WCAtPSBtaW5YO1xuICAgICAgICBvZmZzZXRZIC09IG1pblk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICAgICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAgICAgKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICogQGRlZmF1bHQgMTAwXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gR3JhcGhpY3NHZW9tZXRyeTtcbn0oQmF0Y2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWxsU3R5bGVcbiAqL1xudmFyIExpbmVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZVN0eWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXRlciwgMCA9IGlubmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgY2FwIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxJTkVfQ0FQfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfQ0FQLkJVVFRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhcCA9IExJTkVfQ0FQLkJVVFQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIGpvaW4gc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9KT0lOfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfSk9JTi5NSVRFUlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuam9pbiA9IExJTkVfSk9JTi5NSVRFUjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pdGVyIGxpbWl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXRlckxpbWl0ID0gMTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICAgICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgICAgICBvYmouam9pbiA9IHRoaXMuam9pbjtcbiAgICAgICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBsaW5lIHN0eWxlIGNvbG9yXG4gICAgICAgIHRoaXMuY29sb3IgPSAweDA7XG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5lU3R5bGU7XG59KEZpbGxTdHlsZSkpO1xuXG52YXIgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vLyBhIGRlZmF1bHQgc2hhZGVycyBtYXAgdXNlZCBieSBncmFwaGljcy4uXG52YXIgREVGQVVMVF9TSEFERVJTID0ge307XG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBOb3RlIHRoYXQgYmVjYXVzZSBHcmFwaGljcyBjYW4gc2hhcmUgYSBHcmFwaGljc0dlb21ldHJ5IHdpdGggb3RoZXIgaW5zdGFuY2VzLFxuICogaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYGRlc3Ryb3koKWAgdG8gcHJvcGVybHkgZGVyZWZlcmVuY2UgdGhlIHVuZGVybHlpbmdcbiAqIEdyYXBoaWNzR2VvbWV0cnkgYW5kIGF2b2lkIGEgbWVtb3J5IGxlYWsuIEFsdGVybmF0aXZlbHksIGtlZXAgdXNpbmcgdGhlIHNhbWVcbiAqIEdyYXBoaWNzIGluc3RhbmNlIGFuZCBjYWxsIGBjbGVhcigpYCBiZXR3ZWVuIHJlZHJhd3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljcywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gW2dlb21ldHJ5PW51bGxdIC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkXG4gICAgICogICAgICAgIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKGdlb21ldHJ5ID09PSB2b2lkIDApIHsgZ2VvbWV0cnkgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHNoYXBlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbnMgb2YgYmF0Y2hlcyEgVGhlc2UgY2FuIGJlIGRyYXduIGJ5IHRoZSByZW5kZXJlciBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIHRpbnRzIGZvciBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvcHkgb2YgdGhlIG9iamVjdCB2ZXJ0ZXggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZ2VvbWV0cnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0dlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IG9ubHkgdGhlIGdlb21ldHJ5IG9mIHRoZSBvYmplY3QgaXMgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljcyh0aGlzLl9nZW9tZXRyeSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwibGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBQSVhJLkdyYXBoaWNzI2xpbmVTdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gTGluZSBzdHlsZSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfQ0FQfVtvcHRpb25zLmNhcD1QSVhJLkxJTkVfQ0FQLkJVVFRdIC0gbGluZSBjYXAgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9KT0lOfVtvcHRpb25zLmpvaW49UElYSS5MSU5FX0pPSU4uTUlURVJdIC0gbGluZSBqb2luIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubWl0ZXJMaW1pdD0xMF0gLSBtaXRlciBsaW1pdCByYXRpb1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgICAgICAvLyBTdXBwb3J0IG5vbi1vYmplY3QgcGFyYW1zOiAod2lkdGgsIGNvbG9yLCBhbHBoYSwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBhcmdzWzBdIHx8IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IGFyZ3NbMV0gfHwgMHgwLFxuICAgICAgICAgICAgICAgIGFscGhhOiBhcmdzWzJdICE9PSB1bmRlZmluZWQgPyBhcmdzWzJdIDogMSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IGFyZ3NbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3NbM10gOiAwLjUsXG4gICAgICAgICAgICAgICAgbmF0aXZlOiAhIWFyZ3NbNF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVUZXh0dXJlU3R5bGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaWtlIGxpbmUgc3R5bGUgYnV0IHN1cHBvcnQgdGV4dHVyZSBmb3IgbGluZSBmaWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBmb3Igc2V0dGluZyBsaW5lIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlLlxuICAgICAqICBEZWZhdWx0IDB4RkZGRkZGIGlmIHRleHR1cmUgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9DQVB9W29wdGlvbnMuY2FwPVBJWEkuTElORV9DQVAuQlVUVF0gLSBsaW5lIGNhcCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0pPSU59W29wdGlvbnMuam9pbj1QSVhJLkxJTkVfSk9JTi5NSVRFUl0gLSBsaW5lIGpvaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn1bb3B0aW9ucy5taXRlckxpbWl0PTEwXSAtIG1pdGVyIGxpbWl0IHJhdGlvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHdpZHRoLCB0ZXh0dXJlLFxuICAgICAgICAvLyBjb2xvciwgYWxwaGEsIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjbGluZVRleHR1cmVTdHlsZScpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgX2EgPSBhcmd1bWVudHMsIHdpZHRoID0gX2FbMF0sIHRleHR1cmUgPSBfYVsxXSwgY29sb3IgPSBfYVsyXSwgYWxwaGEgPSBfYVszXSwgbWF0cml4ID0gX2FbNF0sIGFsaWdubWVudCA9IF9hWzVdLCBuYXRpdmUgPSBfYVs2XTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiB3aWR0aCwgdGV4dHVyZTogdGV4dHVyZSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEsIG1hdHJpeDogbWF0cml4LCBhbGlnbm1lbnQ6IGFsaWdubWVudCwgbmF0aXZlOiBuYXRpdmUgfTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlKSA/IDB4RkZGRkZGIDogMHgwLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgICAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBjYXA6IExJTkVfQ0FQLkJVVFQsXG4gICAgICAgICAgICBqb2luOiBMSU5FX0pPSU4uTUlURVIsXG4gICAgICAgICAgICBtaXRlckxpbWl0OiAxMCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG4gICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2xpbmVTdHlsZSwgeyB2aXNpYmxlOiB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmZpbmlzaFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5faW5pdEN1cnZlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgdmFyIHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGN4ID0gcmVzdWx0LmN4LCBjeSA9IHJlc3VsdC5jeSwgcmFkaXVzXzEgPSByZXN1bHQucmFkaXVzLCBzdGFydEFuZ2xlID0gcmVzdWx0LnN0YXJ0QW5nbGUsIGVuZEFuZ2xlID0gcmVzdWx0LmVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlID0gcmVzdWx0LmFudGljbG9ja3dpc2U7XG4gICAgICAgICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1c18xLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiAoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgIGlmIChhbnRpY2xvY2t3aXNlID09PSB2b2lkIDApIHsgYW50aWNsb2Nrd2lzZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBlcHMgPSB0aGlzLl9nZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG4gICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgYSBiZXR0ZXIgZml4LlxuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcykgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIChjb2xvciwgYWxwaGEpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT2JqZWN0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW29wdGlvbnMudGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4ZmZmZmZmXSAtIEJhY2tncm91bmQgdG8gZmlsbCBiZWhpbmQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIEFscGhhIG9mIGZpbGxcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpblRleHR1cmVGaWxsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHRleHR1cmUsIGNvbG9yLCBhbHBoYSwgbWF0cml4KVxuICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjYmVnaW5UZXh0dXJlRmlsbCcpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgX2EgPSBhcmd1bWVudHMsIHRleHR1cmUgPSBfYVswXSwgY29sb3IgPSBfYVsxXSwgYWxwaGEgPSBfYVsyXSwgbWF0cml4ID0gX2FbM107XG4gICAgICAgICAgICBvcHRpb25zID0geyB0ZXh0dXJlOiB0ZXh0dXJlLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgbWF0cml4OiBtYXRyaXggfTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlzaWJsZSA9IG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHJlY3RhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwYXRoID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXRoW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzO1xuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOyAvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHBvbHkgPSBwYXRoWzBdO1xuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9seS5wb2ludHMpIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGF0aFswXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGhbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShzaGFwZSwgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1N0YXIgPSBmdW5jdGlvbiAoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24obmV3IFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiBkYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgICAgICAmJiAhKGRhdGFbMF0ubGluZVN0eWxlLnZpc2libGUgJiYgZGF0YVswXS5saW5lU3R5bGUud2lkdGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBoYXN1aXQzMiA9IHJlbmRlcmVyLmNvbnRleHQuc3VwcG9ydHMudWludDMySW5kaWNlcztcbiAgICAgICAgLy8gYmF0Y2ggcGFydC4uXG4gICAgICAgIC8vIGJhdGNoIGl0IVxuICAgICAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKGhhc3VpdDMyKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5LmJhdGNoYWJsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYmF0Y2hEaXJ0eSAhPT0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVsYXRlQmF0Y2hlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyQmF0Y2hlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBiYXRjaGluZy4uLlxuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRpcmVjdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgYmF0Y2hlcyBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9wb3B1bGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB2YXIgYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG4gICAgICAgIHZhciBsZW4gPSBnZW9tZXRyeS5iYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eTtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IGxlbjtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5wb2ludHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ0kgPSBnZW9tZXRyeS5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gZ0kuc3R5bGUuY29sb3I7XG4gICAgICAgICAgICB2YXIgdmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0ZXhEYXRhLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgICAgICAgdmFyIHV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzRmxvYXQzMi5idWZmZXIsIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsIGdJLmF0dHJpYlNpemUgKiAyKTtcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGdlb21ldHJ5LmluZGljZXNVaW50MTYuYnVmZmVyLCBnSS5zdGFydCAqIDIsIGdJLnNpemUpO1xuICAgICAgICAgICAgdmFyIGJhdGNoID0ge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGE6IHZlcnRleERhdGEsXG4gICAgICAgICAgICAgICAgYmxlbmRNb2RlOiBibGVuZE1vZGUsXG4gICAgICAgICAgICAgICAgaW5kaWNlczogaW5kaWNlcyxcbiAgICAgICAgICAgICAgICB1dnM6IHV2cyxcbiAgICAgICAgICAgICAgICBfYmF0Y2hSR0I6IGhleDJyZ2IoY29sb3IpLFxuICAgICAgICAgICAgICAgIF90aW50UkdCOiBjb2xvcixcbiAgICAgICAgICAgICAgICBfdGV4dHVyZTogZ0kuc3R5bGUudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBhbHBoYTogZ0kuc3R5bGUuYWxwaGEsXG4gICAgICAgICAgICAgICAgd29ybGRBbHBoYTogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBiYXRjaGVzIHVzaW5nIHRoZSBCYXRoZWRSZW5kZXJlciBwbHVnaW5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJCYXRjaGVkID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5iYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVUaW50cygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGJhdGNoLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBiYXRjaC5hbHBoYTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIoYmF0Y2gpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBncmFwaGljcyBkaXJlY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEaXJlY3QgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXIpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIHZhciB3b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBzaGFkZXIudW5pZm9ybXM7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSBnZW9tZXRyeS5kcmF3Q2FsbHM7XG4gICAgICAgIC8vIGxldHMgc2V0IHRoZSB0cmFuc2ZvbXJcbiAgICAgICAgdW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgLy8gYW5kIHRoZW4gbGV0cyBzZXQgdGhlIHRpbnQuLlxuICAgICAgICB1bmlmb3Jtcy50aW50WzBdID0gKCgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzFdID0gKCgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMl0gPSAoKHRpbnQgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzNdID0gd29ybGRBbHBoYTtcbiAgICAgICAgLy8gdGhlIGZpcnN0IGRyYXcgY2FsbCwgd2UgY2FuIHNldCB0aGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBkaXJlY3RseSBoZXJlLlxuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgd2UgY2FuIHRhY2sgYWR2YW50YWdlIG9mIHRoZSBzeW5jIGZ1bmN0aW9uIG9mIHBpeGkhXG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICAvLyB0aGVyZSBpcyBhIHdheSB0byBvcHRpbWlzZSB0aGlzLi5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgc2hhZGVyKTtcbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICAvLyB0aGVuIHJlbmRlciB0aGUgcmVzdCBvZiB0aGVtLi4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZHJhd0NhbGxzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd0NhbGxEaXJlY3QocmVuZGVyZXIsIGdlb21ldHJ5LmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgc3BlY2lmaWMgRHJhd0NhbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hEcmF3Q2FsbH0gZHJhd0NhbGxcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckRyYXdDYWxsRGlyZWN0ID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBkcmF3Q2FsbCkge1xuICAgICAgICB2YXIgdGV4QXJyYXkgPSBkcmF3Q2FsbC50ZXhBcnJheSwgdHlwZSA9IGRyYXdDYWxsLnR5cGUsIHNpemUgPSBkcmF3Q2FsbC5zaXplLCBzdGFydCA9IGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICB2YXIgZ3JvdXBUZXh0dXJlQ291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIGopO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodHlwZSwgc2l6ZSwgc3RhcnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgc2hhZGVyIGZvciBkaXJlY3QgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVzb2x2ZURpcmVjdFNoYWRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIHZhciBwbHVnaW5OYW1lID0gdGhpcy5wbHVnaW5OYW1lO1xuICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gc2hhZGVyIGhlcmUsIHdlIGNhbiB1c2UgdGhlIGRlZmF1bHQgc2hhZGVyLlxuICAgICAgICAgICAgLy8gYW5kIHRoYXQgb25seSBnZXRzIGNyZWF0ZWQgaWYgd2UgYWN0dWFsbHkgbmVlZCBpdC4uXG4gICAgICAgICAgICAvLyBidXQgbWF5IGJlIG1vcmUgdGhhbiBvbmUgcGx1Z2lucyBmb3IgZ3JhcGhpY3NcbiAgICAgICAgICAgIGlmICghREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KDE2KTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0uX3NoYWRlci5wcm9ncmFtO1xuICAgICAgICAgICAgICAgIERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSA9IG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hhZGVyID0gREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICAvLyBza2lwcGluZyB3aGVuIGdyYXBoaWNzIGlzIGVtcHR5LCBsaWtlIGEgY29udGFpbmVyXG4gICAgICAgIGlmICghZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGdlb21ldHJ5LmJvdW5kcywgbWluWCA9IF9hLm1pblgsIG1pblkgPSBfYS5taW5ZLCBtYXhYID0gX2EubWF4WCwgbWF4WSA9IF9hLm1heFk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmNvbnRhaW5zUG9pbnQoR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWF0ZSB0aGUgdGludCBieSBhcHBseWluZyB0aW4gdG8gYmF0Y2hlcyB1c2luZyBHcmFwaGljcyB0aW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVGludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHZhciB0aW50UkdCID0gaGV4MnJnYih0aGlzLnRpbnQsIHRlbXApO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIEl2YW4sIGNhbiB0aGlzIGJlIGRvbmUgaW4gb25lIGdvP1xuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IChyIDw8IDE2KSArIChnIDw8IDgpICsgKGIgfCAwKTtcbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IgJiAweGZmMDApXG4gICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBhIHRyYW5zZm9ybSB1cGRhdGUgb3IgYSBjaGFuZ2UgdG8gdGhlIHNoYXBlIG9mIHRoZVxuICAgICAqIGdlb21ldHJ5LCByZWNhY3VsYXRlIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd3RJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHd0SUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHd0SUQ7XG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9nZW9tZXRyeS5wb2ludHM7IC8vIGJhdGNoLnZlcnRleERhdGFPcmlnaW5hbDtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoYSAqIHgpICsgKGMgKiB5KSArIHR4O1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChkICogeSkgKyAoYiAqIHgpICsgdHk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcbiAgICAgICAgaWYgKGN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGFkZCBleHRyYSBwb2ludCBpbiB0aGUgZW5kIGJlY2F1c2UgYnVpbGRMaW5lIHdpbGwgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgbWF0cml4IHRvIHRoZSBwb3NpdGlvbmFsIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBNYXRyaXggdG8gdXNlIGZvciB0cmFuc2Zvcm0gY3VycmVudCBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW4gYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBJTVBPUlRBTlQ6IGhvbGVzIG11c3QgYmUgZnVsbHkgaW5zaWRlIGEgc2hhcGUgdG8gd29ya1xuICAgICAqIEFsc28gd2VpcmRuZXNzIGVuc3VlcyBpZiBob2xlcyBvdmVybGFwIVxuICAgICAqIEVsbGlwc2VzLCBDaXJjbGVzLCBSZWN0YW5nbGVzIGFuZCBSb3VuZGVkIFJlY3RhbmdsZXMgY2Fubm90IGJlIGhvbGVzIG9yIGhvc3QgZm9yIGhvbGVzIGluIENhbnZhc1JlbmRlcmVyLFxuICAgICAqIHBsZWFzZSB1c2UgYG1vdmVUb2AgYGxpbmVUb2AsIGBxdWFkcmF0aWNDdXJ2ZVRvYCBpZiB5b3UgcmVseSBvbiBwaXhpLWxlZ2FjeSBidW5kbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luSG9sZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmQgYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kSG9sZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZW1wb3JhcnkgcG9pbnQgdG8gdXNlIGZvciBjb250YWluc1BvaW50XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIEdyYXBoaWNzLl9URU1QX1BPSU5UID0gbmV3IFBvaW50KCk7XG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShDb250YWluZXIpKTtcblxuZXhwb3J0IHsgRmlsbFN0eWxlLCBHUkFQSElDU19DVVJWRVMsIEdyYXBoaWNzLCBHcmFwaGljc0RhdGEsIEdyYXBoaWNzR2VvbWV0cnksIExJTkVfQ0FQLCBMSU5FX0pPSU4sIExpbmVTdHlsZSwgaW5kZXggYXMgZ3JhcGhpY3NVdGlscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhcGhpY3MuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZSAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50LCBPYnNlcnZhYmxlUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNwcml0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMsICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSwgKHRleHR1cmUgPyB0ZXh0dXJlLmRlZmF1bHRBbmNob3IueSA6IDApKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIFJHQiB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTY3NzcyMTVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgdGludCB2YWx1ZSBzbyB3ZSBjYW4gdGVsbCB3aGVuIHRoZSB0aW50IGlzIGNoYW5nZWQuXG4gICAgICAgICAqIFZhbHVlIGlzIHVzZWQgZm9yIDJkIENhbnZhc1JlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHV2cyBkYXRhIG9mIHRoZSBzcHJpdGUsIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICogYXMgdGhlIHZlcnRleERhdGEgaW4gY2FsY3VsYXRlVmVydGljZXMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHZlcnRleCBkYXRhIG9mIHRoZSBzcHJpdGUgKGJhc2ljYWxseSBhIHF1YWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSB0ZXh0dXJlIFVWIGhlcmUsIGJlY2F1c2UgYmFzZSB0ZXh0dXJlIGNhbiBiZSBjaGFuZ2VkIHdpdGhvdXQgY2FsbGluZyBgX29uVGV4dHVyZVVwZGF0ZWBcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoYW5jaG9yLl95ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyIHRvIHVzZS5cbiAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAgICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUuYW5jaG9yLnNldCgwLjUpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBvcmlnaW4gdG8gY2VudGVyLiAoMC41KSBpcyBzYW1lIGFzICgwLjUsIDAuNSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3ByaXRlO1xufShDb250YWluZXIpKTtcblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvdGV4dCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgaGV4MnN0cmluZywgaGV4MnJnYiwgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQ7XG4oZnVuY3Rpb24gKFRFWFRfR1JBRElFTlQpIHtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfVkVSVElDQUxcIl0gPSAwXSA9IFwiTElORUFSX1ZFUlRJQ0FMXCI7XG4gICAgVEVYVF9HUkFESUVOVFtURVhUX0dSQURJRU5UW1wiTElORUFSX0hPUklaT05UQUxcIl0gPSAxXSA9IFwiTElORUFSX0hPUklaT05UQUxcIjtcbn0pKFRFWFRfR1JBRElFTlQgfHwgKFRFWFRfR1JBRElFTlQgPSB7fSkpO1xuXG4vLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xudmFyIGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gICAgJ3NlcmlmJyxcbiAgICAnc2Fucy1zZXJpZicsXG4gICAgJ21vbm9zcGFjZScsXG4gICAgJ2N1cnNpdmUnLFxuICAgICdmYW50YXN5JyxcbiAgICAnc3lzdGVtLXVpJyBdO1xuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gdG8gZGVjb3JhdGUgYSBUZXh0IG9iamVjdHMuXG4gKlxuICogQW4gaW5zdGFuY2UgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIFRleHQgb2JqZWN0czsgdGhlbiBjaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBBIHRvb2wgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYSB0ZXh0IHN0eWxlIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHRTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5icmVha1dvcmRzPWZhbHNlXSAtIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0XG4gICAgICogIG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuZHJvcFNoYWRvdz1mYWxzZV0gLSBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbHBoYT0xXSAtIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QW5nbGU9TWF0aC5QSS82XSAtIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0JsdXI9MF0gLSBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Q29sb3I9J2JsYWNrJ10gLSBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlPTVdIC0gU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59IFtzdHlsZS5maWxsPSdibGFjayddIC0gQSBjYW52YXNcbiAgICAgKiAgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnRcbiAgICAgKiAgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZpbGxHcmFkaWVudFR5cGU9UElYSS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTF0gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnNcbiAgICAgKiAgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbc3R5bGUuZmlsbEdyYWRpZW50U3RvcHNdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXRcbiAgICAgKiB0aGUgc3RvcCBwb2ludHMgKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbc3R5bGUuZm9udEZhbWlseT0nQXJpYWwnXSAtIFRoZSBmb250IGZhbWlseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3N0eWxlLmZvbnRTaXplPTI2XSAtIFRoZSBmb250IHNpemUgKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsXG4gICAgICogIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFN0eWxlPSdub3JtYWwnXSAtIFRoZSBmb250IHN0eWxlICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFZhcmlhbnQ9J25vcm1hbCddIC0gVGhlIGZvbnQgdmFyaWFudCAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJ10gLSBUaGUgZm9udCB3ZWlnaHQgKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLFxuICAgICAqICAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCAnODAwJyBvciAnOTAwJylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxlYWRpbmc9MF0gLSBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGV0dGVyU3BhY2luZz0wXSAtIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGluZUhlaWdodF0gLSBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5saW5lSm9pbj0nbWl0ZXInXSAtIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZVxuICAgICAqICAgICAgc3Bpa2VkIHRleHQgaXNzdWVzLiBQb3NzaWJsZSB2YWx1ZXMgXCJtaXRlclwiIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKSwgXCJyb3VuZFwiIChjcmVhdGVzIGEgcm91bmQgY29ybmVyKSBvciBcImJldmVsXCJcbiAgICAgKiAgICAgIChjcmVhdGVzIGEgc3F1YXJlZCBjb3JuZXIpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWl0ZXJMaW1pdD0xMF0gLSBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZS4gVGhpcyBjYW4gcmVkdWNlXG4gICAgICogICAgICBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5wYWRkaW5nPTBdIC0gT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbVxuICAgICAqICAgICBoYXBwZW5pbmcgYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLnN0cm9rZT0nYmxhY2snXSAtIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgKiAgZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5zdHJva2VUaGlja25lc3M9MF0gLSBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAqICBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS50cmltPWZhbHNlXSAtIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUudGV4dEJhc2VsaW5lPSdhbHBoYWJldGljJ10gLSBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLndoaXRlU3BhY2U9J3ByZSddIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIG5ld2xpbmVzICYgc3BhY2VzIGFyZSBjb2xsYXBzZWQgb3IgcHJlc2VydmVkIFwibm9ybWFsXCJcbiAgICAgKiAgICAgIChjb2xsYXBzZSwgY29sbGFwc2UpLCBcInByZVwiIChwcmVzZXJ2ZSwgcHJlc2VydmUpIHwgXCJwcmUtbGluZVwiIChwcmVzZXJ2ZSwgY29sbGFwc2UpLiBJdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZUlEID0gMDtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKGNsb25lZFByb3BlcnRpZXMsIHRoaXMsIGRlZmF1bHRTdHlsZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYWxpZ24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gYWxpZ24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiYnJlYWtXb3Jkc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSBkcm9wU2hhZG93O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0FscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93QW5nbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93Qmx1clwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93Q29sb3IpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0Rpc3RhbmNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuXG4gICAgICAgICAqIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudCBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbCkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICAvLyBUT0RPOiBOb3Qgc3VyZSBpZiBnZXRDb2xvciB3b3JrcyBwcm9wZXJseSB3aXRoIENhbnZhc0dyYWRpZW50IGFuZC9vciBDYW52YXNQYXR0ZXJuLCBjYW4ndCBwYXNzIGluXG4gICAgICAgICAgICAvLyAgICAgICB3aXRob3V0IGNhc3RpbmcgaGVyZS5cbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbEdyYWRpZW50VHlwZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgIT09IGZpbGxHcmFkaWVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRUeXBlID0gZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxHcmFkaWVudFN0b3BzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAgICAgKiAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGxHcmFkaWVudFN0b3BzKSB7XG4gICAgICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLCBmaWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udEZhbWlseVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBmYW1pbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udEZhbWlseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc2l6ZVxuICAgICAgICAgKiAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFNpemUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gZm9udFNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFN0eWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHN0eWxlXG4gICAgICAgICAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRTdHlsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFZhcmlhbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFdlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgICAgICogKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFdlaWdodCAhPT0gZm9udFdlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGV0dGVyU3BhY2luZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IGxldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxpbmVIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGVhZGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZWFkaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGVhZGluZyAhPT0gbGVhZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUpvaW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAgICAgICAgICogRGVmYXVsdCBpcyAnbWl0ZXInIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbmVKb2luKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUpvaW4gIT09IGxpbmVKb2luKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIm1pdGVyTGltaXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGVcbiAgICAgICAgICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInBhZGRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAgICAgICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwYWRkaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwic3Ryb2tlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgICAgICogZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0cm9rZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInN0cm9rZVRoaWNrbmVzc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2VUaGlja25lc3MgIT09IHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInRleHRCYXNlbGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInRyaW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmltO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0cmltKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid2hpdGVTcGFjZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICAgICAgICogRGVmYXVsdCBpcyAncHJlJyAocHJlc2VydmUsIHByZXNlcnZlKS5cbiAgICAgICAgICpcbiAgICAgICAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAgICAgICAqICAtLS0gICAgICAgICB8IC0tLSAgICAgICAgICAgfCAgIC0tLVxuICAgICAgICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgICAgICAgKiAncHJlLWxpbmUnICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3doaXRlU3BhY2UgPSB3aGl0ZVNwYWNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndvcmRXcmFwV2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyB0aGlzLmZvbnRTaXplICsgXCJweFwiIDogdGhpcy5mb250U2l6ZTtcbiAgICAgICAgLy8gQ2xlYW4tdXAgZm9udEZhbWlseSBwcm9wZXJ0eSBieSBxdW90aW5nIGVhY2ggZm9udCBuYW1lXG4gICAgICAgIC8vIHRoaXMgd2lsbCBzdXBwb3J0IGZvbnQgbmFtZXMgd2l0aCBzcGFjZXNcbiAgICAgICAgdmFyIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICAgICAgaWYgKCEoLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvKS50ZXN0KGZvbnRGYW1pbHkpICYmIGdlbmVyaWNGb250RmFtaWxpZXMuaW5kZXhPZihmb250RmFtaWx5KSA8IDApIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5ID0gXCJcXFwiXCIgKyBmb250RmFtaWx5ICsgXCJcXFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTdHlsZSArIFwiIFwiICsgdGhpcy5mb250VmFyaWFudCArIFwiIFwiICsgdGhpcy5mb250V2VpZ2h0ICsgXCIgXCIgKyBmb250U2l6ZVN0cmluZyArIFwiIFwiICsgZm9udEZhbWlsaWVzLmpvaW4oJywnKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0U3R5bGU7XG59KCkpO1xuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiBnZXRTaW5nbGVDb2xvcihjb2xvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIC0gRmlyc3QgYXJyYXkgdG8gY29tcGFyZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkyIC0gU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkxKSB8fCAhQXJyYXkuaXNBcnJheShhcnJheTIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIC0gU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BlcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIC0gT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcF0pKSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0uc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgbGluZXMgb2YgdGhlIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaXMgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklGb250TWV0cmljc31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZVRleHQgPSBmdW5jdGlvbiAodGV4dCwgc3R5bGUsIHdvcmRXcmFwLCBjYW52YXMpIHtcbiAgICAgICAgaWYgKGNhbnZhcyA9PT0gdm9pZCAwKSB7IGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7IH1cbiAgICAgICAgd29yZFdyYXAgPSAod29yZFdyYXAgPT09IHVuZGVmaW5lZCB8fCB3b3JkV3JhcCA9PT0gbnVsbCkgPyBzdHlsZS53b3JkV3JhcCA6IHdvcmRXcmFwO1xuICAgICAgICB2YXIgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICAgICAgLy8gZmFsbGJhY2sgaW4gY2FzZSBVQSBkaXNhbGxvdyBjYW52YXMgZGF0YSBleHRyYWN0aW9uXG4gICAgICAgIC8vICh0b0RhdGFVUkksIGdldEltYWdlRGF0YSBmdW5jdGlvbnMpXG4gICAgICAgIGlmIChmb250UHJvcGVydGllcy5mb250U2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG91dHB1dFRleHQuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgbmV3bGluZXMgdG8gYSBzdHJpbmcgdG8gaGF2ZSBpdCBvcHRpbWFsbHkgZml0IGludG8gdGhlIGhvcml6b250YWxcbiAgICAgKiBib3VuZHMgc2V0IGJ5IHRoZSBUZXh0IG9iamVjdCdzIHdvcmRXcmFwV2lkdGggcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gU3RyaW5nIHRvIGFwcGx5IHdvcmQgd3JhcHBpbmcgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiAodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICB2YXIgbGluZXMgPSAnJztcbiAgICAgICAgdmFyIGNhY2hlID0ge307XG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZywgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG4gICAgICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICAgICAgdmFyIGNvbGxhcHNlU3BhY2VzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIHZhciBjb2xsYXBzZU5ld2xpbmVzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgIHZhciBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAvLyBUaGVyZSBpcyBsZXR0ZXJTcGFjaW5nIGFmdGVyIGV2ZXJ5IGNoYXIgZXhjZXB0IHRoZSBsYXN0IG9uZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIVxuICAgICAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIV9cbiAgICAgICAgLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gICAgICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgICAgIHZhciB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgICAgIHZhciB0b2tlbnMgPSBUZXh0TWV0cmljcy50b2tlbml6ZSh0ZXh0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgd29yZCwgc3BhY2Ugb3IgbmV3bGluZUNoYXJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIC8vIGlmIHdvcmQgaXMgYSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICghY29sbGFwc2VOZXdsaW5lcykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBuZXcgbGluZXNcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaW1wbHkgY29udmVydCBpdCBpbnRvIGEgc3BhY2VcbiAgICAgICAgICAgICAgICB0b2tlbiA9ICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSByZXBlYXRlZCB3aGl0ZXNwYWNlc1xuICAgICAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYm90aCB0aGlzIGFuZCB0aGUgbGFzdCB0b2tlbnMgZm9yIHNwYWNlc1xuICAgICAgICAgICAgICAgIHZhciBjdXJySXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgdmFyIHRva2VuV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUodG9rZW4sIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgYWxyZWFkeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzKHRva2VuLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBicmVhayB3b3JkIGludG8gY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVycyA9IFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDaGFyID0gY2hhcltjaGFyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tYmluZSBjaGFycyAmIG1vdmUgZm9yd2FyZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IGNoYXIubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcnVuIHdvcmQgb3V0IG9mIHRoZSBib3VuZHNcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGF0IGxpbmUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBnaXZlIGl0IGl0cyBvd24gbGluZSBpZiBpdCdzIG5vdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd29yZCBjb3VsZCBmaXRcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGFkZCBzcGFjZXMgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHdvcmQgdG8gdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lICs9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgd2lkdGggY291bnRlclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwXG4gICAgICogbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgICAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIG5ld0xpbmUgICAgIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuYWRkTGluZSA9IGZ1bmN0aW9uIChsaW5lLCBuZXdMaW5lKSB7XG4gICAgICAgIGlmIChuZXdMaW5lID09PSB2b2lkIDApIHsgbmV3TGluZSA9IHRydWU7IH1cbiAgICAgICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcbiAgICAgICAgbGluZSA9IChuZXdMaW5lKSA/IGxpbmUgKyBcIlxcblwiIDogbGluZTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICBrZXkgICAgICAgICAgICAtIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICAtIFRoZSBsZXR0ZXIgc3BhY2luZ1xuICAgICAqIEBwYXJhbSAge29iamVjdH0gICAgICAgICAgICAgICAgICAgIGNhY2hlICAgICAgICAgIC0gVGhlIGNhY2hlXG4gICAgICogQHBhcmFtICB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgY29udGV4dCAgICAgICAgLSBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoa2V5LCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSAoKGtleS5sZW5ndGgpICogbGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoa2V5KS53aWR0aCArIHNwYWNpbmc7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgLSBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMgPSBmdW5jdGlvbiAod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIHdoaXRlIHNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMgPSBmdW5jdGlvbiAod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgLSBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gIHRyaW1tZWQgc3RyaW5nXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MudHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG4gICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiBuZXdsaW5lLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX25ld2xpbmVzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIGJyZWFraW5nIHdoaXRlc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgd2hpdGVzcGFjZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICB2YXIgdG9rZW4gPSAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIChfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgICAgICAgIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICAgIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4ICAgICAgIC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIChfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICAgKiBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIHBvaW50IHRvIGJyZWFrIGEgd29yZC5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDb3JyZWN0bHkgc3BsaXRzIGVtb2ppcywgZWcgXCLwn6Sq8J+kqlwiIHdpbGwgcmVzdWx0IGluIHR3byBlbGVtZW50IGFycmF5LCBlYWNoIHdpdGggb25lIGVtb2ppLlxuICAgICAqIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSAodG9rZW4pID0+IFsuLi50b2tlbl07XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5zcGxpdCgnJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFzY2VudDogMCxcbiAgICAgICAgICAgIGRlc2NlbnQ6IDAsXG4gICAgICAgICAgICBmb250U2l6ZTogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuICAgICAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgc3RvcCA9IGZhbHNlO1xuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuICAgICAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2xlYXJNZXRyaWNzID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgaWYgKGZvbnQgPT09IHZvaWQgMCkgeyBmb250ID0gJyc7IH1cbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHRNZXRyaWNzO1xufSgpKTtcbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBUaGUgYXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIFRoZSBkZXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemUgZnJvbSBhc2NlbnQgdG8gZGVzY2VudFxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBjYW52YXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIE9mZnNjcmVlbkNhbnZhczJEIG1lYXN1cmVUZXh0IGNhbiBiZSB1cCB0byA0MCUgZmFzdGVyLlxuICAgICAgICB2YXIgYyA9IG5ldyBPZmZzY3JlZW5DYW52YXMoMCwgMCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm1lYXN1cmVUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxuICAgIGNhdGNoIChleCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxufSkoKTtcbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuLyoqXG4gKiBDYWNoZSBvZiB7QHNlZSBQSVhJLlRleHRNZXRyaWNzLkZvbnRNZXRyaWNzfSBvYmplY3RzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgTUVUUklDU19TVFJJTkdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCB8w4lxw4VcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJccOFJztcbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDEuNFxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuLyoqXG4gKiBDYWNoZSBvZiBuZXcgbGluZSBjaGFycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAgIDB4MDAwQSxcbiAgICAweDAwMEQgXTtcbi8qKlxuICogQ2FjaGUgb2YgYnJlYWtpbmcgc3BhY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gICAgMHgwMDA5LFxuICAgIDB4MDAyMCxcbiAgICAweDIwMDAsXG4gICAgMHgyMDAxLFxuICAgIDB4MjAwMixcbiAgICAweDIwMDMsXG4gICAgMHgyMDA0LFxuICAgIDB4MjAwNSxcbiAgICAweDIwMDYsXG4gICAgMHgyMDA4LFxuICAgIDB4MjAwOSxcbiAgICAweDIwMEEsXG4gICAgMHgyMDVGLFxuICAgIDB4MzAwMCBdO1xuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gRm9udCBhc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gRm9udCBkZXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemVcbiAqL1xuXG52YXIgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICAgIHRleHR1cmU6IHRydWUsXG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxufTtcbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC5cbiAqXG4gKiBUaGUgdGV4dCBpcyBjcmVhdGVkIHVzaW5nIHRoZSBbQ2FudmFzIEFQSV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkpLlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgQml0bWFwVGV4dCBpcyB0aGF0IHlvdSBoYXZlIGdyZWF0IGNvbnRyb2wgb3ZlciB0aGUgc3R5bGUgb2YgdGhlIG5leHQsXG4gKiB3aGljaCB5b3UgY2FuIGNoYW5nZSBhdCBydW50aW1lLlxuICpcbiAqIFRoZSBwcmltYXJ5IGRpc2FkdmFudGFnZXMgaXMgdGhhdCBlYWNoIHBpZWNlIG9mIHRleHQgaGFzIGl0J3Mgb3duIHRleHR1cmUsIHdoaWNoIGNhbiB1c2UgbW9yZSBtZW1vcnkuXG4gKiBXaGVuIHRleHQgY2hhbmdlcywgdGhpcyB0ZXh0dXJlIGhhcyB0byBiZSByZS1nZW5lcmF0ZWQgYW5kIHJlLXVwbG9hZGVkIHRvIHRoZSBHUFUsIHRha2luZyB1cCB0aW1lLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLCBvciwgb24gdGhlIGBzdHlsZWAgb2JqZWN0LFxuICogY2hhbmdlIGl0cyBgd29yZFdyYXBgIHByb3BlcnR5IHRvIHRydWUgYW5kIGFuZCBnaXZlIHRoZSBgd29yZFdyYXBXaWR0aGAgcHJvcGVydHkgYSB2YWx1ZS5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3QsXG4gKiB3aGljaCBjYW4gYmUgZ2VuZXJhdGVkIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ1RoaXMgaXMgYSBQaXhpSlMgdGV4dCcse2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIFRoZSBjYW52YXMgZWxlbWVudCBmb3IgZHJhd2luZyB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dCh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvd25DYW52YXMgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgb3duQ2FudmFzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20oY2FudmFzKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0ZXh0dXJlLnRyaW0gPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgaWYgdGhpcyBUZXh0IG9iamVjdCBjcmVhdGVkIGl0J3Mgb3duIGNhbnZhc1xuICAgICAgICAgKiBlbGVtZW50IChgdHJ1ZWApIG9yIHVzZXMgdGhlIGNvbnN0cnVjdG9yIGFyZ3VtZW50IChgZmFsc2VgKS5cbiAgICAgICAgICogVXNlZCB0byB3b3JrYXJvdW5kIGEgR0MgaXNzdWVzIHdpdGggU2FmYXJpIDwgMTMgd2hlblxuICAgICAgICAgKiBkZXN0cm95aW5nIFRleHQuIFNlZSBgZGVzdHJveWAgZm9yIG1vcmUgaW5mby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9vd25DYW52YXMgPSBvd25DYW52YXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICBfdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnQgPSAnJztcbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIF90aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICAgKiBCeSBkZWZhdWx0IHRoaXMgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIGVuc3VyZSB0aGUgdGV4dHVyZSBpcyBjb3JyZWN0IGJlZm9yZSByZW5kZXJpbmcsXG4gICAgICogYnV0IGl0IGNhbiBiZSB1c2VkIGNhbGxlZCBleHRlcm5hbGx5LCBmb3IgZXhhbXBsZSBmcm9tIHRoaXMgY2xhc3MgdG8gJ3ByZS1nZW5lcmF0ZScgdGhlIHRleHR1cmUgZnJvbSBhIHBpZWNlIG9mIHRleHQsXG4gICAgICogYW5kIHRoZW4gc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiAocmVzcGVjdERpcnR5KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRpcnR5ICYmIHJlc3BlY3REaXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCB3aWR0aCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25YO1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWTtcbiAgICAgICAgLy8gcmVxdWlyZSAyIHBhc3NlcyBpZiBhIHNoYWRvdzsgdGhlIGZpcnN0IHRvIGRyYXcgdGhlIGRyb3Agc2hhZG93LCB0aGUgc2Vjb25kIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgICAgdmFyIHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuICAgICAgICAvLyBGb3IgdjQsIHdlIGRyZXcgdGV4dCBhdCB0aGUgY29sb3VycyBvZiB0aGUgZHJvcCBzaGFkb3cgdW5kZXJuZWF0aCB0aGUgbm9ybWFsIHRleHQuIFRoaXMgZ2F2ZSB0aGUgY29ycmVjdCB6SW5kZXgsXG4gICAgICAgIC8vIGJ1dCBmZWF0dXJlcyBzdWNoIGFzIGFscGhhIGFuZCBzaGFkb3dibHVyIGRpZCBub3QgbG9vayByaWdodCBhdCBhbGwsIHNpbmNlIHdlIHdlcmUgdXNpbmcgYWN0dWFsIHRleHQgYXMgYSBzaGFkb3cuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4wLjAsIHdlIG1vdmVkIG92ZXIgdG8ganVzdCB1c2UgdGhlIGNhbnZhcyBBUEkgZm9yIGRyb3Agc2hhZG93cywgd2hpY2ggbWFkZSB0aGVtIGxvb2sgbXVjaCBuaWNlciBhbmQgbW9yZVxuICAgICAgICAvLyB2aXN1YWxseSBwbGVhc2UsIGJ1dCBub3cgYmVjYXVzZSB0aGUgc3Ryb2tlIGlzIGRyYXduIGFuZCB0aGVuIHRoZSBmaWxsLCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG9uIGJvdGggdGhlIGZpbGxcbiAgICAgICAgLy8gYW5kIHRoZSBzdHJva2U7IGFuZCBmaWxsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb3ZlciB0aGUgdG9wIG9mIHRoZSBzdHJva2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4xLjEsIHRoZSBuZXcgcm91dGUgaXMgdG8gcmV2ZXJ0IHRvIHY0IHN0eWxlIG9mIGRyYXdpbmcgdGV4dCBmaXJzdCB0byBnZXQgdGhlIGRyb3Agc2hhZG93cyB1bmRlcm5lYXRoIG5vcm1hbFxuICAgICAgICAvLyB0ZXh0LCBidXQgaW5zdGVhZCBkcmF3aW5nIHRleHQgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24sIHdlJ2xsIGRyYXcgaXQgb2ZmIHNjcmVlbiAoLXBhZGRpbmdZKSwgYW5kIHRoZW4gYWRqdXN0IHRoZVxuICAgICAgICAvLyBkcm9wIHNoYWRvdyBzbyBvbmx5IHRoYXQgYXBwZWFycyBvbiBzY3JlZW4gKCtwYWRkaW5nWSkuIE5vdyB3ZSdsbCBoYXZlIHRoZSBjb3JyZWN0IGRyYXcgb3JkZXIgb2YgdGhlIHNoYWRvd1xuICAgICAgICAvLyBiZW5lYXRoIHRoZSB0ZXh0LCB3aGlsc3QgYWxzbyBoYXZpbmcgdGhlIHByb3BlciB0ZXh0IHNoYWRvdyBzdHlsaW5nLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpc1NoYWRvd1Bhc3MgPSBzdHlsZS5kcm9wU2hhZG93ICYmIGkgPT09IDA7XG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gaGVpZ2h0ICogMiA6IDA7IC8vIHdlIG9ubHkgd2FudCB0aGUgZHJvcCBzaGFkb3csIHNvIHB1dCB0ZXh0IHdheSBvZmYtc2NyZWVuXG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoaXNTaGFkb3dQYXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gT24gU2FmYXJpLCB0ZXh0IHdpdGggZ3JhZGllbnQgYW5kIGRyb3Agc2hhZG93cyB0b2dldGhlciBkbyBub3QgcG9zaXRpb24gY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNjYWxlIG9mIHRoZSBjYW52YXMgaXMgbm90IDE6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTc2ODlcbiAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2UnbGwgc2V0IHRoZSBzdHlsZXMgdG8gYmUgYSBwbGFpbiBibGFjayB3aGlsc3QgZ2VuZXJhdGluZyB0aGlzIGRyb3Agc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IChNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlKSArIGRzT2Zmc2V0U2hhZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzLCBtZWFzdXJlZCk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAnMCc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgbGluZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGlfMSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpXzFdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRyYXdMZXR0ZXJTcGFjaW5nID0gZnVuY3Rpb24gKHRleHQsIHgsIHksIGlzU3Ryb2tlKSB7XG4gICAgICAgIGlmIChpc1N0cm9rZSA9PT0gdm9pZCAwKSB7IGlzU3Ryb2tlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIC8vIGxldHRlclNwYWNpbmcgb2YgMCBtZWFucyBub3JtYWxcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20gY29ycmVjdGx5IHNwbGl0cyBjaGFyYWN0ZXJzIHdoaWxzdCBrZWVwaW5nIGVtb2ppIHRvZ2V0aGVyLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgYXMgaXQgcmVxdWlyZXMgRVM2LCBzbyByZWd1bGFyIHRleHQgc3BsaXR0aW5nIG9jY3Vycy5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGRvZXNuJ3QgYWNjb3VudCBmb3IgZW1vamkgdGhhdCBhcmUgbXVsdGlwbGUgZW1vamkgcHV0IHRvZ2V0aGVyIHRvIG1ha2Ugc29tZXRoaW5nIGVsc2UuXG4gICAgICAgIC8vIEhhbmRsaW5nIGFsbCBvZiB0aGlzIHdvdWxkIHJlcXVpcmUgYSBiaWcgbGlicmFyeSBpdHNlbGYuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9AZ2lsdGF5YXIvaXRlcmF0aW5nLW92ZXItZW1vamktY2hhcmFjdGVycy10aGUtZXM2LXdheS1mMDZlNDU4OTUxNlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3JsaW5nL2dyYXBoZW1lLXNwbGl0dGVyXG4gICAgICAgIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG4gICAgICAgIHZhciBwcmV2aW91c1dpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGFyID0gc3RyaW5nQXJyYXlbaV07XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0LnN1YnN0cmluZyhpICsgMSkpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0dXJlIHNpemUgYmFzZWQgb24gY2FudmFzIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSB0cmltQ2FudmFzKGNhbnZhcyk7XG4gICAgICAgICAgICBpZiAodHJpbW1lZC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9nZW5lcmF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudDtcbiAgICAgICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgICAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgICAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICAgICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBnZW5lcmF0ZXMgdGhlIHN0b3BzIGluIG9yZGVyLCBzbyB0cmFjayB0aGUgbGFzdCBnZW5lcmF0ZWQgb25lIHRvIHByZXZlbnRcbiAgICAgICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgICAgIHZhciBsYXN0SXRlcmF0aW9uU3RvcCA9IDA7XG4gICAgICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5lU3RvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuICAgICAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHREZXN0cm95T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAvLyBzZXQgY2FudmFzIHdpZHRoIGFuZCBoZWlnaHQgdG8gMCB0byB3b3JrYXJvdW5kIG1lbW9yeSBsZWFrIGluIFNhZmFyaSA8IDEzXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyNTMyNjE0L3RvdGFsLWNhbnZhcy1tZW1vcnktdXNlLWV4Y2VlZHMtdGhlLW1heGltdW0tbGltaXQtc2FmYXJpLTEyXG4gICAgICAgIGlmICh0aGlzLl9vd25DYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLndpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwic3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgSVRleHRTdHlsZVxuICAgICAgICAgICAgLy8gICAgICAgc2luY2UgdGhlIHNldHRlciBjcmVhdGVzIHRoZSBUZXh0U3R5bGUuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0O1xufShTcHJpdGUpKTtcblxuZXhwb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dCwgVGV4dE1ldHJpY3MsIFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcHJlcGFyZSAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9wcmVwYXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcblxuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiB1cGxvYWRzIHBlciBmcmFtZSB1c2luZyBwcmVwYXJlIHBsdWdpbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ291bnRMaW1pdGVyKG1heEl0ZW1zUGVyRnJhbWUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgICB9O1xuICAgIHJldHVybiBDb3VudExpbWl0ZXI7XG59KCkpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSkge1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBUZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5iYXNlVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ8UElYSS5CYXNlUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcnxQSVhJLkJhc2VQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgIHZhciBmb250ID0gaXRlbS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQmFzZVByZXBhcmUgaGFuZGxlcyBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5XG4gKiB7QGxpbmsgUElYSS5QcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVByZXBhcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQ291bnRMaW1pdGVyfFBJWEkuVGltZUxpbWl0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKHNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHVubGlrZWx5LCBidXQgaW4gY2FzZSB3ZSB3ZXJlIGRlc3Ryb3llZCBiZXR3ZWVuIHRpY2soKSBhbmQgZGVsYXllZFRpY2soKVxuICAgICAgICAgICAgaWYgKCFfdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnByZXBhcmVJdGVtcygpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICAgICAqICAgICAgICBFaXRoZXIgdGhlIGNvbnRhaW5lciBvciBkaXNwbGF5IG9iamVjdCB0byBzZWFyY2ggZm9yIGl0ZW1zIHRvIHVwbG9hZCwgdGhlIGl0ZW1zIHRvIHVwbG9hZCB0aGVtc2VsdmVzLFxuICAgICAqICAgICAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYWxsIHF1ZXVlZCB1cGxvYWRzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChkb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAgICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgICAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggJiYgdGhpcy5saW1pdGVyLmFsbG93ZWRUb1VwbG9hZCgpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICB2YXIgdXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlc1tpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIChhZGRIb29rKSB7XG4gICAgICAgIGlmIChhZGRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gICAgICogICAgICAgIGFkZCB0byB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5hZGRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VQcmVwYXJlO1xufSgpKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmICghKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZ2VvbWV0cnkgPSBpdGVtLmdlb21ldHJ5O1xuICAgIC8vIHVwZGF0ZSBkaXJ0eSBncmFwaGljcyB0byBnZXQgYmF0Y2hlc1xuICAgIGl0ZW0uZmluaXNoUG9seSgpO1xuICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcbiAgICB2YXIgYmF0Y2hlcyA9IGdlb21ldHJ5LmJhdGNoZXM7XG4gICAgLy8gdXBsb2FkIGFsbCB0ZXh0dXJlcyBmb3VuZCBpbiBzdHlsZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBiYXRjaGVzW2ldLnN0eWxlLnRleHR1cmU7XG4gICAgICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGlmIGl0cyBub3QgYmF0Y2hhYmxlIC0gdXBkYXRlIHZhbyBmb3IgcGFydGljdWxhciBzaGFkZXJcbiAgICBpZiAoIWdlb21ldHJ5LmJhdGNoYWJsZSkge1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBpdGVtLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRoZSBwcmVwYXJlIHBsdWdpbiBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBwcmUtcmVuZGVyaW5nIERpc3BsYXlPYmplY3RzLiBUaGVzZSBwbHVnaW5zIGFyZSB1c2VmdWwgZm9yXG4gKiBhc3luY2hyb25vdXNseSBwcmVwYXJpbmcgYW5kIHVwbG9hZGluZyB0byB0aGUgR1BVIGFzc2V0cywgdGV4dHVyZXMsIGdyYXBoaWNzIHdhaXRpbmcgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGlzIHBsdWdpbiBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgcmlnaHQgYXdheVxuICogYXBwLnN0b3AoKTtcbiAqXG4gKiAvLyBjcmVhdGUgYSBkaXNwbGF5IG9iamVjdFxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgdG8gdGhlIHN0YWdlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHVudGlsIHRoZSBncmFwaGljIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKGFwcC5zdGFnZSwgKCkgPT4ge1xuICogICAgIGFwcC5zdGFydCgpO1xuICogfSk7XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJlcGFyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJlcGFyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXMucmVuZGVyZXI7XG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFByZXBhcmU7XG59KEJhc2VQcmVwYXJlKSk7XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaW1lTGltaXRlcihtYXhNaWxsaXNlY29uZHMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBUaW1lTGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVMaW1pdGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQmFzZVByZXBhcmUsIENvdW50TGltaXRlciwgUHJlcGFyZSwgVGltZUxpbWl0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXBhcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZ2V0UmVzb2x1dGlvbk9mVXJsLCB1cmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSBwYXNzIGl0cyBKU09OIGRhdGEgZmlsZSB0byBQaXhpJ3MgbG9hZGVyOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAqICAgICAgICB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGltYWdlVXJsIHdpbGxcbiAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXQodGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gb3JpZ2luYWwgc291cmNlIGltYWdlIGZyb20gdGhlIExvYWRlci4gVGhpcyByZWZlcmVuY2UgaXMgcmV0YWluZWQgc28gd2VcbiAgICAgICAgICogY2FuIGRlc3Ryb3kgdGhlIFRleHR1cmUgbGF0ZXIgb24uIEl0IGlzIG5ldmVyIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmUgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlID8gdGV4dHVyZSA6IHRoaXMuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIGFsbCB0ZXh0dXJlcyBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUElYSS5TcHJpdGV8U3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgfHwgKHJlc291cmNlID8gcmVzb3VyY2UudXJsIDogbnVsbCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gICAgICogdG8gdGhlIG1ldGEuc2NhbGUgZmllbGQgb2YgdGhlIEpTT04gZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiB0byB1c2UgZm9yIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uRmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb25GaWxlbmFtZSA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAgICAgKiB0byBwcmV2ZW50IGNyZWF0aW5nIHRvbyBtYW55IFRleHR1cmUgd2l0aGluIGEgc2luZ2xlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICAgICAqICAgICAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiAoaW5pdGlhbEZyYW1lSW5kZXgpIHtcbiAgICAgICAgdmFyIGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG4gICAgICAgIHdoaWxlIChmcmFtZUluZGV4IC0gaW5pdGlhbEZyYW1lSW5kZXggPCBtYXhGcmFtZXMgJiYgZnJhbWVJbmRleCA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9mcmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGRhdGEuZnJhbWU7XG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemVcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCBkYXRhLnJvdGF0ZWQgPyAyIDogMCwgZGF0YS5hbmNob3IpO1xuICAgICAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tJyBhbmQgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2UgYW5pbWF0aW9ucyBjb25maWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcbiAgICAgICAgZm9yICh2YXIgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdLnB1c2godGhpcy50ZXh0dXJlc1tmcmFtZU5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IF90aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSAtIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSA9PT0gdm9pZCAwKSB7IGRlc3Ryb3lCYXNlID0gZmFsc2U7IH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl90ZXh0dXJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA9IDEwMDA7XG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0O1xufSgpKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFNwcml0ZXNoZWV0TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0TG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGlzIG1pZGRsZXdhcmUsIGl0IGV4ZWN1dGUgaW4gbG9hZGVyIGNvbnRleHQuIGB0aGlzYCA9IGxvYWRlclxuICAgICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArIFwiX2ltYWdlXCI7XG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhXG4gICAgICAgICAgICB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLkpTT05cbiAgICAgICAgICAgIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lc1xuICAgICAgICAgICAgfHwgbG9hZGVyLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV0pIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc291cmNlUGF0aCA9IFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgbG9hZGVyLmJhc2VVcmwpO1xuICAgICAgICAvLyBsb2FkIHRoZSBpbWFnZSBmb3IgdGhpcyBzaGVldFxuICAgICAgICBsb2FkZXIuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IFNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNwcml0ZXNoZWV0cyByb290IHBhdGhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gUmVzb3VyY2UgdG8gY2hlY2sgcGF0aFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgYmFzZVVybCkge1xuICAgICAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShiYXNlVXJsLCAnJyksIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ByaXRlc2hlZXRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBTcHJpdGVzaGVldCwgU3ByaXRlc2hlZXRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtdGlsaW5nIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlTWF0cml4LCBUZXh0dXJlLCBTaGFkZXIsIFF1YWRVdiwgU3RhdGUsIE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgVHJhbnNmb3JtLCBSZWN0YW5nbGUsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNvcnJlY3RCbGVuZE1vZGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogbWF0cml4IHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIGNvb3JkcyBpbiBUZXh0dXJlIG5vcm1hbGl6ZWQgc3BhY2UgdG8gY29vcmRzIGluIEJhc2VUZXh0dXJlIHNwYWNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gdGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgYW5jaG9yIGFmZmVjdHMgdXZzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJjbGFtcE1hcmdpblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nIGluIGNvcnJlc3BvbmRpbmcgdGV4dHVyZVRyYW5zZm9ybSwgc2hvcnRjdXRcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUodHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ0aWxlU2NhbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxpbmcgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwidGlsZVBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgpIHtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdHdlYWsgb3VyIHRleHR1cmUgdGVtcG9yYXJpbHkuLlxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSByZXF1aXJlZCB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIHJlcXVpcmVkIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIERlcHJlY2F0ZWRcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tIHVzZSBvcHRpb25zIGluc3RlYWQgb2Ygd2lkdGggYW5kIGhlaWdodCBhcmdzJyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogb3B0aW9ucywgaGVpZ2h0OiBhcmd1bWVudHNbMl0gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKSwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkIC0gZmxvb3IodlRleHR1cmVDb29yZCAtIHVDbGFtcE9mZnNldCk7XFxuICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xcbiAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xcblxcbiAgICB2ZWM0IHRleFNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgY29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXhTYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnRTaW1wbGUgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGluZ1Nwcml0ZVJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIGNvbnN0cnVjdG9yIGZvciByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHsgZ2xvYmFsczogX3RoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMgfTtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuICAgICAgICBfdGhpcy5zaW1wbGVTaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50U2ltcGxlLCB1bmlmb3Jtcyk7XG4gICAgICAgIF90aGlzLnF1YWQgPSBuZXcgUXVhZFV2KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRpbGluZ1Nwcml0ZX0gdHMgLSB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHRzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBxdWFkID0gdGhpcy5xdWFkO1xuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gKHRzLl93aWR0aCkgKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gKHRzLl93aWR0aCkgKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG4gICAgICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gLXRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC10cy5hbmNob3IueTtcbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuICAgICAgICBxdWFkLmludmFsaWRhdGUoKTtcbiAgICAgICAgdmFyIHRleCA9IHRzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZNYXRyaXg7XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvXG4gICAgICAgICAgICAmJiB0ZXguZnJhbWUud2lkdGggPT09IGJhc2VUZXgud2lkdGggJiYgdGV4LmZyYW1lLmhlaWdodCA9PT0gYmFzZVRleC5oZWlnaHQ7XG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZVRleC53cmFwTW9kZSA9PT0gV1JBUF9NT0RFUy5DTEFNUCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTaW1wbGUgPSBiYXNlVGV4LndyYXBNb2RlICE9PSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG4gICAgICAgIHZhciB3ID0gdGV4LndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIHZhciBXID0gdHMuX3dpZHRoO1xuICAgICAgICB2YXIgSCA9IHRzLl9oZWlnaHQ7XG4gICAgICAgIHRlbXBNYXQuc2V0KGx0LmEgKiB3IC8gVywgbHQuYiAqIHcgLyBILCBsdC5jICogaCAvIFcsIGx0LmQgKiBoIC8gSCwgbHQudHggLyBXLCBsdC50eSAvIEgpO1xuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gdGVtcE1hdC50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXguYWxwaGFNb2RlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChxdWFkKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5hbHBoYU1vZGUpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBUaWxpbmdTcHJpdGUsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtdGlsaW5nLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL21lc2ggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTdGF0ZSwgUHJvZ3JhbSwgVGV4dHVyZU1hdHJpeCwgU2hhZGVyLCBCdWZmZXIsIEdlb21ldHJ5IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgUG9seWdvbiwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBEUkFXX01PREVTLCBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgY2FjaGUgZm9yIFVWIG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaEJhdGNoVXZzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IHV2QnVmZmVyIC0gQnVmZmVyIHdpdGggbm9ybWFsaXplZCB1didzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVNYXRyaXh9IHV2TWF0cml4IC0gTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaEJhdGNoVXZzKHV2QnVmZmVyLCB1dk1hdHJpeCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIHdpdGggbm9ybWFsaXplZCBVVidzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dkJ1ZmZlciA9IHV2QnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSB1dk1hdHJpeDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVWIEJ1ZmZlciBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZV0gLSBmb3JjZSB0aGUgdXBkYXRlXG4gICAgICovXG4gICAgTWVzaEJhdGNoVXZzLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPT09IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPT09IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQ7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy51dkJ1ZmZlci5kYXRhO1xuICAgICAgICBpZiAoIXRoaXMuZGF0YSB8fCB0aGlzLmRhdGEubGVuZ3RoICE9PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgcmV0dXJuIE1lc2hCYXRjaFV2cztcbn0oKSk7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBQb2x5Z29uKCk7XG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzcy5cbiAqXG4gKiBUaGlzIGNsYXNzIGVtcG93ZXJzIHlvdSB0byBoYXZlIG1heGltdW0gZmxleGliaWxpdHkgdG8gcmVuZGVyIGFueSBraW5kIG9mIFdlYkdMIHZpc3VhbHMgeW91IGNhbiB0aGluayBvZi5cbiAqIFRoaXMgY2xhc3MgYXNzdW1lcyBhIGNlcnRhaW4gbGV2ZWwgb2YgV2ViR0wga25vd2xlZGdlLlxuICogSWYgeW91IGtub3cgYSBiaXQgdGhpcyBzaG91bGQgYWJzdHJhY3QgZW5vdWdoIGF3YXkgdG8gbWFrZSB5b3UgbGlmZSBlYXNpZXIhXG4gKlxuICogUHJldHR5IG11Y2ggQUxMIFdlYkdMIGNhbiBiZSBicm9rZW4gZG93biBpbnRvIHRoZSBmb2xsb3dpbmc6XG4gKiAtIEdlb21ldHJ5IC0gVGhlIHN0cnVjdHVyZSBhbmQgZGF0YSBmb3IgdGhlIG1lc2guIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy4uXG4gKiAtIFNoYWRlciAtIFRoaXMgaXMgdGhlIHNoYWRlciB0aGF0IFBpeGlKUyB3aWxsIHJlbmRlciB0aGUgZ2VvbWV0cnkgd2l0aCAoYXR0cmlidXRlcyBpbiB0aGUgc2hhZGVyIG11c3QgbWF0Y2ggdGhlIGdlb21ldHJ5KVxuICogLSBTdGF0ZSAtIFRoaXMgaXMgdGhlIHN0YXRlIG9mIFdlYkdMIHJlcXVpcmVkIHRvIHJlbmRlciB0aGUgbWVzaC5cbiAqXG4gKiBUaHJvdWdoIGEgY29tYmluYXRpb24gb2YgdGhlIGFib3ZlIGVsZW1lbnRzIHlvdSBjYW4gcmVuZGVyIGFueXRoaW5nIHlvdSB3YW50LCAyRCBvciAzRCFcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gdGhlIGdlb21ldHJ5IHRoZSBtZXNoIHdpbGwgdXNlXG4gICAgICogQHBhcmFtIHtQSVhJLk1lc2hNYXRlcmlhbH0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gW3N0YXRlXSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBXZWJHTCBjb250ZXh0IGlzIHJlcXVpcmVkIHRvIGJlIGluIHRvIHJlbmRlciB0aGUgbWVzaFxuICAgICAqICAgICAgICBpZiBubyBzdGF0ZSBpcyBwcm92aWRlZCwgdXNlcyB7QGxpbmsgUElYSS5TdGF0ZS5mb3IyZH0gdG8gY3JlYXRlIGEgMkQgc3RhdGUgZm9yIFBpeGlKUy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlPVBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVNdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBQSVhJLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaChnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUpIHtcbiAgICAgICAgaWYgKGRyYXdNb2RlID09PSB2b2lkIDApIHsgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBnZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBNZXNoIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2F5IHRoZSBNZXNoIHNob3VsZCBiZSBkcmF3biwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkuRFJBV19NT0RFU30gY29uc3RhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5EUkFXX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHlwaWNhbGx5IHRoZSBpbmRleCBvZiB0aGUgSW5kZXhCdWZmZXIgd2hlcmUgdG8gc3RhcnQgZHJhd2luZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbXVjaCBvZiB0aGUgZ2VvbWV0cnkgdG8gZHJhdywgYnkgZGVmYXVsdCBgMGAgcmVuZGVycyBldmVyeXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB0aGUgY2FjaGluZyBsYXllciB1c2VkIGJ5IHRoZSBiYXRjaGVyXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZ2VvbWV0cnkgaXMgY2hhbmdlZCB1c2VkIHRvIGRlY2lkZSB0byByZS10cmFuc2Zvcm1cbiAgICAgICAgICogdGhlIHZlcnRleERhdGEuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERpcnR5ID0gMDtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8vIEluaGVyaXRlZCBmcm9tIERpc3BsYXlNb2RlLCBzZXQgZGVmYXVsdHNcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlZCBVVidzIGFyZSBjYWNoZWQgZm9yIGF0bGFzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaEJhdGNoVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ1dkJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUbyBjaGFuZ2UgbWVzaCB1didzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidmVydGljZXNCdWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVG8gY2hhbmdlIG1lc2ggdmVydGljZXMsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICAgICAqIEluY3JlbWVudGluZyBfdXBkYXRlSUQgaXMgb3B0aW9uYWwgYmVjYXVzZSBtb3N0IG9mIE1lc2ggb2JqZWN0cyBkbyBpdCBhbnl3YXkuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIE1lc2guIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJyb3VuZFBpeGVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBseSB0aW50IGFwcGxpZWQgdG8gdGhlIE1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogYDB4RkZGRkZGYCB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50aW50ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBNZXNoIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCByZW5kZXJlciBkcmF3LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG4gICAgICAgIC8vIFRPRE8gYmVuY2htYXJrIGNoZWNrIGZvciBhdHRyaWJ1dGUgc2l6ZS4uXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci5iYXRjaGFibGVcbiAgICAgICAgICAgICYmIHRoaXMuZHJhd01vZGUgPT09IERSQVdfTU9ERVMuVFJJQU5HTEVTXG4gICAgICAgICAgICAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMikge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgbm9uLWJhdGNoaW5nIHdheSBvZiByZW5kZXJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyRGVmYXVsdCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIHNoYWRlci5hbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgaWYgKHNoYWRlci51cGRhdGUpIHtcbiAgICAgICAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBpZiAoc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEudHJhbnNsYXRpb25NYXRyaXgpIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgLy8gYmluZCB0aGUgZ2VvbWV0cnkuLi5cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLmdlb21ldHJ5LCBzaGFkZXIpO1xuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcmluZyBieSB1c2luZyB0aGUgQmF0Y2ggc3lzdGVtLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlclRvQmF0Y2ggPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnV2TWF0cml4KSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gdGhpcy5zaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMubWF0ZXJpYWwucGx1Z2luTmFtZTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB2ZXJ0ZXhEYXRhIGZpZWxkIGJhc2VkIG9uIHRyYW5zZm9ybSBhbmQgdmVydGljZXNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCAhPT0gdmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSBnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICBpZiAoIXRoaXMuc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCB0aGlzLnNoYWRlci51dk1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IGdlb21VdnMuZGF0YTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogdGhlcmUgbXVzdCBiZSBhIGFWZXJ0ZXhQb3NpdGlvbiBhdHRyaWJ1dGUgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkgZm9yIGJvdW5kcyB0byBiZSBjYWxjdWxhdGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgdmFyIGxlbiA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgc3RlcCA9IHRoaXMuZHJhd01vZGUgPT09IDQgPyAzIDogMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgICAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuICAgICAgICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICAgICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICAgICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuICAgICAgICAgICAgaWYgKHRlbXBQb2x5Z29uLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgTWVzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LnJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHZlcnRpY2VzIHRvIGNvbnNpZGVyIGJhdGNoYWJsZS4gR2VuZXJhbGx5LCB0aGUgY29tcGxleGl0eVxuICAgICAqIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5NZXNoXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAgICAgKi9cbiAgICBNZXNoLkJBVENIQUJMRV9TSVpFID0gMTAwO1xuICAgIHJldHVybiBNZXNoO1xufShDb250YWluZXIpKTtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbi8qKlxuICogU2xpZ2h0bHkgb3BpbmlvbmF0ZWQgZGVmYXVsdCBzaGFkZXIgZm9yIFBpeGlKUyAyRCBvYmplY3RzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIE1lc2hNYXRlcmlhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaE1hdGVyaWFsLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB1U2FtcGxlciAtIFRleHR1cmUgdGhhdCBtYXRlcmlhbCB1c2VzIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQWRkaXRpb25hbCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gRGVmYXVsdCBhbHBoYS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGludD0weEZGRkZGRl0gLSBEZWZhdWx0IHRpbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBsdWdpbk5hbWU9J2JhdGNoJ10gLSBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBbb3B0aW9ucy5wcm9ncmFtPTB4RkZGRkZGXSAtIEN1c3RvbSBwcm9ncmFtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy51bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKHVTYW1wbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHVTYW1wbGVyOiB1U2FtcGxlcixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgICAgICAgIHVDb2xvcjogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6ICdiYXRjaCcsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucy51bmlmb3Jtcykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih1bmlmb3Jtcywgb3B0aW9ucy51bmlmb3Jtcyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLnByb2dyYW0gfHwgUHJvZ3JhbS5mcm9tKHZlcnRleCwgZnJhZ21lbnQpLCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgZG8gdXBkYXRlIGlmIHRpbnQgb3IgYWxwaGEgY2hhbmdlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIE1lc2gsIHVzZWQgdG8gdHJhY2sgVGV4dHVyZSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHVTYW1wbGVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzaGFkZXIgY2FuIGJlIGJhdGNoIHdpdGggdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gb3B0aW9ucy5wbHVnaW5OYW1lO1xuICAgICAgICBfdGhpcy50aW50ID0gb3B0aW9ucy50aW50O1xuICAgICAgICBfdGhpcy5hbHBoYSA9IG9wdGlvbnMuYWxwaGE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy51bmlmb3Jtcy51U2FtcGxlciAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBnZXRzIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBvYmplY3QgdXNpbmcgdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9hbHBoYSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fYWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdWx0aXBseSB0aW50IGZvciB0aGUgbWF0ZXJpYWwuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3RpbnQpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdldHMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIE1lc2guIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gZm9yIGN1c3RvbVxuICAgICAqIE1lc2hNYXRlcmlhbCBvYmplY3RzLlxuICAgICAqL1xuICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY29sb3JEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRoaXMuX3RpbnQsIHRoaXMuX2FscGhhLCB0aGlzLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUuYWxwaGFNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51dk1hdHJpeC51cGRhdGUoKSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51VGV4dHVyZU1hdHJpeCA9IHRoaXMudXZNYXRyaXgubWFwQ29vcmQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFN0YW5kYXJkIDJEIGdlb21ldHJ5IHVzZWQgaW4gUGl4aUpTLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sIDIpO1xuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSk7XG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbnZhciBNZXNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2hHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gW3ZlcnRpY2VzXSAtIFBvc2l0aW9uYWwgZGF0YSBvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gW3V2c10gLSBUZXh0dXJlIFVWcy5cbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fG51bWJlcltdfSBbaW5kZXhdIC0gSW5kZXhCdWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHZlcnRpY2VzQnVmZmVyID0gbmV3IEJ1ZmZlcih2ZXJ0aWNlcyk7XG4gICAgICAgIHZhciB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoaW5kZXgsIHRydWUsIHRydWUpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoaW5kZXhCdWZmZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgZmxhZyB0byBsaW1pdCB1cGRhdGUgY2FsbHMgb24gTWVzaC4gRm9yIGV4YW1wbGUsXG4gICAgICAgICAqIGxpbWl0aW5nIHVwZGF0ZXMgb24gYSBzaW5nbGUgTWVzaCBpbnN0YW5jZSB3aXRoIGEgc2hhcmVkIEdlb21ldHJ5XG4gICAgICAgICAqIHdpdGhpbiB0aGUgcmVuZGVyIGxvb3AuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJZCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoR2VvbWV0cnkucHJvdG90eXBlLCBcInZlcnRleERpcnR5SWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHZlcnRleCBwb3NpdGlvbiBpcyB1cGRhdGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzWzBdLl91cGRhdGVJRDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNZXNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbmV4cG9ydCB7IE1lc2gsIE1lc2hCYXRjaFV2cywgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2guZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQtYml0bWFwIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsLCBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBoZXgycmdiLCBzdHJpbmcyaGV4LCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIE5vcm1hbGl6ZWQgcGFyc2VkIGRhdGEgZnJvbSAuZm50IGZpbGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnREYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnREYXRhKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFJbmZvW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YVBhZ2VbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ2hhcltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxuICAgIHJldHVybiBCaXRtYXBGb250RGF0YTtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ29tbW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZUhlaWdodFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFQYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFLZXJuaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmlyc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZWNvbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbW91bnRcbiAqL1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR4dCAtIFJhdyBzdHJpbmcgZGF0YSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcykge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIGF0dHJpYnV0ZSBsaXN0IGFzIHN0cmluZyBleC46IFwid2lkdGg9MTBcIlxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhdHRyaWJ1dGUgbGlzdCBpbnRvIGFuIG9iamVjdFxuICAgICAgICAgICAgdmFyIGl0ZW1EYXRhID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaV8xXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXZlbnR1YWwgcXVvdGVzIGZyb20gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHZhbHVlIGludG8gZmxvYXRcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY29tbW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbW1vbikgeyByZXR1cm4gZm9udC5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb24ubGluZUhlaWdodCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEucGFnZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBmb250LnBhZ2UucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZS5pZCwgMTApLFxuICAgICAgICAgICAgZmlsZTogcGFnZS5maWxlLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChrZXJuaW5nKSB7IHJldHVybiBmb250Lmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZy5maXJzdCwgMTApLFxuICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nLnNlY29uZCwgMTApLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nLmFtb3VudCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHhtbCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBYTUxGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJyk7XG4gICAgICAgIHZhciBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIHZhciBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKCdmYWNlJyksXG4gICAgICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gY2hhcltpXTtcbiAgICAgICAgICAgIGRhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApLFxuICAgICAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIFhNTEZvcm1hdDtcbn0oKSk7XG5cbi8vIFJlZ2lzdGVyZWQgZm9ybWF0cywgbWF5YmUgbWFrZSB0aGlzIGV4dGVuc2libGUgaW4gdGhlIGZ1dHVyZT9cbnZhciBmb3JtYXRzID0gW1xuICAgIFRleHRGb3JtYXQsXG4gICAgWE1MRm9ybWF0IF07XG4vKipcbiAqIEF1dG8tZGV0ZWN0IEJpdG1hcEZvbnQgcGFyc2luZyBmb3JtYXQgYmFzZWQgb24gZGF0YS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gZGV0ZWN0IGZvcm1hdFxuICogQHJldHVybiB7YW55fSBGb3JtYXQgb3IgbnVsbFxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdHNbaV0udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZ2VuZXJhdGVGaWxsU3R5bGUgJiBUZXh0I2dlbmVyYXRlRmlsbFN0eWxlXG4vKipcbiAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5maWxsO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICB9XG4gICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgdmFyIGdyYWRpZW50O1xuICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgIHZhciBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG4gICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAvLyBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gZnJvbSBtYWtpbmcgdXMgZ28gdGhlIHRlZW5pZXN0IGJpdCBiYWNrd2FyZHMsIHJlc3VsdGluZyBpblxuICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50O1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGRyYXdHbHlwaCAmIFRleHQjdXBkYXRlVGV4dFxuLyoqXG4gKiBEcmF3cyB0aGUgZ2x5cGggYG1ldHJpY3MudGV4dGAgb24gdGhlIGdpdmVuIGNhbnZhcy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dFxuICogQHBhcmFtIHtUZXh0TWV0cmljc30gbWV0cmljc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtUZXh0U3R5bGV9IHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHgsIHksIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgdmFyIGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWV0cmljcy5mb250UHJvcGVydGllcztcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIHZhciB0eCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgdmFyIHR5ID0gLShzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgY29udGV4dC5mb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgW2NoYXJdLCBtZXRyaWNzKTtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJzAnO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQoY2hhciwgdHgsIHR5ICsgbWV0cmljcy5saW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZGVzY2VudCk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoY2hhciwgdHgsIHR5ICsgbWV0cmljcy5saW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZGVzY2VudCk7XG4gICAgfVxuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKCk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwKSc7XG59XG5cbi8qKlxuICogUHJvY2Vzc2VzIHRoZSBwYXNzZWQgY2hhcmFjdGVyIHNldCBkYXRhIGFuZCByZXR1cm5zIGEgZmxhdHRlbmVkIGFycmF5IG9mIGFsbCB0aGUgY2hhcmFjdGVycy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IHN0cmluZ1tdW10gfSBjaGFyc1xuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5mdW5jdGlvbiByZXNvbHZlQ2hhcmFjdGVycyhjaGFycykge1xuICAgIC8vIFNwbGl0IHRoZSBjaGFycyBzdHJpbmcgaW50byBpbmRpdmlkdWFsIGNoYXJhY3RlcnNcbiAgICBpZiAodHlwZW9mIGNoYXJzID09PSAnc3RyaW5nJykge1xuICAgICAgICBjaGFycyA9IFtjaGFyc107XG4gICAgfVxuICAgIC8vIEhhbmRsZSBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzK3Jhbmdlc1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IGNoYXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IGNoYXJzW2ldO1xuICAgICAgICAvLyBIYW5kbGUgcmFuZ2UgZGVsaW1pdGVkIGJ5IHN0YXJ0L2VuZCBjaGFyc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZSBsZW5ndGgsIGV4cGVjdGluZyAyIGdvdCBcIiArIGl0ZW0ubGVuZ3RoICsgXCIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXJ0Q29kZSA9IGl0ZW1bMF0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIHZhciBlbmRDb2RlID0gaXRlbVsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGVuZENvZGUgPCBzdGFydENvZGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSBzdGFydENvZGUsIGpfMSA9IGVuZENvZGU7IGlfMSA8PSBqXzE7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpXzEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYSBjaGFyYWN0ZXIgc2V0IHN0cmluZ1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCwgaXRlbS5zcGxpdCgnJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBFbXB0eSBzZXQgd2hlbiByZXNvbHZpbmcgY2hhcmFjdGVycy4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBCaXRtYXBGb250IHJlcHJlc2VudHMgYSB0eXBlZmFjZSBhdmFpbGFibGUgZm9yIHVzZSB3aXRoIHRoZSBCaXRtYXBUZXh0IGNsYXNzLiBVc2UgdGhlIGBpbnN0YWxsYFxuICogbWV0aG9kIGZvciBhZGRpbmcgYSBmb250IHRvIGJlIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwRm9udCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQml0bWFwRm9udERhdGF9IGRhdGFcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZVtdfE9iamVjdC48c3RyaW5nLCBQSVhJLlRleHR1cmU+fSB0ZXh0dXJlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnQoZGF0YSwgdGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGluZm8gPSBkYXRhLmluZm9bMF07XG4gICAgICAgIHZhciBjb21tb24gPSBkYXRhLmNvbW1vblswXTtcbiAgICAgICAgdmFyIHBhZ2UgPSBkYXRhLnBhZ2VbMF07XG4gICAgICAgIHZhciByZXMgPSBnZXRSZXNvbHV0aW9uT2ZVcmwocGFnZS5maWxlKTtcbiAgICAgICAgdmFyIHBhZ2VUZXh0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZvbnQgZmFjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9udCA9IGluZm8uZmFjZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaXplIG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gaW5mby5zaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmUtaGVpZ2h0IG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gY29tbW9uLmxpbmVIZWlnaHQgLyByZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIGNoYXJhY3RlcnMgYnkgY2hhcmFjdGVyIGNvZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoYXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIGJhc2UgcGFnZSB0ZXh0dXJlcyAoaS5lLiwgc2hlZXRzIG9mIGdseXBocykuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlcyA9IHBhZ2VUZXh0dXJlcztcbiAgICAgICAgLy8gQ29udmVydCB0aGUgaW5wdXQgVGV4dHVyZSwgVGV4dHVyZXMgb3Igb2JqZWN0XG4gICAgICAgIC8vIGludG8gYSBwYWdlIFRleHR1cmUgbG9va3VwIGJ5IFwiaWRcIlxuICAgICAgICBmb3IgKHZhciBpIGluIGRhdGEucGFnZSkge1xuICAgICAgICAgICAgdmFyIF9hID0gZGF0YS5wYWdlW2ldLCBpZCA9IF9hLmlkLCBmaWxlID0gX2EuZmlsZTtcbiAgICAgICAgICAgIHBhZ2VUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgPyB0ZXh0dXJlc1tpXSA6IHRleHR1cmVzW2ZpbGVdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhLmNoYXIpIHtcbiAgICAgICAgICAgIHZhciBfYiA9IGRhdGEuY2hhcltpXSwgaWQgPSBfYi5pZCwgcGFnZV8xID0gX2IucGFnZTtcbiAgICAgICAgICAgIHZhciBfYyA9IGRhdGEuY2hhcltpXSwgeCA9IF9jLngsIHkgPSBfYy55LCB3aWR0aCA9IF9jLndpZHRoLCBoZWlnaHQgPSBfYy5oZWlnaHQsIHhvZmZzZXQgPSBfYy54b2Zmc2V0LCB5b2Zmc2V0ID0gX2MueW9mZnNldCwgeGFkdmFuY2UgPSBfYy54YWR2YW5jZTtcbiAgICAgICAgICAgIHggLz0gcmVzO1xuICAgICAgICAgICAgeSAvPSByZXM7XG4gICAgICAgICAgICB3aWR0aCAvPSByZXM7XG4gICAgICAgICAgICBoZWlnaHQgLz0gcmVzO1xuICAgICAgICAgICAgeG9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB5b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHhhZHZhbmNlIC89IHJlcztcbiAgICAgICAgICAgIHZhciByZWN0ID0gbmV3IFJlY3RhbmdsZSh4ICsgKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmZyYW1lLnggLyByZXMpLCB5ICsgKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmZyYW1lLnkgLyByZXMpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdID0ge1xuICAgICAgICAgICAgICAgIHhPZmZzZXQ6IHhvZmZzZXQsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogeW9mZnNldCxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogeGFkdmFuY2UsXG4gICAgICAgICAgICAgICAga2VybmluZzoge30sXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogbmV3IFRleHR1cmUocGFnZVRleHR1cmVzW3BhZ2VfMV0uYmFzZVRleHR1cmUsIHJlY3QpLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2VfMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhLmtlcm5pbmcpIHtcbiAgICAgICAgICAgIHZhciBfZCA9IGRhdGEua2VybmluZ1tpXSwgZmlyc3QgPSBfZC5maXJzdCwgc2Vjb25kID0gX2Quc2Vjb25kLCBhbW91bnQgPSBfZC5hbW91bnQ7XG4gICAgICAgICAgICBmaXJzdCAvPSByZXM7XG4gICAgICAgICAgICBzZWNvbmQgLz0gcmVzO1xuICAgICAgICAgICAgYW1vdW50IC89IHJlcztcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJzW3NlY29uZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHJlZmVyZW5jZXMgdG8gY3JlYXRlZCBnbHlwaCB0ZXh0dXJlcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmNoYXJzKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMucGFnZVRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHJlYWRvbmx5IG51bGwuXG4gICAgICAgIHRoaXMuY2hhcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBiaXRtYXAgZm9udC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fHN0cmluZ3xQSVhJLkJpdG1hcEZvbnREYXRhfSBkYXRhIC0gVGhlXG4gICAgICogICAgICAgIGNoYXJhY3RlcnMgbWFwIHRoYXQgY291bGQgYmUgcHJvdmlkZWQgYXMgeG1sIG9yIHJhdyBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119XG4gICAgICogICAgICAgIHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQml0bWFwRm9udH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodFxuICAgICAqICAgICAgICAgYW5kIGNoYXIgZmllbGRzLlxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuaW5zdGFsbCA9IGZ1bmN0aW9uIChkYXRhLCB0ZXh0dXJlcykge1xuICAgICAgICB2YXIgZm9udERhdGE7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQml0bWFwRm9udERhdGEpIHtcbiAgICAgICAgICAgIGZvbnREYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpO1xuICAgICAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBkYXRhIGZvcm1hdCBmb3IgZm9udC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnREYXRhID0gZm9ybWF0LnBhcnNlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmdsZSB0ZXh0dXJlLCBjb252ZXJ0IHRvIGxpc3RcbiAgICAgICAgaWYgKHRleHR1cmVzIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZXMgPSBbdGV4dHVyZXNdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udC5mb250XSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGJpdG1hcCBmb250IGJ5IG5hbWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LnVuaW5zdGFsbCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBmb250ID0gQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZm9udCBmb3VuZCBuYW1lZCAnXCIgKyBuYW1lICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvbnQuZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBiaXRtYXAtZm9udCBmb3IgdGhlIGdpdmVuIHN0eWxlIGFuZCBjaGFyYWN0ZXIgc2V0LiBUaGlzIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgKiBrZXJuaW5ncyB5ZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZm9udCB0byB1c2Ugd2l0aCBCaXRtYXBUZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfSBbc3R5bGVdIC0gU3R5bGUgb3B0aW9ucyB0byByZW5kZXIgd2l0aCBCaXRtYXBGb250LlxuICAgICAqIEBwYXJhbSB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9IFtvcHRpb25zXSAtIFNldHVwIG9wdGlvbnMgZm9yIGZvbnQgb3IgbmFtZSBvZiB0aGUgZm9udC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxzdHJpbmdbXVtdfSBbb3B0aW9ucy5jaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIGNoYXJhY3RlcnMgaW5jbHVkZWRcbiAgICAgKiAgICAgIGluIHRoZSBmb250IHNldC4gWW91IGNhbiBhbHNvIHVzZSByYW5nZXMuIEZvciBleGFtcGxlLCBgW1snYScsICd6J10sIFsnQScsICdaJ10sIFwiIUAjJCVeJiooKX57fVtdIFwiXWAuXG4gICAgICogICAgICBEb24ndCBmb3JnZXQgdG8gaW5jbHVkZSBzcGFjZXMgJyAnIGluIHlvdXIgY2hhcmFjdGVyIHNldCFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFJlbmRlciByZXNvbHV0aW9uIGZvciBnbHlwaHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVXaWR0aD01MTJdIC0gT3B0aW9uYWwgd2lkdGggb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVIZWlnaHQ9NTEyXSAtIE9wdGlvbmFsIGhlaWdodCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGFkZGluZz00XSAtIFBhZGRpbmcgYmV0d2VlbiBnbHlwaHMgb24gdGV4dHVyZSBhdGxhcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IEZvbnQgZ2VuZXJhdGVkIGJ5IHN0eWxlIG9wdGlvbnMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBleGFtcGxlXG4gICAgICogUElYSS5CaXRtYXBGb250LmZyb20oXCJUaXRsZUZvbnRcIiwge1xuICAgICAqICAgICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gICAgICogICAgIGZvbnRTaXplOiAxMixcbiAgICAgKiAgICAgc3Ryb2tlVGhpY2tuZXNzOiAyLFxuICAgICAqICAgICBmaWxsOiBcInB1cnBsZVwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCB0aXRsZSA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJUaGlzIGlzIHRoZSB0aXRsZVwiLCB7IGZvbnROYW1lOiBcIlRpdGxlRm9udFwiIH0pO1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZnJvbSA9IGZ1bmN0aW9uIChuYW1lLCB0ZXh0U3R5bGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIGNoYXJzID0gX2EuY2hhcnMsIHBhZGRpbmcgPSBfYS5wYWRkaW5nLCByZXNvbHV0aW9uID0gX2EucmVzb2x1dGlvbiwgdGV4dHVyZVdpZHRoID0gX2EudGV4dHVyZVdpZHRoLCB0ZXh0dXJlSGVpZ2h0ID0gX2EudGV4dHVyZUhlaWdodDtcbiAgICAgICAgdmFyIGNoYXJzTGlzdCA9IHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGV4dFN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlID8gdGV4dFN0eWxlIDogbmV3IFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICB2YXIgZm9udERhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgZm9udERhdGEuaW5mb1swXSA9IHtcbiAgICAgICAgICAgIGZhY2U6IHN0eWxlLmZvbnRGYW1pbHksXG4gICAgICAgICAgICBzaXplOiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9udERhdGEuY29tbW9uWzBdID0ge1xuICAgICAgICAgICAgbGluZUhlaWdodDogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBwb3NpdGlvblggPSAwO1xuICAgICAgICB2YXIgcG9zaXRpb25ZID0gMDtcbiAgICAgICAgdmFyIGNhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQ7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHsgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiB9KTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKSk7XG4gICAgICAgICAgICAgICAgZm9udERhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWVhc3VyZSBnbHlwaCBkaW1lbnNpb25zXG4gICAgICAgICAgICB2YXIgbWV0cmljcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KGNoYXJzTGlzdFtpXSwgc3R5bGUsIGZhbHNlLCBjYW52YXMpO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwobWV0cmljcy5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB1Z2x5IC0gYnV0IGl0YWxpY3MgYXJlIGdpdmVuIG1vcmUgc3BhY2Ugc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICB2YXIgdGV4dHVyZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoKHN0eWxlLmZvbnRTdHlsZSA9PT0gJ2l0YWxpYycgPyAyIDogMSkgKiB3aWR0aCk7XG4gICAgICAgICAgICAvLyBDYW4ndCBmaXQgY2hhciBhbnltb3JlOiBuZXh0IGNhbnZhcyBwbGVhc2UhXG4gICAgICAgICAgICBpZiAocG9zaXRpb25ZID49IHRleHR1cmVIZWlnaHQgLSAoaGVpZ2h0ICogcmVzb2x1dGlvbikpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25ZID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdXNlciBkZWJ1Z2dpbmcgYW4gaW5maW5pdGUgbG9vcCAob3IgZG8gd2U/IDopXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XSB0ZXh0dXJlSGVpZ2h0IFwiICsgdGV4dHVyZUhlaWdodCArIFwicHggaXMgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFwidG9vIHNtYWxsIGZvciBcIiArIHN0eWxlLmZvbnRTaXplICsgXCJweCBmb250c1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXRsYXMgb25jZSBjdXJyZW50IGhhcyBmaWxsZWQgdXBcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0ICsgbWV0cmljcy5mb250UHJvcGVydGllcy5kZXNjZW50LCBtYXhDaGFySGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFdyYXAgbGluZSBvbmNlIGZ1bGwgcm93IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICBpZiAoKHRleHR1cmVHbHlwaFdpZHRoICogcmVzb2x1dGlvbikgKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSArPSBtYXhDaGFySGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBNYXRoLmNlaWwocG9zaXRpb25ZKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgcG9zaXRpb25YLCBwb3NpdGlvblksIHJlc29sdXRpb24sIHN0eWxlKTtcbiAgICAgICAgICAgIC8vIFVuaXF1ZSAobnVtZXJpYykgSUQgbWFwcGluZyB0byB0aGlzIGdseXBoXG4gICAgICAgICAgICB2YXIgaWQgPSBtZXRyaWNzLnRleHQuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRleHR1cmUgaG9sZGluZyBqdXN0IHRoZSBnbHlwaFxuICAgICAgICAgICAgZm9udERhdGEuY2hhcltpZF0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgeDogcG9zaXRpb25YIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvblkgLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlR2x5cGhXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICB4b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IE1hdGguY2VpbCh3aWR0aFxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMClcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuc3Ryb2tlID8gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIDogMCkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAoMiAqIHBhZGRpbmcpKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmNlaWwocG9zaXRpb25YKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIC8vIE1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgYSBmb250XG4gICAgICAgIGlmIChCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCaXRtYXBGb250LnVuaW5zdGFsbChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCB0aGUgbGV0dGVycyBpbiB0aGUgYWxwaGFiZXQgKGJvdGggbG93ZXItIGFuZCB1cHBlci0gY2FzZSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEEgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5OVU1FUklDIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5OVU1FUklDID0gW1snMCcsICc5J11dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBbJzAnLCAnOSddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBjb25zaXN0cyBvZiBhbGwgdGhlIEFTQ0lJIHRhYmxlLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5hc2NpaXRhYmxlLmNvbS9cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFTQ0lJID0gW1snICcsICd+J11dO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZGVmYXVsdCBvcHRpb25zIHdoZW4gdXNpbmcgYEJpdG1hcEZvbnQuZnJvbWAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlV2lkdGg9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVIZWlnaHQ9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZGRpbmc9NFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IGNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICB0ZXh0dXJlV2lkdGg6IDUxMixcbiAgICAgICAgdGV4dHVyZUhlaWdodDogNTEyLFxuICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICBjaGFyczogQml0bWFwRm9udC5BTFBIQU5VTUVSSUMsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGF2YWlsYWJsZS9pbnN0YWxsZWQgZm9udHMuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuQml0bWFwRm9udD59XG4gICAgICovXG4gICAgQml0bWFwRm9udC5hdmFpbGFibGUgPSB7fTtcbiAgICByZXR1cm4gQml0bWFwRm9udDtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElCaXRtYXBGb250T3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmcgfCBzdHJpbmdbXSB8IHN0cmluZ1tdW119IFtjaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIHRoZSBjaGFyYWN0ZXIgc2V0IHRvIGdlbmVyYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSB0aGUgcmVzb2x1dGlvbiBmb3IgcmVuZGVyaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BhZGRpbmc9NF0gLSB0aGUgcGFkZGluZyBiZXR3ZWVuIGdseXBocyBpbiB0aGUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZVdpZHRoPTUxMl0gLSB0aGUgd2lkdGggb2YgdGhlIHRleHR1cmUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZUhlaWdodD01MTJdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICovXG5cbnZhciBwYWdlTWVzaERhdGFQb29sID0gW107XG52YXIgY2hhclJlbmRlckRhdGFQb29sID0gW107XG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogU3VwcG9ydGluZyBjaGFyYWN0ZXIgc2V0cyBvdGhlciB0aGFuIGxhdGluLCBzdWNoIGFzIENKSyBsYW5ndWFnZXMsIG1heSBiZSBpbXByYWN0aWNhbCBkdWUgdG8gdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuXG4gKlxuICogUGl4aUpTIGNhbiBhdXRvLWdlbmVyYXRlIGZvbnRzIG9uLXRoZS1mbHkgdXNpbmcgQml0bWFwRm9udCBvciB1c2UgZm50IGZpbGVzIHByb3ZpZGVkIGJ5OlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIFdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBNYWMuXG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWQuXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJpdG1hcFRleHQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBBIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlLmZvbnROYW1lIC0gVGhlIGluc3RhbGxlZCBCaXRtYXBGb250IG5hbWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250U2l6ZV0gLSBUaGUgc2l6ZSBvZiB0aGUgZm9udCBpbiBwaXhlbHMsIGUuZy4gMjQuIElmIHVuZGVmaW5lZCxcbiAgICAgKi4gICAgIHRoaXMgd2lsbCBkZWZhdWx0IHRvIHRoZSBCaXRtYXBGb250IHNpemUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgICAgIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWF4V2lkdGg9MF0gLSBUaGUgbWF4IHdpZHRoIG9mIHRoZSB0ZXh0IGJlZm9yZSBsaW5lIHdyYXBwaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlID09PSB2b2lkIDApIHsgc3R5bGUgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGludCA9IDB4RkZGRkZGO1xuICAgICAgICBpZiAoc3R5bGUuZm9udCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dCBjb25zdHJ1Y3RvciBzdHlsZS5mb250IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuJyk7XG4gICAgICAgICAgICBfdGhpcy5fdXBncmFkZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSB0aGUgZGVmYXVsdHNcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzLCBzdHlsZSksIGFsaWduID0gX2EuYWxpZ24sIHRpbnQgPSBfYS50aW50LCBtYXhXaWR0aCA9IF9hLm1heFdpZHRoLCBsZXR0ZXJTcGFjaW5nID0gX2EubGV0dGVyU3BhY2luZywgZm9udE5hbWUgPSBfYS5mb250TmFtZSwgZm9udFNpemUgPSBfYS5mb250U2l6ZTtcbiAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQml0bWFwRm9udCBcXFwiXCIgKyBmb250TmFtZSArIFwiXFxcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwYWdlIG1lc2ggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnROYW1lID0gZm9udE5hbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgc2l6ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnRTaXplID0gZm9udFNpemUgfHwgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLiAoSW50ZXJuYWxseSB1c2VkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgX3RoaXMuZGlydHkgPSB0cnVlOyB9LCBfdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byBgdHJ1ZWAgaWYgdGhlIEJpdG1hcFRleHQgbmVlZHMgdG8gYmUgcmVkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAgICogaWYgdGhlIEJpdG1hcEZvbnQgaXMgcmVnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udFNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0LmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gaTtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtXaWR0aCA9IGxhc3RMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhclJlbmRlckRhdGEgPSBjaGFyUmVuZGVyRGF0YVBvb2wucG9wKCkgfHwge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuRU1QVFksXG4gICAgICAgICAgICAgICAgbGluZTogMCxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBvaW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEudGV4dHVyZSA9IGNoYXJEYXRhLnRleHR1cmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5saW5lID0gbGluZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi54ID0gcG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgKHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnkgPSBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQ7XG4gICAgICAgICAgICBjaGFycy5wdXNoKGNoYXJSZW5kZXJEYXRhKTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCAoY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0QnJlYWtQb3M7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxpbmU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgcGFnZXNNZXNoRGF0YSA9IHt9O1xuICAgICAgICB2YXIgbmV3UGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICB2YXIgYWN0aXZlUGFnZXNNZXNoRGF0YSA9IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFnZU1lc2hEYXRhUG9vbC5wdXNoKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyc1tpXS50ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlVWlkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS51aWQ7XG4gICAgICAgICAgICBpZiAoIXBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VNZXNoRGF0YVBvb2wucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYWdlTWVzaERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuRU1QVFkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGRhdGEuLlxuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2c0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudG90YWwgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZCB0byBnZXQgcGFnZSB0ZXh0dXJlIGhlcmUgc29tZWhvdy4uXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRpbnQgPSB0aGlzLl90aW50O1xuICAgICAgICAgICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdID0gcGFnZU1lc2hEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0udG90YWwrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGZpbmQgYW55IHByZXZpb3VzbHkgYWN0aXZlIHBhZ2VNZXNoRGF0YXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlcXVpcmVkIGZvclxuICAgICAgICAvLyB0aGUgdXBkYXRlZCB0ZXh0IChpZiBhbnkpLCByZW1vdmVkIGFuZCByZXR1cm4gdGhlbSB0byB0aGUgcG9vbC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YS5pbmRleE9mKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IGxldHMgYWRkIGFueSBuZXcgbWVzaGVzLCB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGFkZGVkIHRvIHRoaXMgQml0bWFwVGV4dFxuICAgICAgICAvLyB3ZSBvbmx5IGFkZCBpZiBpdHMgbm90IGFscmVhZHkgYSBjaGlsZCBvZiB0aGlzIEJpdG1hcE9iamVjdFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1BhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFjdGl2ZSBwYWdlIG1lc2ggZGF0YXMgYXJlIHNldCB0byBiZSB0aGUgbmV3IHBhZ2VzIGFkZGVkLlxuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gbmV3UGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgIC8vIGxldHMgb25seSBhbGxvY2F0ZSBuZXcgYnVmZmVycyBpZiB3ZSBjYW4gZml0IHRoZSBuZXcgdGV4dCBpbiB0aGUgY3VycmVudCBvbmVzLi5cbiAgICAgICAgICAgIC8vIHVubGVzcyB0aGF0IGlzLCB3ZSB3aWxsIGJlIGJhdGNoaW5nLiBDdXJyZW50bHkgYmF0Y2hpbmcgZG9zZSBub3QgcmVzcGVjdCB0aGUgc2l6ZSBwcm9wZXJ0eSBvZiBtZXNoXG4gICAgICAgICAgICBpZiAoISgoKF9hID0gcGFnZU1lc2hEYXRhLmluZGljZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcyBhIGJ1ZmZlciBtYXliZSBiaWdnZXIgdGhhbiB0aGUgY3VycmVudCB3b3JkLCB3ZSBzZXQgdGhlIHNpemUgb2YgdGhlIG1lc2hNYXRlcmlhbFxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIG51bWJlciBvZiBsZXR0ZXJzIG5lZWRlZFxuICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2guc2l6ZSA9IDYgKiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICB2YXIgeFBvcyA9IChjaGFyLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXIubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgeVBvcyA9IGNoYXIucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2ggPSBwYWdlc01lc2hEYXRhW3RleHR1cmUuYmFzZVRleHR1cmUudWlkXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSB0ZXh0dXJlLl91dnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDBdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDFdID0gMSArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDJdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDNdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDRdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDVdID0gMyArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAwXSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDFdID0geVBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMl0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgM10gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA0XSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA1XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNl0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA3XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDBdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDFdID0gdGV4dHVyZVV2cy55MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDJdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDNdID0gdGV4dHVyZVV2cy55MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDRdID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDVdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDZdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDddID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFggPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXRZID0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS51dnM7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLmluZGljZXM7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGFQb29sLnB1c2goY2hhcnNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhmZmZmZmZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGludCA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaC50aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiYWxpZ25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImZvbnROYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBCaXRtYXBGb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbdmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnROYW1lICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgdG8gZGlzcGxheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhMaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpLmUuIHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBjb252ZXJ0IG9sZCBzdHlsZS5mb250IGNvbnN0cnVjdG9yIHBhcmFtIHRvIGZvbnROYW1lICYgZm9udFNpemUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5fdXBncmFkZVN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGUuZm9udCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZVNwbGl0ID0gc3R5bGUuZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgc3R5bGUuZm9udE5hbWUgPSB2YWx1ZVNwbGl0Lmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gdmFsdWVTcGxpdFswXVxuICAgICAgICAgICAgICAgIDogdmFsdWVTcGxpdC5zbGljZSgxKS5qb2luKCcgJyk7XG4gICAgICAgICAgICBpZiAodmFsdWVTcGxpdC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gcGFyc2VJbnQodmFsdWVTcGxpdFswXSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUuZm9udE5hbWUgPSBzdHlsZS5mb250Lm5hbWU7XG4gICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHR5cGVvZiBzdHlsZS5mb250LnNpemUgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgPyBzdHlsZS5mb250LnNpemVcbiAgICAgICAgICAgICAgICA6IHBhcnNlSW50KHN0eWxlLmZvbnQuc2l6ZSwgMTApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGJpdG1hcCBmb250IHdpdGggZGF0YSBhbmQgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIEJpdG1hcFRleHQucmVnaXN0ZXJGb250ID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQucmVnaXN0ZXJGb250IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuaW5zdGFsbCcpO1xuICAgICAgICByZXR1cm4gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LCBcImZvbnRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbGlzdCBvZiBpbnN0YWxsZWQgZm9udHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5mb250cyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIEJpdG1hcEZvbnQuYXZhaWxhYmxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzID0ge1xuICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgbWF4V2lkdGg6IDAsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBCaXRtYXBGb250TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgLy8gUmVzb3VyY2Ugd2FzIG5vdCByZWNvZ25pc2VkIGFzIGFueSBvZiB0aGUgZXhwZWN0ZWQgZm9udCBkYXRhIGZvcm1hdFxuICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVXJsID0gQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtYXQucGFyc2UocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1twYWdlLm1ldGFkYXRhLnBhZ2VGaWxlXSA9IHBhZ2UudGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBkYXRhLnBhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcEZvbnQuaW5zdGFsbChkYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VGaWxlID0gZGF0YS5wYWdlW2ldLmZpbGU7XG4gICAgICAgICAgICB2YXIgdXJsID0gYmFzZVVybCArIHBhZ2VGaWxlO1xuICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5tZXRhZGF0YS5wYWdlRmlsZSA9IHBhZ2VGaWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKGJpdG1hcFJlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgbG9hZGluZyBvcHRpb25zIGZvciBpbWFnZXNcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbih7IHBhZ2VGaWxlOiBwYWdlRmlsZSB9LCByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZm9sZGVyIHBhdGggZnJvbSBhIHJlc291cmNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyfSBsb2FkZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCA9IGZ1bmN0aW9uIChsb2FkZXIsIHJlc291cmNlKSB7XG4gICAgICAgIHZhciByZXNVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgaWYgKHJlc1VybCA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgcmVzVXJsID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwgJiYgcmVzVXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8gcmVzVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsLmNoYXJBdChsb2FkZXIuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBiYXNlVXJsIGZyb20gcmVzVXJsXG4gICAgICAgIHJlc1VybCA9IHJlc1VybC5yZXBsYWNlKGxvYWRlci5iYXNlVXJsLCAnJyk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIHJlc1VybCBub3csIGl0IG5lZWRzIGEgdHJhaWxpbmcgc2xhc2guIEVuc3VyZSB0aGF0IGl0IGRvZXMgaWYgdGhlIHN0cmluZyBpc24ndCBlbXB0eS5cbiAgICAgICAgaWYgKHJlc1VybCAmJiByZXNVcmwuY2hhckF0KHJlc1VybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNVcmw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIGRpciA9IHVybFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKSAvLyBjb252ZXJ0IHdpbmRvd3Mgbm90YXRpb24gdG8gVU5JWCBub3RhdGlvbiwgVVJMLXNhZmUgYmVjYXVzZSBpdCdzIGEgZm9yYmlkZGVuIGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuICAgICAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgICAgICBpZiAoZGlyID09PSB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcEZvbnRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBCaXRtYXBGb250LCBCaXRtYXBGb250RGF0YSwgQml0bWFwRm9udExvYWRlciwgQml0bWFwVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC1iaXRtYXAuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0VmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWxwaGFGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKGFscGhhKSB7XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMS4wOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbHBoYUZpbHRlci5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1hbHBoYS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWJsdXIgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWJsdXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkudG9TdHJpbmcoKSk7XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArIFwiLjBcIik7XG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgdmFsdWUgPSBpO1xuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gY2xlYXIgcmVuZGVyVGV4dHVyZXMgaW4gZmlsdGVyXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gUHJlc2VydmUgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB0ZXh0dXJlLCBibGVuZCBhYm92ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gTXVzdCB1c2UgYGdsLmNsZWFyYCBvcGVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb3IgYmxpdCBpdCwgZGVwZW5kcyBvbiBkZXZpY2UgYW5kIGxldmVsIG9mIHBhcmFub2lhXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsdXJGaWx0ZXJQYXNzLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlclBhc3MoaG9yaXpvbnRhbCwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgaWYgKHN0cmVuZ3RoID09PSB2b2lkIDApIHsgc3RyZW5ndGggPSA4OyB9XG4gICAgICAgIGlmIChxdWFsaXR5ID09PSB2b2lkIDApIHsgcXVhbGl0eSA9IDQ7IH1cbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsIFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIGlmIChvdXRwdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQud2lkdGgpICogKG91dHB1dC53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoKSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNjcmVlbiBzcGFjZSFcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzO1xuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmJpbmRBbmRDbGVhcihmbGlwLCBDTEVBUl9NT0RFUy5CTElUKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbG9wLCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJibHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyUGFzcztcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbHVyRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OOyB9XG4gICAgICAgIGlmIChrZXJuZWxTaXplID09PSB2b2lkIDApIHsga2VybmVsU2l6ZSA9IDU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYmx1clhGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3ModHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyhmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHk7XG4gICAgICAgIF90aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICAgICAgX3RoaXMucmVwZWF0RWRnZVBpeGVscyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gSG93IHRvIGNsZWFyXG4gICAgICovXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICAgICAgdmFyIHlTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLnVwZGF0ZVBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJYXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmx1cllcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJZIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcInJlcGVhdEVkZ2VQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUgdGhlIGVkZ2Ugb2YgdGhlIHRhcmdldCB3aWxsIGJlIGNsYW1wZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ibHVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0RmlsdGVyVmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBDb2xvck1hdHJpeEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29sb3JNYXRyaXhGaWx0ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIG06IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDEsIDBdKSxcbiAgICAgICAgICAgIHVBbHBoYTogMSxcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGN1cnJlbnQgbWF0cml4IGFuZCBzZXQgdGhlIG5ldyBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2xvYWRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCBtdWx0aXBseSkge1xuICAgICAgICBpZiAobXVsdGlwbHkgPT09IHZvaWQgMCkgeyBtdWx0aXBseSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIGlmIChtdWx0aXBseSkge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB0aGUgbmV3IG1hdHJpeFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSBuZXdNYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uIChvdXQsIGEsIGIpIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuICAgICAgICAvLyBHcmVlbiBDaGFubmVsXG4gICAgICAgIG91dFs1XSA9IChhWzVdICogYlswXSkgKyAoYVs2XSAqIGJbNV0pICsgKGFbN10gKiBiWzEwXSkgKyAoYVs4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzZdID0gKGFbNV0gKiBiWzFdKSArIChhWzZdICogYls2XSkgKyAoYVs3XSAqIGJbMTFdKSArIChhWzhdICogYlsxNl0pO1xuICAgICAgICBvdXRbN10gPSAoYVs1XSAqIGJbMl0pICsgKGFbNl0gKiBiWzddKSArIChhWzddICogYlsxMl0pICsgKGFbOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFs4XSA9IChhWzVdICogYlszXSkgKyAoYVs2XSAqIGJbOF0pICsgKGFbN10gKiBiWzEzXSkgKyAoYVs4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzldID0gKGFbNV0gKiBiWzRdKSArIChhWzZdICogYls5XSkgKyAoYVs3XSAqIGJbMTRdKSArIChhWzhdICogYlsxOV0pICsgYVs5XTtcbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSAoYVsxMF0gKiBiWzBdKSArIChhWzExXSAqIGJbNV0pICsgKGFbMTJdICogYlsxMF0pICsgKGFbMTNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTFdID0gKGFbMTBdICogYlsxXSkgKyAoYVsxMV0gKiBiWzZdKSArIChhWzEyXSAqIGJbMTFdKSArIChhWzEzXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzEyXSA9IChhWzEwXSAqIGJbMl0pICsgKGFbMTFdICogYls3XSkgKyAoYVsxMl0gKiBiWzEyXSkgKyAoYVsxM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxM10gPSAoYVsxMF0gKiBiWzNdKSArIChhWzExXSAqIGJbOF0pICsgKGFbMTJdICogYlsxM10pICsgKGFbMTNdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTRdID0gKGFbMTBdICogYls0XSkgKyAoYVsxMV0gKiBiWzldKSArIChhWzEyXSAqIGJbMTRdKSArIChhWzEzXSAqIGJbMTldKSArIGFbMTRdO1xuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IDV4NCBtYXRyaXggd2l0aCBhbGwgdmFsdWVzIGJldHdlZW4gMC0xXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9jb2xvck1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAgICB2YXIgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIChiLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYiwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIGIsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCBiLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gKHNjYWxlLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBibGFjayBhbmQgd2hpdGUgbWF0cmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ibGFja0FuZFdoaXRlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gKHJvdGF0aW9uLCBtdWx0aXBseSkge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgIHZhciBjb3NSID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgICAgICB2YXIgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNxcnQgPSBNYXRoLnNxcnQ7XG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuXG4gICAgICAgICBUaGlzIG5ldyBtYXRyaXggaXMgYmFzZWQgb24gcmdiIGN1YmUgcm90YXRpb24gaW4gc3BhY2UuIExvb2sgaGVyZSBmb3IgYSBtb3JlIGRlc2NyaXB0aXZlXG4gICAgICAgICBpbXBsZW1lbnRhdGlvbiBhcyBhIHNoYWRlciBub3QgYSBnZW5lcmFsIG1hdHJpeDpcbiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvNTg4NDFjMjM5MTliZDU5Nzg3ZWZmYzAzMzNhNDg5N2I0MzgzNTQxMi9zcmMvZmlsdGVycy9hZGp1c3QvaHVlc2F0dXJhdGlvbi5qc1xuXG4gICAgICAgICBUaGlzIGlzIHRoZSBzb3VyY2UgZm9yIHRoZSBjb2RlOlxuICAgICAgICAgc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODUwNzg4NS9zaGlmdC1odWUtb2YtYW4tcmdiLWNvbG9yLzg1MTA3NTEjODUxMDc1MVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcbiAgICAgICAgdmFyIGEwMCA9IGNvc1IgKyAoKDEuMCAtIGNvc1IpICogdyk7XG4gICAgICAgIHZhciBhMDEgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTAyID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMCA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMTEgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgYTEyID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjEgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGEwMCwgYTAxLCBhMDIsIDAsIDAsXG4gICAgICAgICAgICBhMTAsIGExMSwgYTEyLCAwLCAwLFxuICAgICAgICAgICAgYTIwLCBhMjEsIGEyMiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnRyYXN0ID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHYsIDAsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCB2LCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgdiwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbXVsdGlwbHldIC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMDsgfVxuICAgICAgICB2YXIgeCA9IChhbW91bnQgKiAyIC8gMykgKyAxO1xuICAgICAgICB2YXIgeSA9ICgoeCAtIDEpICogLTAuNSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAtMSwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIC0xLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgLTEsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNlcGlhID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xvciBtb3Rpb24gcGljdHVyZSBwcm9jZXNzIGludmVudGVkIGluIDE5MTYgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudGVjaG5pY29sb3IgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNyxcbiAgICAgICAgICAgIC0wLjMwODc4MzMzODU5MjgwOTcsIDEuNzY1ODkwODU1NTQ1ODQyOCwgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsIDAsIC03MC4zNTIwNTE2MTQ2MTM5OCxcbiAgICAgICAgICAgIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50b0JHUiA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sb3IgcmV2ZXJzYWwgZmlsbSBpbnRyb2R1Y2VkIGJ5IEVhc3RtYW4gS29kYWsgaW4gMTkzNS4gKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUua29kYWNocm9tZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS4xMjg1NTgyMzk2NTkzNTI1LCAtMC4zOTY3MzgyMjgzNjAxMzQ4LCAtMC4wMzk5MjU1OTE3MjkyMTc5MywgMCwgNjMuNzI5NTg3NjIxOTY1MDIsXG4gICAgICAgICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLFxuICAgICAgICAgICAgLTAuMTY3ODYwMTA3MDYxNTU3NjMsIC0wLjU2MDM0MTYyNzc2OTUyNDgsIDEuNjAxNDg1MDc2MTk2NDk0MywgMCwgMzUuNjI5ODI4MDc0NjA5NDYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsXG4gICAgICAgICAgICAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnZpbnRhZ2UgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsXG4gICAgICAgICAgICAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLFxuICAgICAgICAgICAgMC4wNDY2MDU1NTU2NzgyNzE5LCAtMC4wODUxMjMyOTg3MjQ3ODkxLCAwLjUyNDE2NDgwMTg3MDA0NjUsIDAsIDUuMTU5MTkwNTg4MjM1Mjk2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb2xvclRvbmUgPSBmdW5jdGlvbiAoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSkge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG4gICAgICAgIHZhciBsUiA9ICgobGlnaHRDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxHID0gKChsaWdodENvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsQiA9IChsaWdodENvbG9yICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkUiA9ICgoZGFya0NvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEcgPSAoKGRhcmtDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNTksIDAuMTEsIDAsIDAsXG4gICAgICAgICAgICBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsXG4gICAgICAgICAgICBkUiwgZEcsIGRCLCB0b25lZCwgMCxcbiAgICAgICAgICAgIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmlnaHQgPSBmdW5jdGlvbiAoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgaW50ZW5zaXR5ICogKC0yLjApLCAtaW50ZW5zaXR5LCAwLCAwLCAwLFxuICAgICAgICAgICAgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLFxuICAgICAgICAgICAgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubHNkID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAyLCAtMC40LCAwLjUsIDAsIDAsXG4gICAgICAgICAgICAtMC41LCAyLCAtMC40LCAwLCAwLFxuICAgICAgICAgICAgLTAuNCwgLTAuNSwgMywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIHRoZSBkZWZhdWx0IG9uZVxuICAgICAqXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSwgXCJtYXRyaXhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMCwgdGhlIG9yaWdpbmFsIGNvbG9yIGlzIHVzZWQgd2l0aG91dCBtb2RpZmljYXRpb24uXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgICAgICogV2hlbiBpbiB0aGUgcmFuZ2UgKDAsIDEpIHRoZSBjb2xvciBpcyBpbnRlcnBvbGF0ZWQgYmV0d2VlbiB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdCBieSB0aGlzIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29sb3JNYXRyaXhGaWx0ZXI7XG59KEZpbHRlcikpO1xuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcblxuZXhwb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1jb2xvci1tYXRyaXguZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG51bmlmb3JtIG1hdDIgcm90YXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSA9IHNjYWxlICogaW5wdXRTaXplLnp3ICogKHJvdGF0aW9uICogbWFwLnh5KTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSk7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG5cXHRnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcblxcdHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggdlRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIERpc3BsYWNlbWVudEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGlzcGxhY2VtZW50RmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIChtYWtlIHN1cmUgaXRzIGFkZGVkIHRvIHRoZSBzY2VuZSEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZV0gLSBUaGUgc2NhbGUgb2YgdGhlIGRpc3BsYWNlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogc2NhbGVYLCBzY2FsZVkgZm9yIGRpc3BsYWNlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IFBvaW50KHNjYWxlLCBzY2FsZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBjbGVhck1vZGUuXG4gICAgICovXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgLy8gZmlsbCBtYXNrTWF0cml4IHdpdGggX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzX1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG4gICAgICAgIC8vIEV4dHJhY3Qgcm90YXRpb24gZnJvbSB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy5tYXNrU3ByaXRlLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIHZhciBsZW5ZID0gTWF0aC5zcXJ0KCh3dC5jICogd3QuYykgKyAod3QuZCAqIHd0LmQpKTtcbiAgICAgICAgaWYgKGxlblggIT09IDAgJiYgbGVuWSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblswXSA9IHd0LmEgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsxXSA9IHd0LmIgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsyXSA9IHd0LmMgLyBsZW5ZO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblszXSA9IHd0LmQgLyBsZW5ZO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSwgXCJtYXBcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEaXNwbGFjZW1lbnRGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1meGFhIC0gdjUuMy4wXG4gKiBDb21waWxlZCBUaHUsIDE4IEp1biAyMDIwIDIzOjI3OjQwIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1meGFhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdmVydGV4ID0gXCJcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRQaXhlbDtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgdkZyYWdDb29yZCA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG91dHB1dEZyYW1lLnp3O1xcblxcbiAgIHRleGNvb3Jkcyh2RnJhZ0Nvb3JkLCBpbnB1dFBpeGVsLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFBpeGVsO1xcblxcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG5cXG4gLS1cXG5cXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG5cXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcblxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG5cXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG5cXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcXFwiQVMgSVNcXFwiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcblxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG5cXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG5cXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG5cXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgdkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQmFzaWMgRlhBQSAoRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nKSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbVxuICogd2l0aCB0aGUgbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCBpcyB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xudmFyIEZYQUFGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZYQUFGaWx0ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpIHtcbiAgICAgICAgLy8gVE9ETyAtIG5lZWRzIHdvcmtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBGWEFBRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgRlhBQUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWZ4YWEuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0RmlsdGVyVmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9pc2VGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtub2lzZT0wLjVdIC0gVGhlIG5vaXNlIGludGVuc2l0eSwgc2hvdWxkIGJlIGEgbm9ybWFsaXplZCB2YWx1ZSBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2VlZF0gLSBBIHJhbmRvbSBzZWVkIGZvciB0aGUgbm9pc2UgZ2VuZXJhdGlvbi4gRGVmYXVsdCBpcyBgTWF0aC5yYW5kb20oKWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIobm9pc2UsIHNlZWQpIHtcbiAgICAgICAgaWYgKG5vaXNlID09PSB2b2lkIDApIHsgbm9pc2UgPSAwLjU7IH1cbiAgICAgICAgaWYgKHNlZWQgPT09IHZvaWQgMCkgeyBzZWVkID0gTWF0aC5yYW5kb20oKTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vaXNlID0gbm9pc2U7XG4gICAgICAgIF90aGlzLnNlZWQgPSBzZWVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2lzZUZpbHRlci5wcm90b3R5cGUsIFwibm9pc2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBub2lzZSB0byBhcHBseSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlICgwLCAxXS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudU5vaXNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2lzZUZpbHRlci5wcm90b3R5cGUsIFwic2VlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNlZWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOb2lzZUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IE5vaXNlRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItbm9pc2UuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciBfdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwID0gZmFsc2U7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVEYXRhID0gbnVsbDtcbi8vIGZpZ3VyZWQgdGhlcmUncyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xudmFyIENhY2hlRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZURhdGEoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBDYWNoZURhdGE7XG59KCkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYFxuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIE1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwID0gdmFsdWU7XG4gICAgICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyID0gdGhpcy5yZW5kZXI7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gdGhpcy5jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNwcml0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IGRhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZChyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyKHJlbmRlcmVyKTtcbn07XG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKS5jbG9uZSgpO1xuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycykge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSBXZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdhbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIHZhciBjYWNoZWRTb3VyY2VGcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUuY2xvbmUoKTtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgLy8gY29uc3Qgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyB1aWQoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG4gICAgLy8gcmVzZXRcbiAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5pZGVudGl0eSgpO1xuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lKTtcbiAgICAvLyByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrID0gc3RhY2s7XG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIENhbnZhc1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5kaXNhYmxlVGVtcFBhcmVudChudWxsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIFdlYkdMIHZlcnNpb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgdmFyIGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5fcHJvalRyYW5zZm9ybTtcbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IGJvdW5kcy53aWR0aCwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArIHVpZCgpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhtKTtcbiAgICBtLmludmVydCgpO1xuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuICAgIHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgV2ViR0xcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKG51bGwpO1xufTtcbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBDYWNoZURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWNhY2hlLWFzLWJpdG1hcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXIuXG4gKlxuICogUmVjdXJzaXZlIHNlYXJjaGVzIGFyZSBkb25lIGluIGEgcHJlb3JkZXIgdHJhdmVyc2FsLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn1bZGVlcD1mYWxzZV0gLSBXaGV0aGVyIHRvIHNlYXJjaCByZWN1cnNpdmVseVxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lLCBkZWVwKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVlcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKCFjaGlsZC5nZXRDaGlsZEJ5TmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuY2hpbGRyZW5baV0uZ2V0Q2hpbGRCeU5hbWUobmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnQ9bmV3IFBJWEkuUG9pbnQoKV0gLSBUaGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50LlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgaWYgKHBvaW50ID09PSB2b2lkIDApIHsgcG9pbnQgPSBuZXcgUG9pbnQoKTsgfVxuICAgIGlmIChza2lwVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcFVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsLCBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBQbGFuZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQbGFuZUdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBsYW5lR2VvbWV0cnkod2lkdGgsIGhlaWdodCwgc2VnV2lkdGgsIHNlZ0hlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDEwMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMTAwOyB9XG4gICAgICAgIGlmIChzZWdXaWR0aCA9PT0gdm9pZCAwKSB7IHNlZ1dpZHRoID0gMTA7IH1cbiAgICAgICAgaWYgKHNlZ0hlaWdodCA9PT0gdm9pZCAwKSB7IHNlZ0hlaWdodCA9IDEwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlZ1dpZHRoID0gc2VnV2lkdGg7XG4gICAgICAgIF90aGlzLnNlZ0hlaWdodCA9IHNlZ0hlaWdodDtcbiAgICAgICAgX3RoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBwbGFuZSBjb29yZGluYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMuc2VnV2lkdGggKiB0aGlzLnNlZ0hlaWdodDtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciB1dnMgPSBbXTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICB2YXIgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuICAgICAgICB2YXIgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIHZhciBzaXplWSA9ICh0aGlzLmhlaWdodCkgLyBzZWdtZW50c1k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSAoaSAlIHRoaXMuc2VnV2lkdGgpO1xuICAgICAgICAgICAgdmFyIHkgPSAoKGkgLyB0aGlzLnNlZ1dpZHRoKSB8IDApO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTdWI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHhwb3MgPSBpICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSAoaSAvIHNlZ21lbnRzWCkgfCAwO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgdmFyIHZhbHVlMyA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlNCA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMsIHZhbHVlMiwgdmFsdWU0LCB2YWx1ZTMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBQbGFuZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgUm9wZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSb3BlR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0yMDBdIC0gVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBbcG9pbnRzXSAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZXh0dXJlU2NhbGU9MF0gLSBCeSBkZWZhdWx0IHRoZSByb3BlIHRleHR1cmUgd2lsbCBiZSBzdHJldGNoZWQgdG8gbWF0Y2hcbiAgICAgKiAgICAgcm9wZSBsZW5ndGguIElmIHRleHR1cmVTY2FsZSBpcyBwb3NpdGl2ZSB0aGlzIHZhbHVlIHdpbGwgYmUgdHJlYXRlZCBhcyBhIHNjYWxpbmdcbiAgICAgKiAgICAgZmFjdG9yIGFuZCB0aGUgdGV4dHVyZSB3aWxsIHByZXNlcnZlIGl0cyBhc3BlY3QgcmF0aW8gaW5zdGVhZC4gVG8gY3JlYXRlIGEgdGlsaW5nIHJvcGVcbiAgICAgKiAgICAgc2V0IGJhc2VUZXh0dXJlLndyYXBNb2RlIHRvIHtAbGluayBQSVhJLldSQVBfTU9ERVMuUkVQRUFUfSBhbmQgdXNlIGEgcG93ZXIgb2YgdHdvIHRleHR1cmUsXG4gICAgICogICAgIHRoZW4gc2V0IHRleHR1cmVTY2FsZT0xIHRvIGtlZXAgdGhlIG9yaWdpbmFsIHRleHR1cmUgcGl4ZWwgc2l6ZS5cbiAgICAgKiAgICAgSW4gb3JkZXIgdG8gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIHByb3ZpZGUgYSBsYXJnZXIgdGV4dHVyZSBhbmQgZG93bnNhbXBsZSAtXG4gICAgICogICAgIGkuZS4gc2V0IHRleHR1cmVTY2FsZT0wLjUgdG8gc2NhbGUgaXQgZG93biB0d2ljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3BlR2VvbWV0cnkod2lkdGgsIHBvaW50cywgdGV4dHVyZVNjYWxlKSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMjAwOyB9XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlU2NhbGUgPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSwgbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0aGF0IGRldGVybWluZSB0aGUgcm9wZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvcGUgdGV4dHVyZSBzY2FsZSwgaWYgemVybyB0aGVuIHRoZSByb3BlIHRleHR1cmUgaXMgc3RyZXRjaGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZVNjYWxlID0gdGV4dHVyZVNjYWxlO1xuICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3BlR2VvbWV0cnkucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIFJvcGUgaW5kaWNlcyBhbmQgdXZzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGlmICghcG9pbnRzKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgdmFyIHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlci5kYXRhLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB1dkJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXZzID0gdXZCdWZmZXIuZGF0YTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuICAgICAgICB2YXIgYW1vdW50ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciB0ZXh0dXJlV2lkdGggPSB0aGlzLl93aWR0aCAqIHRoaXMudGV4dHVyZVNjYWxlO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoOyAvLyAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcGl4ZWwgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHByZXYueCAtIHBvaW50c1tpXS54O1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHByZXYueSAtIHBvaW50c1tpXS55O1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICAgICAgICAgIHByZXYgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgYW1vdW50ICs9IGRpc3RhbmNlIC8gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyZXRjaCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleENvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMztcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdXZCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50O1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMudGV4dHVyZVNjYWxlID4gMCA/IHRoaXMudGV4dHVyZVNjYWxlICogdGhpcy5fd2lkdGggLyAyIDogdGhpcy5fd2lkdGggLyAyO1xuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgfTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5idWlsZCgpOyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBVVnNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJvcGVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUm9wZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlUm9wZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHR1cmVTY2FsZT0wXSAtIE9wdGlvbmFsLiBQb3NpdGl2ZSB2YWx1ZXMgc2NhbGUgcm9wZSB0ZXh0dXJlXG4gICAgICoga2VlcGluZyBpdHMgYXNwZWN0IHJhdGlvLiBZb3UgY2FuIHJlZHVjZSBhbHBoYSBjaGFubmVsIGFydGlmYWN0cyBieSBwcm92aWRpbmcgYSBsYXJnZXIgdGV4dHVyZVxuICAgICAqIGFuZCBkb3duc2FtcGxpbmcgaGVyZS4gSWYgc2V0IHRvIHplcm8sIHRleHR1cmUgd2lsbCBiZSBzdHJlY2hlZCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVJvcGUodGV4dHVyZSwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cywgdGV4dHVyZVNjYWxlKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHNldCBVViB3cmFwcGluZywgd2lsbCBmYWlsIG9uIG5vbi1wb3dlciBvZiB0d28gdGV4dHVyZXNcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvcGVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogcmUtY2FsY3VsYXRlIHZlcnRpY2VzIGJ5IHJvcGUgcG9pbnRzIGVhY2ggZnJhbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSB8fCBnZW9tZXRyeS5fd2lkdGggIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5fd2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdlb21ldHJ5LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVSb3BlO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFBsYW5lR2VvbWV0cnkodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgZm9yIG92ZXJyaWRlcywgdG8gZG8gc29tZXRoaW5nIGluIGNhc2UgdGV4dHVyZSBmcmFtZSB3YXMgY2hhbmdlZC5cbiAgICAgKiBNZXNoZXMgYmFzZWQgb24gcGxhbmUgY2FuIG92ZXJyaWRlIGl0IGFuZCBjaGFuZ2UgbW9yZSBkZXRhaWxzIGJhc2VkIG9uIHRleHR1cmUuXG4gICAgICovXG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgICBnZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgZ2VvbWV0cnkuYnVpbGQoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVQbGFuZS5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcmFjayB0ZXh0dXJlIHNhbWUgd2F5IHNwcml0ZSBkb2VzLlxuICAgICAgICAgICAgLy8gRm9yIGdlbmVyYXRlZCBtZXNoZXMgbGlrZSBOaW5lU2xpY2VQbGFuZSBpdCBjYW4gY2hhbmdlIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoaXMgbWV0aG9kIG1pZ2h0IG5vdCB3b3JrIGlmIHlvdSBkaXJlY3RseSBjaGFuZ2UgdGV4dHVyZSBpbiBtYXRlcmlhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVQbGFuZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGUgTWVzaCBjbGFzcyBtaW1pY3MgTWVzaCBpbiBQaXhpSlMgdjQsIHByb3ZpZGluZyBlYXN5LXRvLXVzZSBjb25zdHJ1Y3RvciBhcmd1bWVudHMuXG4gKiBGb3IgbW9yZSByb2J1c3QgY3VzdG9taXphdGlvbiwgdXNlIHtAbGluayBQSVhJLk1lc2h9LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2ltcGxlTWVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlTWVzaCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9VGV4dHVyZS5FTVBUWV0gLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgICAgICBpZiAodGV4dHVyZSA9PT0gdm9pZCAwKSB7IHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kaWNlcyk7XG4gICAgICAgIGdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuc3RhdGljID0gZmFsc2U7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXBsb2FkIHZlcnRpY2VzIGJ1ZmZlciBlYWNoIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlTWVzaC5wcm90b3R5cGUsIFwidmVydGljZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiB2ZXJ0aWNlcyBkYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlTWVzaDtcbn0oTWVzaCkpO1xuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2ltcGxlUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgTmluZVNsaWNlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5pbmVTbGljZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlZnRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSB0b3AgaG9yaXpvbnRhbCBiYXIgKEMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyaWdodFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbUhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBpZiAobGVmdFdpZHRoID09PSB2b2lkIDApIHsgbGVmdFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAodG9wSGVpZ2h0ID09PSB2b2lkIDApIHsgdG9wSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAocmlnaHRXaWR0aCA9PT0gdm9pZCAwKSB7IHJpZ2h0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmIChib3R0b21IZWlnaHQgPT09IHZvaWQgMCkgeyBib3R0b21IZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFRleHR1cmUuV0hJVEUsIDQsIDQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIF90aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gX3RoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5fb3JpZ0hlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sZWZ0V2lkdGggPSBsZWZ0V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JpZ2h0V2lkdGggPSByaWdodFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RvcEhlaWdodCA9IHRvcEhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cgKGQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3R0b21IZWlnaHQgPSBib3R0b21IZWlnaHQ7XG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInZlcnRpY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVIb3Jpem9udGFsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzE3XSA9IHZlcnRpY2VzWzE5XSA9IHZlcnRpY2VzWzIxXSA9IHZlcnRpY2VzWzIzXSA9IHRoaXMuX2hlaWdodCAtICh0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSAodGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNtYWxsZXIgb2YgYSBzZXQgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUgb2YgbmluZSBzbGljZSBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTbWFsbGVyIG51bWJlciBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fZ2V0TWluU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmFyIHNjYWxlVyA9IHRoaXMuX3dpZHRoID4gdyA/IDEuMCA6IHRoaXMuX3dpZHRoIC8gdztcbiAgICAgICAgdmFyIGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZhciBzY2FsZUggPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcbiAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpO1xuICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJsZWZ0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwicmlnaHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ0b3BIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwiYm90dG9tSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICB2YXIgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShTaW1wbGVQbGFuZSkpO1xuXG5leHBvcnQgeyBOaW5lU2xpY2VQbGFuZSwgUGxhbmVHZW9tZXRyeSwgUm9wZUdlb21ldHJ5LCBTaW1wbGVNZXNoLCBTaW1wbGVQbGFuZSwgU2ltcGxlUm9wZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC1leHRyYXMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCAtIHY1LjMuMFxuICogQ29tcGlsZWQgVGh1LCAxOCBKdW4gMjAyMCAyMzoyNzo0MCBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImltYWdlX3NlcXVlbmNlXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFuaW1hdGVkU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5BbmltYXRlZFNwcml0ZS5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSkge1xuICAgICAgICBpZiAoYXV0b1VwZGF0ZSA9PT0gdm9pZCAwKSB7IGF1dG9VcGRhdGUgPSB0cnVlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb29wID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbmNob3IgdG8gW1RleHR1cmUncyBkZWZhdWx0QW5jaG9yXXtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gd2hlbiBmcmFtZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2VmdWwgd2l0aCBbc3ByaXRlIHNoZWV0IGFuaW1hdGlvbnNde0BsaW5rIFBJWEkuU3ByaXRlc2hlZXQjYW5pbWF0aW9uc30gY3JlYXRlZCB3aXRoIHRvb2xzLlxuICAgICAgICAgKiBDaGFuZ2luZyBhbmNob3IgZm9yIGVhY2ggZnJhbWUgYWxsb3dzIHRvIHBpbiBzcHJpdGUgb3JpZ2luIHRvIGNlcnRhaW4gbW92aW5nIGZlYXR1cmVcbiAgICAgICAgICogb2YgdGhlIGZyYW1lIChlLmcuIGxlZnQgZm9vdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEVuYWJsaW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgcHJldmlvdXNseSBzZXQgYGFuY2hvcmAgb24gZWFjaCBmcmFtZSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVBbmNob3IgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBmaW5pc2hlcyBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgX3RoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIGluZGV4IHRoYXQgd2FzIGRpc3BsYXllZCBsYXN0IHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICBfdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RvcCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiAoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuICAgICAgICAgICAgd2hpbGUgKGxhZyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgd2hpbGUgKGxhZyA+PSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdKSB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzRnJhbWUgPT09IGN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1tjdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7UElYSS5BbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gKGZyYW1lcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIChpbWFnZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidG90YWxGcmFtZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidGV4dHVyZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJjdXJyZW50RnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwicGxheWluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImF1dG9VcGRhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KFNwcml0ZSkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BbmltYXRlZFNwcml0ZVxuICogQHR5cGVkZWYge29iamVjdH0gRnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbmV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtYW5pbWF0ZWQuZXMuanMubWFwXG4iLCIvKiFcbiAqIHBpeGkuanMgLSB2NS4zLjBcbiAqIENvbXBpbGVkIFRodSwgMTggSnVuIDIwMjAgMjM6Mjc6NDAgVVRDXG4gKlxuICogcGl4aS5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCAnQHBpeGkvcG9seWZpbGwnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5leHBvcnQgeyB1dGlscyB9O1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VyIH0gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmltcG9ydCB7IFJlbmRlcmVyLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuaW1wb3J0IHsgTG9hZGVyLCBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHsgUGFydGljbGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuaW1wb3J0IHsgUHJlcGFyZSB9IGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgeyBTcHJpdGVzaGVldExvYWRlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmltcG9ydCB7IFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIgfSBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5pbXBvcnQgeyBUaWNrZXJQbHVnaW4gfSBmcm9tICdAcGl4aS90aWNrZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IEFscGhhRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWFscGhhJztcbmltcG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWJsdXInO1xuaW1wb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4JztcbmltcG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQnO1xuaW1wb3J0IHsgRlhBQUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1meGFhJztcbmltcG9ydCB7IE5vaXNlRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLW5vaXNlJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21hdGgnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoLWV4dHJhcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ydW5uZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB2NSA9ICc1LjAuMCc7XG4vKipcbiAqIERlcHJlY2F0aW9ucyAoYmFja3dhcmQgY29tcGF0aWJpbGl0aWVzKSBhcmUgYXV0b21hdGljYWxseSBhcHBsaWVkIGZvciBicm93c2VyIGJ1bmRsZXNcbiAqIGluIHRoZSBVTUQgbW9kdWxlIGZvcm1hdC4gSWYgdXNpbmcgV2VicGFjayBvciBSb2xsdXAsIHlvdSdsbCBuZWVkIHRvIGFwcGx5IHRoZXNlXG4gKiBkZXByZWNhdGlvbnMgbWFudWFsbHkgYnkgZG9pbmcgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuICogUElYSS51c2VEZXByZWNhdGVkKCk7IC8vIE1VU1QgYmUgYm91bmQgdG8gbmFtZXNwYWNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHVzZURlcHJlY2F0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIHVzZURlcHJlY2F0ZWQoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgdmFyIFBJWEkgPSB0aGlzO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1ZHX1NJWkU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5TVkdfU0laRSBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5TVkdfU0laRTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1TdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtU3RhdGljOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtU3RhdGljIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1CYXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybUJhc2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1CYXNlIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IHRoZSB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQGVudW0ge251bWJlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgU1RBVElDOiAwLCBEWU5BTUlDOiAxIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuV2ViR0xSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFdlYkdMUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5XZWJHTFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1JlbmRlclRhcmdldDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNhbnZhc1JlbmRlclRhcmdldCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQG5hbWUgbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlci5zaGFyZWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGxvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlciBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXIuc2hhcmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5GaWx0ZXJNYW5hZ2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRmlsdGVyTWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5jYW52YXNVdGlsc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzVGludGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5DYW52YXNUaW50ZXIgbmFtZXNwYWNlIGhhcyBtb3ZlZCB0byBQSVhJLmNhbnZhc1V0aWxzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuY2FudmFzVXRpbHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJLkdyb3VwRDhcbiAgICAgICAgICogQHNlZSBQSVhJLmdyb3VwRDhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEdyb3VwRDg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkdyb3VwRDggbmFtZXNwYWNlIGhhcyBtb3ZlZCB0byBQSVhJLmdyb3VwRDgnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5ncm91cEQ4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuYWNjZXNzaWJpbGl0eVxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgUElYSS5hY2Nlc3NpYmlsaXR5ID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5hY2Nlc3NpYmlsaXR5LCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzZWUgUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlclxuICAgICAgICAgKi9cbiAgICAgICAgQWNjZXNzaWJpbGl0eU1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXIgbW92ZWQgdG8gUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuaW50ZXJhY3Rpb25cbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIFBJWEkuaW50ZXJhY3Rpb24gPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmludGVyYWN0aW9uLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uTWFuYWdlclxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5hY2Nlc3NpYmlsaXR5LkludGVyYWN0aW9uTWFuYWdlciBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uTWFuYWdlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uTWFuYWdlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25EYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5hY2Nlc3NpYmlsaXR5LkludGVyYWN0aW9uRGF0YSBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uRGF0YScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzZWUgUElYSS5JbnRlcmFjdGlvbkV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBJbnRlcmFjdGlvbkV2ZW50OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5hY2Nlc3NpYmlsaXR5LkludGVyYWN0aW9uRXZlbnQgbW92ZWQgdG8gUElYSS5JbnRlcmFjdGlvbkV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuSW50ZXJhY3Rpb25FdmVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnByZXBhcmVcbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAqL1xuICAgIFBJWEkucHJlcGFyZSA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucHJlcGFyZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVByZXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIEJhc2VQcmVwYXJlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlIG1vdmVkIHRvIFBJWEkuQmFzZVByZXBhcmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CYXNlUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLlByZXBhcmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLlByZXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIFByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLnByZXBhcmUuUHJlcGFyZSBtb3ZlZCB0byBQSVhJLlByZXBhcmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QcmVwYXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUHJlcGFyZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlIG1vdmVkIHRvIFBJWEkuQ2FudmFzUHJlcGFyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc1ByZXBhcmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYWN0XG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhY3QgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhY3QsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgRXh0cmFjdDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkuZXh0cmFjdC5FeHRyYWN0IG1vdmVkIHRvIFBJWEkuRXh0cmFjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkV4dHJhY3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNFeHRyYWN0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3QgbW92ZWQgdG8gUElYSS5DYW52YXNFeHRyYWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzRXh0cmFjdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gQWxsIGNsYXNzZXMgcHJldmlvdXMgbmVzdGVkXG4gICAgICogdW5kZXIgdGhpcyBuYW1lc3BhY2UgaGF2ZSBiZWVuIG1vdmVkIHRvIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhcyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuZXh0cmFzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQW5pbWF0ZWRTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQW5pbWF0ZWRTcHJpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBUZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGUuZnJvbVxuICAgICAqL1xuICAgIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbUZyYW1lIGlzIGRlcHJlY2F0ZWQsIHVzZSBUaWxpbmdTcHJpdGUuZnJvbScpO1xuICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGUuZnJvbShmcmFtZUlkLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGUuZnJvbVxuICAgICAqL1xuICAgIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbUltYWdlIGlzIGRlcHJlY2F0ZWQsIHVzZSBUaWxpbmdTcHJpdGUuZnJvbScpO1xuICAgICAgICAvLyBGYWxsYmFjayBzdXBwb3J0IGZvciBjcm9zc29yaWdpbiwgc2NhbGVNb2RlIHBhcmFtZXRlcnNcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tKGltYWdlSWQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS51dGlscywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkudXRpbHMuZ2V0U3ZnU2l6ZVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFN2Z1NpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5nZXRTdmdTaXplIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubWVzaFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5tZXNoID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5tZXNoLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZU1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlTWVzaCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZU1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE5pbmVTbGljZVBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5OaW5lU2xpY2VQbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5OaW5lU2xpY2VQbGFuZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk5pbmVTbGljZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQbGFuZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUGxhbmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJvcGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUm9wZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVJvcGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5SYXdNZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSYXdNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5SYXdNZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2gnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc01lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkucGFydGljbGVzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnBhcnRpY2xlcyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucGFydGljbGVzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlQ29udGFpbmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudGlja2VyLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS50aWNrZXIuVGlja2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXJcbiAgICAgICAgICovXG4gICAgICAgIFRpY2tlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5UaWNrZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICBzaGFyZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubG9hZGVycyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubG9hZGVycywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuUmVzb3VyY2VcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuUmVzb3VyY2UgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyUmVzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXJSZXNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBiaXRtYXBGb250UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZUJpdG1hcEZvbnREYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhIGZ1bmN0aW9uIGhhcyByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzcHJpdGVzaGVldFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlc291cmNlUGF0aDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmVcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtaWRkbGV3YXJlXG4gICAgICovXG4gICAgUElYSS5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgPSBmdW5jdGlvbiBhZGRQaXhpTWlkZGxld2FyZShtaWRkbGV3YXJlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbicpO1xuICAgICAgICByZXR1cm4gUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZSgpIH0pO1xuICAgIH07XG4gICAgLy8gY29udmVuaWVuY2UgZm9yIGNvbnZlcnRpbmcgZXZlbnQgbmFtZSB0byBzaWduYWwgbmFtZVxuICAgIHZhciBldmVudFRvU2lnbmFsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBcIm9uXCIgKyBldmVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50LnNsaWNlKDEpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLkxvYWRlci5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZSB0aGUgY29ycmVzcG9uZGluZyBzaWduYWwsIGUuZy4sIGV2ZW50IGBzdGFydGBgIGlzIHNpZ25hbCBgb25TdGFydGAuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5Mb2FkZXIjb25cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG9uOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWduYWwgPSBldmVudFRvU2lnbmFsKGV2ZW50KTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuTG9hZGVyI29uIGlzIGNvbXBsZXRlbHkgZGVwcmVjYXRlZCwgdXNlIFBJWEkuTG9hZGVyI1wiICsgc2lnbmFsICsgXCIuYWRkXCIpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBjb3JyZXNwb25kaW5nIHNpZ25hbCwgZS5nLiwgZXZlbnQgYHN0YXJ0YGAgaXMgc2lnbmFsIGBvblN0YXJ0YC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvbmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBvbmNlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWduYWwgPSBldmVudFRvU2lnbmFsKGV2ZW50KTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuTG9hZGVyI29uY2UgaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjXCIgKyBzaWduYWwgKyBcIi5vbmNlXCIpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBjb3JyZXNwb25kaW5nIHNpZ25hbCwgZS5nLiwgZXZlbnQgYHN0YXJ0YGAgaXMgc2lnbmFsIGBvblN0YXJ0YC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvZmZcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG9mZjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2lnbmFsID0gZXZlbnRUb1NpZ25hbChldmVudCk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLkxvYWRlciNvZmYgaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjXCIgKyBzaWduYWwgKyBcIi5kZXRhY2hcIik7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3RcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuZXh0cmFjdCwgJ1dlYkdMRXh0cmFjdCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3QgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkV4dHJhY3QnKTtcbiAgICAgICAgICAgIHJldHVybiBQSVhJLkV4dHJhY3Q7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5QcmVwYXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkucHJlcGFyZSwgJ1dlYkdMUHJlcGFyZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUHJlcGFyZScpO1xuICAgICAgICAgICAgcmV0dXJuIFBJWEkuUHJlcGFyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI19yZW5kZXJXZWJHTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIuX3JlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIuX3JlbmRlcicpO1xuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlcicpO1xuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRGlzcGxheU9iamVjdC5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRGlzcGxheU9iamVjdC5yZW5kZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFdlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZFdlYkdMID0gZnVuY3Rpb24gcmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZCcpO1xuICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuc2V0dGluZ3MsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICB2YXIgQmFzZVRleHR1cmVBbnkgPSBQSVhJLkJhc2VUZXh0dXJlO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbG9hZFNvdXJjZVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlI1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKGltYWdlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5sb2FkU291cmNlIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkJyk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZShpbWFnZSk7XG4gICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICB2YXIgYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uID0gZmFsc2U7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmFzZVRleHR1cmVBbnkucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2hhc0xvYWRlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSN2YWxpZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTG9hZGVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaGFzTG9hZGVkIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnZhbGlkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNpbWFnZVVybFxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjdXJsXG4gICAgICAgICAqL1xuICAgICAgICBpbWFnZVVybDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5yZXNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVybDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3NvdXJjZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlI3NvdXJjZVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlLnNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2lmIHlvdSB3YW50IHRvIHNldCBIVE1MQ2FudmFzRWxlbWVudC4gT3RoZXJ3aXNlLCBjcmVhdGUgbmV3IEJhc2VUZXh0dXJlLicpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2Uuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5IGhhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAnXG4gICAgICAgICAgICAgICAgICAgICsgJywgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCdcbiAgICAgICAgICAgICAgICAgICAgKyAnLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoIGxvY2FsIGZpZWxkLCBzdG9yZXMgY3VycmVudCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjX2lkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNfYmF0Y2hMb2NhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlSWREZXByZWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyAjcG9wZWx5c2hldjogVGhhdCBwcm9wZXJ0eSB3YXMgYSBob3QgcGxhY2UsIEkgZG9uJ3Qgd2FudCB0byBjYWxsIGRlcHJlY2F0aW9uIG1ldGhvZCBvbiBpdCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5faWQgYmF0Y2ggbG9jYWwgZmllbGQgaGFzIGJlZW4gY2hhbmdlZCB0byBgX2JhdGNoTG9jYXRpb25gJyk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlSWREZXByZWNhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYXRjaExvY2F0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21JbWFnZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tQ2FudmFzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tQ2FudmFzIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21TVkdcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkuZnJvbVNWRyA9IGZ1bmN0aW9uIGZyb21TVkcoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbVNWRyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGU6IHNjYWxlLCBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4gfTtcbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlQW55LmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5ICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCwgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgJ1xuICAgICAgICAgICAgICAgICAgICArICdoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5Qb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUG9pbnQuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlBvaW50LmNvcHlGcm9tJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk9ic2VydmFibGVQb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHlGcm9tJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlY3RhbmdsZS5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUmVjdGFuZ2xlLmNvcHlGcm9tJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5NYXRyaXguY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk1hdHJpeC5jb3B5VG8nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weVRvKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0U3RhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjEuMFxuICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFxuICAgICAqL1xuICAgIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCd2NS4xLjAnLCAnU3RhdGVTeXN0ZW0uc2V0U3RhdGUgaGFzIGJlZW4gcmVuYW1lZCB0byBTdGF0ZVN5c3RlbS5zZXQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHMpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjZ2V0UmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIChfY2xlYXIsIHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmUnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZpbHRlclRleHR1cmUobnVsbCwgcmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNyZXR1cm5SZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI3JldHVybkZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIHJldHVyblJlbmRlclRhcmdldDogZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCAnXG4gICAgICAgICAgICAgICAgKyAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5yZXR1cm5GaWx0ZXJUZXh0dXJlJyk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gdGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiAob3V0cHV0TWF0cml4KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0uY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5YCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2ZVN0YXRlLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeDogZnVuY3Rpb24gKG91dHB1dE1hdHJpeCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnN5c3RlbXMuRmlsdGVyTWFuYWdlci5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCgodlRleHR1cmVDb29yZCAqIGlucHV0U2l6ZS54eSkgKyBvdXRwdXRGcmFtZS54eSkgLyBvdXRwdXRGcmFtZS56d2AgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVggPSAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHNvdXJjZUZyYW1lLndpZHRoKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVkgPSAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKHRyYW5zbGF0ZVNjYWxlWCwgdHJhbnNsYXRlU2NhbGVZKTtcbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2VGcmFtZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc291cmNlRnJhbWUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzaXplXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zaXplIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWEZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgdmFyIEJsdXJYRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQmx1clhGaWx0ZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1clhGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuICAgICAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkgfHwgdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmx1clhGaWx0ZXI7XG4gICAgfShQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MpKTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJsdXJZRmlsdGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBCbHVyWUZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJZRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcbiAgICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB8fCB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbHVyWUZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuICAgIE9iamVjdC5hc3NpZ24oUElYSS5maWx0ZXJzLCB7XG4gICAgICAgIEJsdXJYRmlsdGVyOiBCbHVyWEZpbHRlcixcbiAgICAgICAgQmx1cllGaWx0ZXI6IEJsdXJZRmlsdGVyLFxuICAgIH0pO1xuICAgIHZhciBTcHJpdGVBbnkgPSBQSVhJLlNwcml0ZSwgVGV4dHVyZUFueSA9IFBJWEkuVGV4dHVyZSwgR3JhcGhpY3NBbnkgPSBQSVhJLkdyYXBoaWNzO1xuICAgIC8vIFN1cHBvcnQgZm9yIHBpeGkuanMtbGVnYWN5IGJpZnVyY2F0aW9uXG4gICAgLy8gZ2l2ZSB1c2VycyBhIGZyaWVuZGx5IGFzc2lzdCB0byB1c2UgbGVnYWN5XG4gICAgaWYgKCFHcmFwaGljc0FueS5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKSB7XG4gICAgICAgIEdyYXBoaWNzQW55LnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ2VuZXJhdGVDYW52YXNUZXh0dXJlIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcInBpeGkuanMtbGVnYWN5XCInKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfSBQSVhJLkdyYXBoaWNzI2dyYXBoaWNzRGF0YVxuICAgICAqIEBzZWUgUElYSS5HcmFwaGljcyNnZW9tZXRyeVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0FueS5wcm90b3R5cGUsICdncmFwaGljc0RhdGEnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdyYXBoaWNzRGF0YSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5HcmFwaGljcy5nZW9tZXRyeS5ncmFwaGljc0RhdGEnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgU3ByaXRlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiBzcHJpdGVGcm9tKG5hbWUsIHNvdXJjZSwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLlNwcml0ZS5cIiArIG5hbWUgKyBcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuU3ByaXRlLmZyb21cIik7XG4gICAgICAgIHJldHVybiBTcHJpdGVBbnkuZnJvbShzb3VyY2UsIHtcbiAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUltYWdlID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tU1ZHID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUNhbnZhcyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbVZpZGVvID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21GcmFtZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFRleHR1cmUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHRleHR1cmVGcm9tKG5hbWUsIHNvdXJjZSwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLlRleHR1cmUuXCIgKyBuYW1lICsgXCIgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlRleHR1cmUuZnJvbVwiKTtcbiAgICAgICAgcmV0dXJuIFRleHR1cmVBbnkuZnJvbShzb3VyY2UsIHtcbiAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUltYWdlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21JbWFnZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tU1ZHID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tQ2FudmFzID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21WaWRlbyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21GcmFtZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn0gUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9SZXNpemVcbiAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvRGVuc2l0eVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCAnYXV0b1Jlc2l6ZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvRGVuc2l0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSBQSVhJLlJlbmRlcmVyI3RleHR1cmVNYW5hZ2VyXG4gICAgICogQHNlZSBQSVhJLlJlbmRlcmVyI3RleHR1cmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5SZW5kZXJlci5wcm90b3R5cGUsICd0ZXh0dXJlTWFuYWdlcicsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyZXIudGV4dHVyZU1hbmFnZXIgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuUmVuZGVyZXIudGV4dHVyZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnV0aWxzLm1peGlucyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gbWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG1peGluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLm1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gZGVsYXlNaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZGVsYXlNaXhpbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5kZWxheU1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGVyZm9ybU1peGluczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJpdG1hcFRleHRcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9IGZvbnRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkJpdG1hcFRleHQucHJvdG90eXBlLCAnZm9udCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBmb250TmFtZSwgZm9udFNpemUsIHRpbnQgb3IgYWxpZ24gcHJvcGVydGllcycpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9mb250TmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLl9mb250U2l6ZSxcbiAgICAgICAgICAgICAgICB0aW50OiB0aGlzLl90aW50LFxuICAgICAgICAgICAgICAgIGFsaWduOiB0aGlzLl9hbGlnbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBmb250TmFtZSwgZm9udFNpemUsIHRpbnQgb3IgYWxpZ24gcHJvcGVydGllcycpO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHsgZm9udDogdmFsdWUgfTtcbiAgICAgICAgICAgIHRoaXMuX3VwZ3JhZGVTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplIHx8IFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGVbc3R5bGUuZm9udE5hbWVdLnNpemU7XG4gICAgICAgICAgICB0aGlzLl9mb250TmFtZSA9IHN0eWxlLmZvbnROYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBFeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgUHJlcGFyZSk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYmF0Y2gnLCBCYXRjaFJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oQml0bWFwRm9udExvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oU3ByaXRlc2hlZXRMb2FkZXIpO1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSAnNS4zLjAnO1xuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXI6IEFscGhhRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXI6IEJsdXJGaWx0ZXIsXG4gICAgQmx1ckZpbHRlclBhc3M6IEJsdXJGaWx0ZXJQYXNzLFxuICAgIENvbG9yTWF0cml4RmlsdGVyOiBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXI6IERpc3BsYWNlbWVudEZpbHRlcixcbiAgICBGWEFBRmlsdGVyOiBGWEFBRmlsdGVyLFxuICAgIE5vaXNlRmlsdGVyOiBOb2lzZUZpbHRlcixcbn07XG5cbmV4cG9ydCB7IFZFUlNJT04sIGZpbHRlcnMsIHVzZURlcHJlY2F0ZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGkuZXMuanMubWFwXG4iLCJpbXBvcnQgeyBTdHJpbmdJbmRleGFibGUgfSBmcm9tIFwiLi91dGlsXCJcblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3IgZXh0ZW5kcyBTdHJpbmdJbmRleGFibGUge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc1ZlY3Rvcih4OiBudW1iZXIpOiBWZWN0b3Ige1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHggfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmNsYW1wKHY6IFZlY3RvciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogTWF0aC5taW4oTWF0aC5tYXgobWluLCB2LngpLCBtYXgpLFxuICAgICAgICB5OiBNYXRoLm1pbihNYXRoLm1heChtaW4sIHYueSksIG1heClcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHZhZGQodjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHYxLnggKyB2Mi54LFxuICAgICAgICB5OiB2MS55ICsgdjIueSxcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2c3ViKHYxOiBWZWN0b3IsIHYyOiBWZWN0b3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB2MS54IC0gdjIueCxcbiAgICAgICAgeTogdjEueSAtIHYyLnksXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdm11bCh2MTogVmVjdG9yLCB2MjogVmVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogdjEueCAqIHYyLngsXG4gICAgICAgIHk6IHYxLnkgKiB2Mi55LFxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZkaXYodjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHYxLnggLyB2Mi54LFxuICAgICAgICB5OiB2MS55IC8gdjIueSxcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHg6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG1pbiwgeCksIG1heClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0OiBudW1iZXIsIHN0b3A/OiBudW1iZXIsIHN0ZXA6IG51bWJlciA9IDEpIHtcbiAgICBpZiAoKHN0b3AgPT09IHVuZGVmaW5lZCkpe1xuICAgICAgICBzdG9wID0gc3RhcnRcbiAgICAgICAgc3RhcnQgPSAwXG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RvcDsgaSArPSBzdGVwKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbn0iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCJcbmltcG9ydCB7IFZlY3RvciwgYXNWZWN0b3IsIHZzdWIsIHZkaXYsIHZhZGQgfSBmcm9tIFwiLi9tYXRoXCJcblxuXG5leHBvcnQgY2xhc3MgQmFsbG9vbiB7XG4gICAgcHVibGljIHNwcml0ZTogUElYSS5TcHJpdGVcbiAgICBwdWJsaWMgc2NhbGVUYXJnZXQ6IFZlY3RvclxuICAgIHByaXZhdGUgc2NhbGVWZWxvY2l0eTogVmVjdG9yXG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IFBJWEkuQXBwbGljYXRpb24sIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICAvLyBDcmVhdGUgYSBzcHJpdGUgdGV4dHVyZVxuICAgICAgICBjb25zdCBiYWxsb29uVGV4dHVyZSA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgYmFsbG9vblRleHR1cmUuYmVnaW5GaWxsKDB4OGEwMDAwLCAxKVxuICAgICAgICBiYWxsb29uVGV4dHVyZS5kcmF3RWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICBiYWxsb29uVGV4dHVyZS5lbmRGaWxsKClcblxuICAgICAgICAvLyBDcmVhdGUgYSBzcHJpdGUgZnJvbSB0aGUgdGV4dHVyZVxuICAgICAgICBsZXQgYmFsbG9vbiA9IG5ldyBQSVhJLlNwcml0ZShcbiAgICAgICAgICAgIGFwcC5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUoXG4gICAgICAgICAgICAgICAgYmFsbG9vblRleHR1cmUsXG4gICAgICAgICAgICAgICAgUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgICAgIDIpXG4gICAgICAgIClcbiAgICAgICAgYmFsbG9vbi5hbmNob3Iuc2V0KDAuNSlcbiAgICAgICAgYmFsbG9vbi5wb3NpdGlvbi5zZXQoeCwgeSlcbiAgICAgICAgYmFsbG9vbi5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgYmFsbG9vbi5idXR0b25Nb2RlID0gdHJ1ZVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgc3ByaXRlL2FuaW1hdGlvblxuICAgICAgICB0aGlzLnNwcml0ZSA9IGJhbGxvb25cbiAgICAgICAgdGhpcy5zY2FsZVRhcmdldCA9IGJhbGxvb24uc2NhbGVcbiAgICAgICAgdGhpcy5zY2FsZVZlbG9jaXR5ID0geyB4OiAwLCB5OiAwIH1cblxuICAgICAgICAvLyBBZGQgdGhlIHNwcml0ZSB0byB0aGUgc3RhZ2VcbiAgICAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuc3ByaXRlKVxuICAgIH1cblxuICAgIHNjYWxlKHRhcmdldDogVmVjdG9yLCBkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2NhbGVUYXJnZXQgPSB0YXJnZXRcbiAgICAgICAgdGhpcy5zY2FsZVZlbG9jaXR5ID0gdmRpdih2c3ViKHRhcmdldCwgdGhpcy5zcHJpdGUuc2NhbGUpLCBhc1ZlY3RvcihkdXJhdGlvbikpXG4gICAgfVxuXG4gICAgdGljaygpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB2c3ViKHRoaXMuc2NhbGVUYXJnZXQsIHRoaXMuc3ByaXRlLnNjYWxlKVxuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UueCkgPCBNYXRoLmFicyh0aGlzLnNjYWxlVmVsb2NpdHkueCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVWZWxvY2l0eS54ID0gZGlzdGFuY2UueFxuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZS55KSA8IE1hdGguYWJzKHRoaXMuc2NhbGVWZWxvY2l0eS55KSkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZVZlbG9jaXR5LnggPSBkaXN0YW5jZS55XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NhbGUgPSB2YWRkKHRoaXMuc3ByaXRlLnNjYWxlLCB0aGlzLnNjYWxlVmVsb2NpdHkpXG4gICAgICAgIHRoaXMuc3ByaXRlLnNjYWxlLnNldChzY2FsZS54LCBzY2FsZS55KVxuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgVmFsdWVTbGlkZXIge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIHRhZ1ByZWZpeDogc3RyaW5nXG4gICAgdmFsdWVzOiBhbnlbXVxuICAgIHZhbHVlOiBhbnlcbiAgICBpOiBudW1iZXJcbiAgICBkZWZhdWx0STogbnVtYmVyXG4gICAgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxuICAgIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50XG4gICAgbGFiZWw/OiBIVE1MTGFiZWxFbGVtZW50XG4gICAgdmFsdWVEaXNwbGF5PzogSFRNTFNwYW5FbGVtZW50XG4gICAgY2FsbGJhY2s/OiBGdW5jdGlvblxuXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBIVE1MRWxlbWVudCwgbmFtZTogc3RyaW5nLCB2YWx1ZXM6IGFueVtdLCBjYWxsYmFjaz86IEZ1bmN0aW9uLFxuICAgICAgICBkZWZhdWx0STogbnVtYmVyID0gMCwgdGFnUHJlZml4Pzogc3RyaW5nLCBsYWJlbDogYm9vbGVhbiA9IHRydWUsXG4gICAgICAgIHZhbHVlRGlzcGxheTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgICAgICB0aGlzLnRhZ1ByZWZpeCA9IHRhZ1ByZWZpeCB8fCBuYW1lLnJlcGxhY2UoJyAnLCAnLScpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXNcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlc1tkZWZhdWx0SV1cbiAgICAgICAgdGhpcy5pID0gZGVmYXVsdElcbiAgICAgICAgdGhpcy5kZWZhdWx0SSA9IGRlZmF1bHRJXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgdGhpcy5jb250YWluZXIuaWQgPSBgJHt0aGlzLnRhZ1ByZWZpeH0tY29udGFpbmVyYFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzbGlkZXItY29udGFpbmVyJylcblxuICAgICAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgICAgICB0aGlzLmlucHV0LnR5cGUgPSAncmFuZ2UnXG4gICAgICAgIHRoaXMuaW5wdXQuaWQgPSBgJHt0aGlzLnRhZ1ByZWZpeH0taW5wdXRgXG4gICAgICAgIHRoaXMuaW5wdXQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyLWlucHV0JylcbiAgICAgICAgdGhpcy5pbnB1dC5taW4gPSAnMCdcbiAgICAgICAgdGhpcy5pbnB1dC5tYXggPSAodGhpcy52YWx1ZXMubGVuZ3RoIC0gMSkudG9TdHJpbmcoKVxuICAgICAgICB0aGlzLmlucHV0LnN0ZXAgPSAnMSdcbiAgICAgICAgdGhpcy5pbnB1dC5kZWZhdWx0VmFsdWUgPSB0aGlzLmRlZmF1bHRJLnRvU3RyaW5nKClcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldikgPT4gdGhpcy5vbklucHV0KGV2KSlcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmlkID0gYCR7dGhpcy50YWdQcmVmaXh9LWxhYmVsYFxuICAgICAgICAgICAgdGhpcy5pbnB1dC5jbGFzc0xpc3QuYWRkKCdzbGlkZXItbGFiZWwnKVxuICAgICAgICAgICAgdGhpcy5sYWJlbC5odG1sRm9yID0gdGhpcy5pbnB1dC5pZFxuICAgICAgICAgICAgdGhpcy5sYWJlbC5pbm5lckhUTUwgPSB0aGlzLm5hbWVcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubGFiZWwpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5pbnB1dClcblxuICAgICAgICBpZiAodmFsdWVEaXNwbGF5KSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgICAgICAgICAgdGhpcy52YWx1ZURpc3BsYXkuaWQgPSBgJHt0aGlzLnRhZ1ByZWZpeH0tdmFsdWVgXG4gICAgICAgICAgICB0aGlzLnZhbHVlRGlzcGxheS5jbGFzc0xpc3QuYWRkKCdzbGlkZXItdmFsdWUnKVxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52YWx1ZURpc3BsYXkpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5pKVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXG4gICAgfVxuXG4gICAgc2VsZWN0KGk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmkgPSBpXG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlc1tpXVxuICAgICAgICBpZiAodGhpcy52YWx1ZURpc3BsYXkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVEaXNwbGF5LmlubmVySFRNTCA9IHRoaXMudmFsdWUudG9TdHJpbmcoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25JbnB1dChldjogRXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QocGFyc2VJbnQodGhpcy5pbnB1dC52YWx1ZSkpXG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMsIGV2KVxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIlxuaW1wb3J0IHsgU3RyaW5nSW5kZXhhYmxlIH0gZnJvbSBcIi4vdXRpbFwiXG5pbXBvcnQgeyBjbGFtcCwgcmFuZ2UgfSBmcm9tIFwiLi9tYXRoXCJcbmltcG9ydCB7IEJhbGxvb24gfSBmcm9tIFwiLi9iYWxsb29uXCJcbmltcG9ydCB7IFZhbHVlU2xpZGVyIH0gZnJvbSBcIi4vdWlcIlxuXG5cbi8vIEluaXRpYWxpemUgc2ltdWxhdGlvbiBwYXJhbWV0ZXJzXG5sZXQgc2ltUGFyYW1zOiBTdHJpbmdJbmRleGFibGUgPSB7XG4gICAgaW5mZWN0ZWRQb3B1bGF0aW9uOiAxLixcbiAgICBpbmZlY3Rpb25SYXRlOiAxLixcbiAgICByZW1vdmFsUmF0ZTogMC4sXG4gICAgbWF4SW5mZWN0ZWQ6IDQuLFxuICAgIG1pbkluZmVjdGVkOiAwLjA1LFxufVxubGV0IGFuaW1QYXJhbXMgPSB7XG4gICAgdGlja3NQZXJTdGVwOiA0NSxcbiAgICB0aWNrc1NpbmNlOiAwLFxufVxuXG5cbmNvbnN0IGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJykhXG5jb25zdCBjb250cm9sc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250cm9scy1jb250YWluZXInKSFcblxuY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oe1xuICAgIHJlc2l6ZVRvOiBjYW52YXNDb250YWluZXIsXG4gICAgYmFja2dyb3VuZENvbG9yOiAweEZGRkZGRixcbiAgICByZXNvbHV0aW9uOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLFxuICAgIGFudGlhbGlhczogdHJ1ZSxcbn0pXG5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpXG5cblxuLy8gU2V0dXAgU2xpZGVyc1xuY29uc3QgaW5mZWN0aW9uUmF0ZVNsaWRlciA9IG5ldyBWYWx1ZVNsaWRlcihcbiAgICBjb250cm9sc0NvbnRhaW5lcixcbiAgICBcIkluZmVjdGlvbiBSYXRlXCIsXG4gICAgcmFuZ2UoMSwgMywgMC4xKS5tYXAoeCA9PiB4LnRvRml4ZWQoMikpLFxuICAgIGZ1bmN0aW9uIChzbGlkZXI6IFZhbHVlU2xpZGVyLCBldjogSW5wdXRFdmVudCkge1xuICAgICAgICBzaW1QYXJhbXNbJ2luZmVjdGlvblJhdGUnXSA9IHNsaWRlci52YWx1ZVxuICAgIH0pXG5jb25zdCByZW1vdmFsUmF0ZVNsaWRlciA9IG5ldyBWYWx1ZVNsaWRlcihcbiAgICBjb250cm9sc0NvbnRhaW5lcixcbiAgICBcIlJlbW92YWwgUmF0ZVwiLFxuICAgIHJhbmdlKDAsIDMsIDAuMSkubWFwKHggPT4geC50b0ZpeGVkKDIpKSxcbiAgICBmdW5jdGlvbiAoc2xpZGVyOiBWYWx1ZVNsaWRlciwgZXY6IElucHV0RXZlbnQpIHtcbiAgICAgICAgc2ltUGFyYW1zWydyZW1vdmFsUmF0ZSddID0gc2xpZGVyLnZhbHVlXG4gICAgfSlcblxuXG5cblxuLy8gQ3JlYXRlIGJhbGxvb25cbmNvbnN0IGNlbnRlclggPSBNYXRoLnJvdW5kKGFwcC5zY3JlZW4ud2lkdGggLyAyKVxuY29uc3QgY2VudGVyWSA9IE1hdGgucm91bmQoYXBwLnNjcmVlbi5oZWlnaHQgLyAyKVxuY29uc3QgYmFsbG9vbiA9IG5ldyBCYWxsb29uKGFwcCwgY2VudGVyWCwgY2VudGVyWSwgNTAsIDUwKVxuXG5cbmZ1bmN0aW9uIGR5bmFtaWNzKGRlbHRhOiBudW1iZXIpIHtcbiAgICBpZiAoKGFuaW1QYXJhbXMudGlja3NTaW5jZSArIGRlbHRhKSA+IGFuaW1QYXJhbXMudGlja3NQZXJTdGVwKSB7XG4gICAgICAgIGFuaW1QYXJhbXMudGlja3NTaW5jZSA9IDBcbiAgICAgICAgbGV0IG5ld0luZmVjdGVkUG9wID0gKFxuICAgICAgICAgICAgc2ltUGFyYW1zLmluZmVjdGVkUG9wdWxhdGlvbiAqIHNpbVBhcmFtcy5pbmZlY3Rpb25SYXRlIC0gc2ltUGFyYW1zLnJlbW92YWxSYXRlKVxuICAgICAgICBzaW1QYXJhbXMuaW5mZWN0ZWRQb3B1bGF0aW9uID0gY2xhbXAobmV3SW5mZWN0ZWRQb3AsIHNpbVBhcmFtcy5taW5JbmZlY3RlZCwgc2ltUGFyYW1zLm1heEluZmVjdGVkKVxuICAgICAgICBiYWxsb29uLnNjYWxlKHtcbiAgICAgICAgICAgIHg6IHNpbVBhcmFtcy5pbmZlY3RlZFBvcHVsYXRpb24sXG4gICAgICAgICAgICB5OiBzaW1QYXJhbXMuaW5mZWN0ZWRQb3B1bGF0aW9uXG4gICAgICAgIH0sIGFuaW1QYXJhbXMudGlja3NQZXJTdGVwKVxuICAgIH1cbiAgICBhbmltUGFyYW1zLnRpY2tzU2luY2UgKz0gMTtcbiAgICBiYWxsb29uLnRpY2soKVxufVxuXG5cbi8vIEhhbmRsZSB3aW5kb3cgc2l6aW5nXG5mdW5jdGlvbiByZXNpemUoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gYXBwLnZpZXcucGFyZW50RWxlbWVudCFcbiAgICBjb25zdCB3aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aFxuICAgIGNvbnN0IGhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHRcbiAgICBhcHAudmlldy53aWR0aCA9IHdpZHRoXG4gICAgYXBwLnZpZXcuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGBcbiAgICBhcHAudmlldy5oZWlnaHQgPSBoZWlnaHRcbiAgICBhcHAudmlldy5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgXG4gICAgYXBwLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KVxuICAgIGJhbGxvb24uc3ByaXRlLnBvc2l0aW9uLnNldChNYXRoLnJvdW5kKGFwcC5zY3JlZW4ud2lkdGggLyAyKSwgTWF0aC5yb3VuZChhcHAuc2NyZWVuLmhlaWdodCAvIDIpKVxufVxuXG5cblxuLy8gU3RhcnRcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIHJlc2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSlcbiAgICBhcHAudGlja2VyLmFkZChkeW5hbWljcylcbn0pXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==